(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function vp(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var hm={exports:{}},Nl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function Zw(){if(qv)return Nl;qv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,l){var h=null;if(l!==void 0&&(h=""+l),o.key!==void 0&&(h=""+o.key),"key"in o){l={};for(var m in o)m!=="key"&&(l[m]=o[m])}else l=o;return o=l.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:l}}return Nl.Fragment=e,Nl.jsx=t,Nl.jsxs=t,Nl}var Hv;function Ww(){return Hv||(Hv=1,hm.exports=Zw()),hm.exports}var x=Ww(),fm={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv;function e1(){if(Fv)return Ie;Fv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function S(P){return P===null||typeof P!="object"?null:(P=T&&P[T]||P["@@iterator"],typeof P=="function"?P:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,k={};function O(P,se,he){this.props=P,this.context=se,this.refs=k,this.updater=he||I}O.prototype.isReactComponent={},O.prototype.setState=function(P,se){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,se,"setState")},O.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function q(){}q.prototype=O.prototype;function J(P,se,he){this.props=P,this.context=se,this.refs=k,this.updater=he||I}var H=J.prototype=new q;H.constructor=J,R(H,O.prototype),H.isPureReactComponent=!0;var re=Array.isArray,ee={H:null,A:null,T:null,S:null,V:null},ae=Object.prototype.hasOwnProperty;function D(P,se,he,le,ge,Ne){return he=Ne.ref,{$$typeof:i,type:P,key:se,ref:he!==void 0?he:null,props:Ne}}function w(P,se){return D(P.type,se,void 0,void 0,void 0,P.props)}function C(P){return typeof P=="object"&&P!==null&&P.$$typeof===i}function V(P){var se={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(he){return se[he]})}var L=/\/+/g;function B(P,se){return typeof P=="object"&&P!==null&&P.key!=null?V(""+P.key):se.toString(36)}function M(){}function ot(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(M,M):(P.status="pending",P.then(function(se){P.status==="pending"&&(P.status="fulfilled",P.value=se)},function(se){P.status==="pending"&&(P.status="rejected",P.reason=se)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function tt(P,se,he,le,ge){var Ne=typeof P;(Ne==="undefined"||Ne==="boolean")&&(P=null);var Ae=!1;if(P===null)Ae=!0;else switch(Ne){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(P.$$typeof){case i:case e:Ae=!0;break;case _:return Ae=P._init,tt(Ae(P._payload),se,he,le,ge)}}if(Ae)return ge=ge(P),Ae=le===""?"."+B(P,0):le,re(ge)?(he="",Ae!=null&&(he=Ae.replace(L,"$&/")+"/"),tt(ge,se,he,"",function(Wn){return Wn})):ge!=null&&(C(ge)&&(ge=w(ge,he+(ge.key==null||P&&P.key===ge.key?"":(""+ge.key).replace(L,"$&/")+"/")+Ae)),se.push(ge)),1;Ae=0;var Mt=le===""?".":le+":";if(re(P))for(var it=0;it<P.length;it++)le=P[it],Ne=Mt+B(le,it),Ae+=tt(le,se,he,Ne,ge);else if(it=S(P),typeof it=="function")for(P=it.call(P),it=0;!(le=P.next()).done;)le=le.value,Ne=Mt+B(le,it++),Ae+=tt(le,se,he,Ne,ge);else if(Ne==="object"){if(typeof P.then=="function")return tt(ot(P),se,he,le,ge);throw se=String(P),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function Z(P,se,he){if(P==null)return P;var le=[],ge=0;return tt(P,le,"","",function(Ne){return se.call(he,Ne,ge++)}),le}function ce(P){if(P._status===-1){var se=P._result;se=se(),se.then(function(he){(P._status===0||P._status===-1)&&(P._status=1,P._result=he)},function(he){(P._status===0||P._status===-1)&&(P._status=2,P._result=he)}),P._status===-1&&(P._status=0,P._result=se)}if(P._status===1)return P._result.default;throw P._result}var pe=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function He(){}return Ie.Children={map:Z,forEach:function(P,se,he){Z(P,function(){se.apply(this,arguments)},he)},count:function(P){var se=0;return Z(P,function(){se++}),se},toArray:function(P){return Z(P,function(se){return se})||[]},only:function(P){if(!C(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Ie.Component=O,Ie.Fragment=t,Ie.Profiler=o,Ie.PureComponent=J,Ie.StrictMode=s,Ie.Suspense=g,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(P){return ee.H.useMemoCache(P)}},Ie.cache=function(P){return function(){return P.apply(null,arguments)}},Ie.cloneElement=function(P,se,he){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var le=R({},P.props),ge=P.key,Ne=void 0;if(se!=null)for(Ae in se.ref!==void 0&&(Ne=void 0),se.key!==void 0&&(ge=""+se.key),se)!ae.call(se,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&se.ref===void 0||(le[Ae]=se[Ae]);var Ae=arguments.length-2;if(Ae===1)le.children=he;else if(1<Ae){for(var Mt=Array(Ae),it=0;it<Ae;it++)Mt[it]=arguments[it+2];le.children=Mt}return D(P.type,ge,void 0,void 0,Ne,le)},Ie.createContext=function(P){return P={$$typeof:h,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:l,_context:P},P},Ie.createElement=function(P,se,he){var le,ge={},Ne=null;if(se!=null)for(le in se.key!==void 0&&(Ne=""+se.key),se)ae.call(se,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ge[le]=se[le]);var Ae=arguments.length-2;if(Ae===1)ge.children=he;else if(1<Ae){for(var Mt=Array(Ae),it=0;it<Ae;it++)Mt[it]=arguments[it+2];ge.children=Mt}if(P&&P.defaultProps)for(le in Ae=P.defaultProps,Ae)ge[le]===void 0&&(ge[le]=Ae[le]);return D(P,Ne,void 0,void 0,null,ge)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(P){return{$$typeof:m,render:P}},Ie.isValidElement=C,Ie.lazy=function(P){return{$$typeof:_,_payload:{_status:-1,_result:P},_init:ce}},Ie.memo=function(P,se){return{$$typeof:p,type:P,compare:se===void 0?null:se}},Ie.startTransition=function(P){var se=ee.T,he={};ee.T=he;try{var le=P(),ge=ee.S;ge!==null&&ge(he,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(He,pe)}catch(Ne){pe(Ne)}finally{ee.T=se}},Ie.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},Ie.use=function(P){return ee.H.use(P)},Ie.useActionState=function(P,se,he){return ee.H.useActionState(P,se,he)},Ie.useCallback=function(P,se){return ee.H.useCallback(P,se)},Ie.useContext=function(P){return ee.H.useContext(P)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(P,se){return ee.H.useDeferredValue(P,se)},Ie.useEffect=function(P,se,he){var le=ee.H;if(typeof he=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(P,se)},Ie.useId=function(){return ee.H.useId()},Ie.useImperativeHandle=function(P,se,he){return ee.H.useImperativeHandle(P,se,he)},Ie.useInsertionEffect=function(P,se){return ee.H.useInsertionEffect(P,se)},Ie.useLayoutEffect=function(P,se){return ee.H.useLayoutEffect(P,se)},Ie.useMemo=function(P,se){return ee.H.useMemo(P,se)},Ie.useOptimistic=function(P,se){return ee.H.useOptimistic(P,se)},Ie.useReducer=function(P,se,he){return ee.H.useReducer(P,se,he)},Ie.useRef=function(P){return ee.H.useRef(P)},Ie.useState=function(P){return ee.H.useState(P)},Ie.useSyncExternalStore=function(P,se,he){return ee.H.useSyncExternalStore(P,se,he)},Ie.useTransition=function(){return ee.H.useTransition()},Ie.version="19.1.0",Ie}var Gv;function Ep(){return Gv||(Gv=1,fm.exports=e1()),fm.exports}var j=Ep();const et=vp(j);var dm={exports:{}},xl={},mm={exports:{}},pm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v;function t1(){return $v||($v=1,function(i){function e(Z,ce){var pe=Z.length;Z.push(ce);e:for(;0<pe;){var He=pe-1>>>1,P=Z[He];if(0<o(P,ce))Z[He]=ce,Z[pe]=P,pe=He;else break e}}function t(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var ce=Z[0],pe=Z.pop();if(pe!==ce){Z[0]=pe;e:for(var He=0,P=Z.length,se=P>>>1;He<se;){var he=2*(He+1)-1,le=Z[he],ge=he+1,Ne=Z[ge];if(0>o(le,pe))ge<P&&0>o(Ne,le)?(Z[He]=Ne,Z[ge]=pe,He=ge):(Z[He]=le,Z[he]=pe,He=he);else if(ge<P&&0>o(Ne,pe))Z[He]=Ne,Z[ge]=pe,He=ge;else break e}}return ce}function o(Z,ce){var pe=Z.sortIndex-ce.sortIndex;return pe!==0?pe:Z.id-ce.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var g=[],p=[],_=1,T=null,S=3,I=!1,R=!1,k=!1,O=!1,q=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function re(Z){for(var ce=t(p);ce!==null;){if(ce.callback===null)s(p);else if(ce.startTime<=Z)s(p),ce.sortIndex=ce.expirationTime,e(g,ce);else break;ce=t(p)}}function ee(Z){if(k=!1,re(Z),!R)if(t(g)!==null)R=!0,ae||(ae=!0,B());else{var ce=t(p);ce!==null&&tt(ee,ce.startTime-Z)}}var ae=!1,D=-1,w=5,C=-1;function V(){return O?!0:!(i.unstable_now()-C<w)}function L(){if(O=!1,ae){var Z=i.unstable_now();C=Z;var ce=!0;try{e:{R=!1,k&&(k=!1,J(D),D=-1),I=!0;var pe=S;try{t:{for(re(Z),T=t(g);T!==null&&!(T.expirationTime>Z&&V());){var He=T.callback;if(typeof He=="function"){T.callback=null,S=T.priorityLevel;var P=He(T.expirationTime<=Z);if(Z=i.unstable_now(),typeof P=="function"){T.callback=P,re(Z),ce=!0;break t}T===t(g)&&s(g),re(Z)}else s(g);T=t(g)}if(T!==null)ce=!0;else{var se=t(p);se!==null&&tt(ee,se.startTime-Z),ce=!1}}break e}finally{T=null,S=pe,I=!1}ce=void 0}}finally{ce?B():ae=!1}}}var B;if(typeof H=="function")B=function(){H(L)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,ot=M.port2;M.port1.onmessage=L,B=function(){ot.postMessage(null)}}else B=function(){q(L,0)};function tt(Z,ce){D=q(function(){Z(i.unstable_now())},ce)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Z){Z.callback=null},i.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Z?Math.floor(1e3/Z):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(Z){switch(S){case 1:case 2:case 3:var ce=3;break;default:ce=S}var pe=S;S=ce;try{return Z()}finally{S=pe}},i.unstable_requestPaint=function(){O=!0},i.unstable_runWithPriority=function(Z,ce){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var pe=S;S=Z;try{return ce()}finally{S=pe}},i.unstable_scheduleCallback=function(Z,ce,pe){var He=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?He+pe:He):pe=He,Z){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=pe+P,Z={id:_++,callback:ce,priorityLevel:Z,startTime:pe,expirationTime:P,sortIndex:-1},pe>He?(Z.sortIndex=pe,e(p,Z),t(g)===null&&Z===t(p)&&(k?(J(D),D=-1):k=!0,tt(ee,pe-He))):(Z.sortIndex=P,e(g,Z),R||I||(R=!0,ae||(ae=!0,B()))),Z},i.unstable_shouldYield=V,i.unstable_wrapCallback=function(Z){var ce=S;return function(){var pe=S;S=ce;try{return Z.apply(this,arguments)}finally{S=pe}}}}(pm)),pm}var Kv;function n1(){return Kv||(Kv=1,mm.exports=t1()),mm.exports}var gm={exports:{}},Jt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv;function i1(){if(Qv)return Jt;Qv=1;var i=Ep();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(g,p,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:g,containerInfo:p,implementation:_}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Jt.createPortal=function(g,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(g,p,null,_)},Jt.flushSync=function(g){var p=h.T,_=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=p,s.p=_,s.d.f()}},Jt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},Jt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Jt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var _=p.as,T=m(_,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,I=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:I}):_==="script"&&s.d.X(g,{crossOrigin:T,integrity:S,fetchPriority:I,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Jt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},Jt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,T=m(_,p.crossOrigin);s.d.L(g,_,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Jt.preloadModule=function(g,p){if(typeof g=="string")if(p){var _=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},Jt.requestFormReset=function(g){s.d.r(g)},Jt.unstable_batchedUpdates=function(g,p){return g(p)},Jt.useFormState=function(g,p,_){return h.H.useFormState(g,p,_)},Jt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Jt.version="19.1.0",Jt}var Yv;function r1(){if(Yv)return gm.exports;Yv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),gm.exports=i1(),gm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xv;function s1(){if(Xv)return xl;Xv=1;var i=n1(),e=Ep(),t=r1();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function h(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(l(n)!==n)throw Error(s(188))}function g(n){var r=n.alternate;if(!r){if(r=l(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,u=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),n;if(d===u)return m(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==u.return)a=f,u=d;else{for(var E=!1,b=f.child;b;){if(b===a){E=!0,a=f,u=d;break}if(b===u){E=!0,u=f,a=d;break}b=b.sibling}if(!E){for(b=d.child;b;){if(b===a){E=!0,a=d,u=f;break}if(b===u){E=!0,u=d,a=f;break}b=b.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function p(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=p(n),r!==null)return r;n=n.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),J=Symbol.for("react.consumer"),H=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function B(n){return n===null||typeof n!="object"?null:(n=L&&n[L]||n["@@iterator"],typeof n=="function"?n:null)}var M=Symbol.for("react.client.reference");function ot(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===M?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case R:return"Fragment";case O:return"Profiler";case k:return"StrictMode";case ee:return"Suspense";case ae:return"SuspenseList";case C:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case I:return"Portal";case H:return(n.displayName||"Context")+".Provider";case J:return(n._context.displayName||"Context")+".Consumer";case re:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case D:return r=n.displayName||null,r!==null?r:ot(n.type)||"Memo";case w:r=n._payload,n=n._init;try{return ot(n(r))}catch{}}return null}var tt=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},He=[],P=-1;function se(n){return{current:n}}function he(n){0>P||(n.current=He[P],He[P]=null,P--)}function le(n,r){P++,He[P]=n.current,n.current=r}var ge=se(null),Ne=se(null),Ae=se(null),Mt=se(null);function it(n,r){switch(le(Ae,r),le(Ne,n),le(ge,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?gv(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=gv(r),n=yv(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}he(ge),le(ge,n)}function Wn(){he(ge),he(Ne),he(Ae)}function ur(n){n.memoizedState!==null&&le(Mt,n);var r=ge.current,a=yv(r,n.type);r!==a&&(le(Ne,n),le(ge,a))}function Ci(n){Ne.current===n&&(he(ge),he(Ne)),Mt.current===n&&(he(Mt),Rl._currentValue=pe)}var ns=Object.prototype.hasOwnProperty,is=i.unstable_scheduleCallback,rs=i.unstable_cancelCallback,bo=i.unstable_shouldYield,_u=i.unstable_requestPaint,In=i.unstable_now,hf=i.unstable_getCurrentPriorityLevel,Ao=i.unstable_ImmediatePriority,ta=i.unstable_UserBlockingPriority,ss=i.unstable_NormalPriority,ff=i.unstable_LowPriority,na=i.unstable_IdlePriority,wo=i.log,vu=i.unstable_setDisableYieldValue,ht=null,Ke=null;function yn(n){if(typeof wo=="function"&&vu(n),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(ht,n)}catch{}}var Yt=Math.clz32?Math.clz32:as,Eu=Math.log,df=Math.LN2;function as(n){return n>>>=0,n===0?32:31-(Eu(n)/df|0)|0}var os=256,ls=4194304;function qn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ia(n,r,a){var u=n.pendingLanes;if(u===0)return 0;var f=0,d=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var b=u&134217727;return b!==0?(u=b&~d,u!==0?f=qn(u):(E&=b,E!==0?f=qn(E):a||(a=b&~n,a!==0&&(f=qn(a))))):(b=u&~d,b!==0?f=qn(b):E!==0?f=qn(E):a||(a=u&~n,a!==0&&(f=qn(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function us(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Ro(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Co(){var n=os;return os<<=1,(os&4194048)===0&&(os=256),n}function Io(){var n=ls;return ls<<=1,(ls&62914560)===0&&(ls=4194304),n}function Ii(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Oi(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Oo(n,r,a,u,f,d){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var b=n.entanglements,N=n.expirationTimes,$=n.hiddenUpdates;for(a=E&~a;0<a;){var W=31-Yt(a),ne=1<<W;b[W]=0,N[W]=-1;var K=$[W];if(K!==null)for($[W]=null,W=0;W<K.length;W++){var Q=K[W];Q!==null&&(Q.lane&=-536870913)}a&=~ne}u!==0&&ei(n,u,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(E&~r))}function ei(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var u=31-Yt(r);n.entangledLanes|=r,n.entanglements[u]=n.entanglements[u]|1073741824|a&4194090}function Do(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var u=31-Yt(a),f=1<<u;f&r|n[u]&r&&(n[u]|=r),a&=~f}}function cr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ra(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function hr(){var n=ce.p;return n!==0?n:(n=window.event,n===void 0?32:kv(n.type))}function Tu(n,r){var a=ce.p;try{return ce.p=n,r()}finally{ce.p=a}}var st=Math.random().toString(36).slice(2),At="__reactFiber$"+st,vt="__reactProps$"+st,On="__reactContainer$"+st,No="__reactEvents$"+st,mf="__reactListeners$"+st,fr="__reactHandles$"+st,Su="__reactResources$"+st,cs="__reactMarker$"+st;function dr(n){delete n[At],delete n[vt],delete n[No],delete n[mf],delete n[fr]}function Di(n){var r=n[At];if(r)return r;for(var a=n.parentNode;a;){if(r=a[On]||a[At]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=Tv(n);n!==null;){if(a=n[At])return a;n=Tv(n)}return r}n=a,a=n.parentNode}return null}function ti(n){if(n=n[At]||n[On]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function ni(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function sn(n){var r=n[Su];return r||(r=n[Su]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function pt(n){n[cs]=!0}var xo=new Set,sa={};function Hn(n,r){Ni(n,r),Ni(n+"Capture",r)}function Ni(n,r){for(sa[n]=r,n=0;n<r.length;n++)xo.add(r[n])}var bu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Au={},hs={};function wu(n){return ns.call(hs,n)?!0:ns.call(Au,n)?!1:bu.test(n)?hs[n]=!0:(Au[n]=!0,!1)}function mr(n,r,a){if(wu(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function ii(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Bt(n,r,a,u){if(u===null)n.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+u)}}var fs,Ru;function xi(n){if(fs===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);fs=r&&r[1]||"",Ru=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fs+n+Ru}var aa=!1;function oa(n,r){if(!n||aa)return"";aa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(Q){var K=Q}Reflect.construct(n,[],ne)}else{try{ne.call()}catch(Q){K=Q}n.call(ne.prototype)}}else{try{throw Error()}catch(Q){K=Q}(ne=n())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(Q){if(Q&&K&&typeof Q.stack=="string")return[Q.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=u.DetermineComponentFrameRoot(),E=d[0],b=d[1];if(E&&b){var N=E.split(`
`),$=b.split(`
`);for(f=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;f<$.length&&!$[f].includes("DetermineComponentFrameRoot");)f++;if(u===N.length||f===$.length)for(u=N.length-1,f=$.length-1;1<=u&&0<=f&&N[u]!==$[f];)f--;for(;1<=u&&0<=f;u--,f--)if(N[u]!==$[f]){if(u!==1||f!==1)do if(u--,f--,0>f||N[u]!==$[f]){var W=`
`+N[u].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=u&&0<=f);break}}}finally{aa=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?xi(a):""}function Mo(n){switch(n.tag){case 26:case 27:case 5:return xi(n.type);case 16:return xi("Lazy");case 13:return xi("Suspense");case 19:return xi("SuspenseList");case 0:case 15:return oa(n.type,!1);case 11:return oa(n.type.render,!1);case 1:return oa(n.type,!0);case 31:return xi("Activity");default:return""}}function la(n){try{var r="";do r+=Mo(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function an(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Vo(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function pf(n){var r=Vo(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),u=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,d.call(this,E)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function ua(n){n._valueTracker||(n._valueTracker=pf(n))}function Po(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),u="";return n&&(u=Vo(n)?n.checked?"true":"false":n.value),n=u,n!==a?(r.setValue(n),!0):!1}function ds(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var gf=/[\n"\\]/g;function Et(n){return n.replace(gf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function _n(n,r,a,u,f,d,E,b){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),r!=null?E==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+an(r)):n.value!==""+an(r)&&(n.value=""+an(r)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),r!=null?pr(n,E,an(r)):a!=null?pr(n,E,an(a)):u!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+an(b):n.removeAttribute("name")}function ms(n,r,a,u,f,d,E,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+an(a):"",r=r!=null?""+an(r):a,b||r===n.value||(n.value=r),n.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=b?n.checked:!!u,n.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function pr(n,r,a){r==="number"&&ds(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Mi(n,r,a,u){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&u&&(n[a].defaultSelected=!0)}else{for(a=""+an(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function Xe(n,r,a){if(r!=null&&(r=""+an(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+an(a):""}function ps(n,r,a,u){if(r==null){if(u!=null){if(a!=null)throw Error(s(92));if(tt(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),r=a}a=an(r),n.defaultValue=a,u=n.textContent,u===a&&u!==""&&u!==null&&(n.value=u)}function Dn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var gs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cu(n,r,a){var u=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":u?n.setProperty(r,a):typeof a!="number"||a===0||gs.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function ko(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&a[f]!==u&&Cu(n,f,u)}else for(var d in r)r.hasOwnProperty(d)&&Cu(n,d,r[d])}function Uo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_f=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ca(n){return _f.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Vi=null;function Nn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Pi=null,ki=null;function Lo(n){var r=ti(n);if(r&&(n=r.stateNode)){var a=n[vt]||null;e:switch(n=r.stateNode,r.type){case"input":if(_n(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Et(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var u=a[r];if(u!==n&&u.form===n.form){var f=u[vt]||null;if(!f)throw Error(s(90));_n(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)u=a[r],u.form===n.form&&Po(u)}break e;case"textarea":Xe(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Mi(n,!!a.multiple,r,!1)}}}var ri=!1;function Iu(n,r,a){if(ri)return n(r,a);ri=!0;try{var u=n(r);return u}finally{if(ri=!1,(Pi!==null||ki!==null)&&(Tc(),Pi&&(r=Pi,n=ki,ki=Pi=null,Lo(r),n)))for(r=0;r<n.length;r++)Lo(n[r])}}function ys(n,r){var a=n.stateNode;if(a===null)return null;var u=a[vt]||null;if(u===null)return null;a=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xn=!1;if(Fn)try{var _s={};Object.defineProperty(_s,"passive",{get:function(){xn=!0}}),window.addEventListener("test",_s,_s),window.removeEventListener("test",_s,_s)}catch{xn=!1}var si=null,gr=null,Ui=null;function jo(){if(Ui)return Ui;var n,r=gr,a=r.length,u,f="value"in si?si.value:si.textContent,d=f.length;for(n=0;n<a&&r[n]===f[n];n++);var E=a-n;for(u=1;u<=E&&r[a-u]===f[d-u];u++);return Ui=f.slice(n,1<u?1-u:void 0)}function ai(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function oi(){return!0}function Bo(){return!1}function Vt(n){function r(a,u,f,d,E){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(a=n[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?oi:Bo,this.isPropagationStopped=Bo,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=oi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=oi)},persist:function(){},isPersistent:oi}),r}var Ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ha=Vt(Ge),vs=_({},Ge,{view:0,detail:0}),Ou=Vt(vs),fa,da,li,Es=_({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==li&&(li&&n.type==="mousemove"?(fa=n.screenX-li.screenX,da=n.screenY-li.screenY):da=fa=0,li=n),fa)},movementY:function(n){return"movementY"in n?n.movementY:da}}),Mn=Vt(Es),Du=_({},Es,{dataTransfer:0}),vf=Vt(Du),Ts=_({},vs,{relatedTarget:0}),ma=Vt(Ts),zo=_({},Ge,{animationName:0,elapsedTime:0,pseudoElement:0}),pa=Vt(zo),Nu=_({},Ge,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ga=Vt(Nu),Ef=_({},Ge,{data:0}),qo=Vt(Ef),Ss={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ho(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Mu[n])?!!r[n]:!1}function bs(){return Ho}var Vu=_({},vs,{key:function(n){if(n.key){var r=Ss[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=ai(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?xu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bs,charCode:function(n){return n.type==="keypress"?ai(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ai(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ya=Vt(Vu),Pu=_({},Es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fo=Vt(Pu),Li=_({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bs}),ku=Vt(Li),Uu=_({},Ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lu=Vt(Uu),ju=_({},Es,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),_a=Vt(ju),on=_({},Ge,{newState:0,oldState:0}),Bu=Vt(on),zu=[9,13,27,32],ui=Fn&&"CompositionEvent"in window,c=null;Fn&&"documentMode"in document&&(c=document.documentMode);var y=Fn&&"TextEvent"in window&&!c,v=Fn&&(!ui||c&&8<c&&11>=c),A=" ",F=!1;function Y(n,r){switch(n){case"keyup":return zu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ue(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Le=!1;function wt(n,r){switch(n){case"compositionend":return ue(r);case"keypress":return r.which!==32?null:(F=!0,A);case"textInput":return n=r.data,n===A&&F?null:n;default:return null}}function je(n,r){if(Le)return n==="compositionend"||!ui&&Y(n,r)?(n=jo(),Ui=gr=si=null,Le=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var Pt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rt(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Pt[n.type]:r==="textarea"}function ji(n,r,a,u){Pi?ki?ki.push(u):ki=[u]:Pi=u,r=Cc(r,"onChange"),0<r.length&&(a=new ha("onChange","change",null,a,u),n.push({event:a,listeners:r}))}var zt=null,ci=null;function Go(n){hv(n,0)}function qu(n){var r=ni(n);if(Po(r))return n}function xg(n,r){if(n==="change")return r}var Mg=!1;if(Fn){var Tf;if(Fn){var Sf="oninput"in document;if(!Sf){var Vg=document.createElement("div");Vg.setAttribute("oninput","return;"),Sf=typeof Vg.oninput=="function"}Tf=Sf}else Tf=!1;Mg=Tf&&(!document.documentMode||9<document.documentMode)}function Pg(){zt&&(zt.detachEvent("onpropertychange",kg),ci=zt=null)}function kg(n){if(n.propertyName==="value"&&qu(ci)){var r=[];ji(r,ci,n,Nn(n)),Iu(Go,r)}}function IA(n,r,a){n==="focusin"?(Pg(),zt=r,ci=a,zt.attachEvent("onpropertychange",kg)):n==="focusout"&&Pg()}function OA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return qu(ci)}function DA(n,r){if(n==="click")return qu(r)}function NA(n,r){if(n==="input"||n==="change")return qu(r)}function xA(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var vn=typeof Object.is=="function"?Object.is:xA;function $o(n,r){if(vn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),u=Object.keys(r);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!ns.call(r,f)||!vn(n[f],r[f]))return!1}return!0}function Ug(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Lg(n,r){var a=Ug(n);n=0;for(var u;a;){if(a.nodeType===3){if(u=n+a.textContent.length,n<=r&&u>=r)return{node:a,offset:r-n};n=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ug(a)}}function jg(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?jg(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Bg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=ds(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=ds(n.document)}return r}function bf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var MA=Fn&&"documentMode"in document&&11>=document.documentMode,va=null,Af=null,Ko=null,wf=!1;function zg(n,r,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;wf||va==null||va!==ds(u)||(u=va,"selectionStart"in u&&bf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ko&&$o(Ko,u)||(Ko=u,u=Cc(Af,"onSelect"),0<u.length&&(r=new ha("onSelect","select",null,r,a),n.push({event:r,listeners:u}),r.target=va)))}function As(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Ea={animationend:As("Animation","AnimationEnd"),animationiteration:As("Animation","AnimationIteration"),animationstart:As("Animation","AnimationStart"),transitionrun:As("Transition","TransitionRun"),transitionstart:As("Transition","TransitionStart"),transitioncancel:As("Transition","TransitionCancel"),transitionend:As("Transition","TransitionEnd")},Rf={},qg={};Fn&&(qg=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function ws(n){if(Rf[n])return Rf[n];if(!Ea[n])return n;var r=Ea[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in qg)return Rf[n]=r[a];return n}var Hg=ws("animationend"),Fg=ws("animationiteration"),Gg=ws("animationstart"),VA=ws("transitionrun"),PA=ws("transitionstart"),kA=ws("transitioncancel"),$g=ws("transitionend"),Kg=new Map,Cf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cf.push("scrollEnd");function Gn(n,r){Kg.set(n,r),Hn(r,[n])}var Qg=new WeakMap;function Vn(n,r){if(typeof n=="object"&&n!==null){var a=Qg.get(n);return a!==void 0?a:(r={value:n,source:r,stack:la(r)},Qg.set(n,r),r)}return{value:n,source:r,stack:la(r)}}var Pn=[],Ta=0,If=0;function Hu(){for(var n=Ta,r=If=Ta=0;r<n;){var a=Pn[r];Pn[r++]=null;var u=Pn[r];Pn[r++]=null;var f=Pn[r];Pn[r++]=null;var d=Pn[r];if(Pn[r++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}d!==0&&Yg(a,f,d)}}function Fu(n,r,a,u){Pn[Ta++]=n,Pn[Ta++]=r,Pn[Ta++]=a,Pn[Ta++]=u,If|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Of(n,r,a,u){return Fu(n,r,a,u),Gu(n)}function Sa(n,r){return Fu(n,null,null,r),Gu(n)}function Yg(n,r,a){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,u=d.alternate,u!==null&&(u.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&r!==null&&(f=31-Yt(a),n=d.hiddenUpdates,u=n[f],u===null?n[f]=[r]:u.push(r),r.lane=a|536870912),d):null}function Gu(n){if(50<_l)throw _l=0,Pd=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var ba={};function UA(n,r,a,u){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(n,r,a,u){return new UA(n,r,a,u)}function Df(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Bi(n,r){var a=n.alternate;return a===null?(a=En(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Xg(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function $u(n,r,a,u,f,d){var E=0;if(u=n,typeof n=="function")Df(n)&&(E=1);else if(typeof n=="string")E=jw(n,a,ge.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case C:return n=En(31,a,r,f),n.elementType=C,n.lanes=d,n;case R:return Rs(a.children,f,d,r);case k:E=8,f|=24;break;case O:return n=En(12,a,r,f|2),n.elementType=O,n.lanes=d,n;case ee:return n=En(13,a,r,f),n.elementType=ee,n.lanes=d,n;case ae:return n=En(19,a,r,f),n.elementType=ae,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case q:case H:E=10;break e;case J:E=9;break e;case re:E=11;break e;case D:E=14;break e;case w:E=16,u=null;break e}E=29,a=Error(s(130,n===null?"null":typeof n,"")),u=null}return r=En(E,a,r,f),r.elementType=n,r.type=u,r.lanes=d,r}function Rs(n,r,a,u){return n=En(7,n,u,r),n.lanes=a,n}function Nf(n,r,a){return n=En(6,n,null,r),n.lanes=a,n}function xf(n,r,a){return r=En(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Aa=[],wa=0,Ku=null,Qu=0,kn=[],Un=0,Cs=null,zi=1,qi="";function Is(n,r){Aa[wa++]=Qu,Aa[wa++]=Ku,Ku=n,Qu=r}function Jg(n,r,a){kn[Un++]=zi,kn[Un++]=qi,kn[Un++]=Cs,Cs=n;var u=zi;n=qi;var f=32-Yt(u)-1;u&=~(1<<f),a+=1;var d=32-Yt(r)+f;if(30<d){var E=f-f%5;d=(u&(1<<E)-1).toString(32),u>>=E,f-=E,zi=1<<32-Yt(r)+f|a<<f|u,qi=d+n}else zi=1<<d|a<<f|u,qi=n}function Mf(n){n.return!==null&&(Is(n,1),Jg(n,1,0))}function Vf(n){for(;n===Ku;)Ku=Aa[--wa],Aa[wa]=null,Qu=Aa[--wa],Aa[wa]=null;for(;n===Cs;)Cs=kn[--Un],kn[Un]=null,qi=kn[--Un],kn[Un]=null,zi=kn[--Un],kn[Un]=null}var ln=null,ft=null,Fe=!1,Os=null,hi=!1,Pf=Error(s(519));function Ds(n){var r=Error(s(418,""));throw Xo(Vn(r,n)),Pf}function Zg(n){var r=n.stateNode,a=n.type,u=n.memoizedProps;switch(r[At]=n,r[vt]=u,a){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(a=0;a<El.length;a++)Pe(El[a],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":Pe("invalid",r),ms(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),ua(r);break;case"select":Pe("invalid",r);break;case"textarea":Pe("invalid",r),ps(r,u.value,u.defaultValue,u.children),ua(r)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||u.suppressHydrationWarning===!0||pv(r.textContent,a)?(u.popover!=null&&(Pe("beforetoggle",r),Pe("toggle",r)),u.onScroll!=null&&Pe("scroll",r),u.onScrollEnd!=null&&Pe("scrollend",r),u.onClick!=null&&(r.onclick=Ic),r=!0):r=!1,r||Ds(n)}function Wg(n){for(ln=n.return;ln;)switch(ln.tag){case 5:case 13:hi=!1;return;case 27:case 3:hi=!0;return;default:ln=ln.return}}function Qo(n){if(n!==ln)return!1;if(!Fe)return Wg(n),Fe=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Jd(n.type,n.memoizedProps)),a=!a),a&&ft&&Ds(n),Wg(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){ft=Kn(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}ft=null}}else r===27?(r=ft,xr(n.type)?(n=tm,tm=null,ft=n):ft=r):ft=ln?Kn(n.stateNode.nextSibling):null;return!0}function Yo(){ft=ln=null,Fe=!1}function ey(){var n=Os;return n!==null&&(fn===null?fn=n:fn.push.apply(fn,n),Os=null),n}function Xo(n){Os===null?Os=[n]:Os.push(n)}var kf=se(null),Ns=null,Hi=null;function yr(n,r,a){le(kf,r._currentValue),r._currentValue=a}function Fi(n){n._currentValue=kf.current,he(kf)}function Uf(n,r,a){for(;n!==null;){var u=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),n===a)break;n=n.return}}function Lf(n,r,a,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var E=f.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=f;for(var N=0;N<r.length;N++)if(b.context===r[N]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Uf(d.return,a,n),u||(E=null);break e}d=b.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),Uf(E,a,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Jo(n,r,a,u){n=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var b=f.type;vn(f.pendingProps.value,E.value)||(n!==null?n.push(b):n=[b])}}else if(f===Mt.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Rl):n=[Rl])}f=f.return}n!==null&&Lf(r,n,a,u),r.flags|=262144}function Yu(n){for(n=n.firstContext;n!==null;){if(!vn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function xs(n){Ns=n,Hi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Xt(n){return ty(Ns,n)}function Xu(n,r){return Ns===null&&xs(n),ty(n,r)}function ty(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Hi===null){if(n===null)throw Error(s(308));Hi=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Hi=Hi.next=r;return a}var LA=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,u){n.push(u)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},jA=i.unstable_scheduleCallback,BA=i.unstable_NormalPriority,Ct={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jf(){return{controller:new LA,data:new Map,refCount:0}}function Zo(n){n.refCount--,n.refCount===0&&jA(BA,function(){n.controller.abort()})}var Wo=null,Bf=0,Ra=0,Ca=null;function zA(n,r){if(Wo===null){var a=Wo=[];Bf=0,Ra=qd(),Ca={status:"pending",value:void 0,then:function(u){a.push(u)}}}return Bf++,r.then(ny,ny),r}function ny(){if(--Bf===0&&Wo!==null){Ca!==null&&(Ca.status="fulfilled");var n=Wo;Wo=null,Ra=0,Ca=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function qA(n,r){var a=[],u={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),u}var iy=Z.S;Z.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&zA(n,r),iy!==null&&iy(n,r)};var Ms=se(null);function zf(){var n=Ms.current;return n!==null?n:rt.pooledCache}function Ju(n,r){r===null?le(Ms,Ms.current):le(Ms,r.pool)}function ry(){var n=zf();return n===null?null:{parent:Ct._currentValue,pool:n}}var el=Error(s(460)),sy=Error(s(474)),Zu=Error(s(542)),qf={then:function(){}};function ay(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Wu(){}function oy(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(Wu,Wu),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,uy(n),n;default:if(typeof r.status=="string")r.then(Wu,Wu);else{if(n=rt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,uy(n),n}throw tl=r,el}}var tl=null;function ly(){if(tl===null)throw Error(s(459));var n=tl;return tl=null,n}function uy(n){if(n===el||n===Zu)throw Error(s(483))}var _r=!1;function Hf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ff(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function vr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Er(n,r,a){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Qe&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=Gu(n),Yg(n,null,a),r}return Fu(n,u,r,a),Gu(n)}function nl(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var u=r.lanes;u&=n.pendingLanes,a|=u,r.lanes=a,Do(n,a)}}function Gf(n,r){var a=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:u.shared,callbacks:u.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var $f=!1;function il(){if($f){var n=Ca;if(n!==null)throw n}}function rl(n,r,a,u){$f=!1;var f=n.updateQueue;_r=!1;var d=f.firstBaseUpdate,E=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var N=b,$=N.next;N.next=null,E===null?d=$:E.next=$,E=N;var W=n.alternate;W!==null&&(W=W.updateQueue,b=W.lastBaseUpdate,b!==E&&(b===null?W.firstBaseUpdate=$:b.next=$,W.lastBaseUpdate=N))}if(d!==null){var ne=f.baseState;E=0,W=$=N=null,b=d;do{var K=b.lane&-536870913,Q=K!==b.lane;if(Q?(Be&K)===K:(u&K)===K){K!==0&&K===Ra&&($f=!0),W!==null&&(W=W.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Te=n,_e=b;K=r;var We=a;switch(_e.tag){case 1:if(Te=_e.payload,typeof Te=="function"){ne=Te.call(We,ne,K);break e}ne=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=_e.payload,K=typeof Te=="function"?Te.call(We,ne,K):Te,K==null)break e;ne=_({},ne,K);break e;case 2:_r=!0}}K=b.callback,K!==null&&(n.flags|=64,Q&&(n.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[K]:Q.push(K))}else Q={lane:K,tag:b.tag,payload:b.payload,callback:b.callback,next:null},W===null?($=W=Q,N=ne):W=W.next=Q,E|=K;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;Q=b,b=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);W===null&&(N=ne),f.baseState=N,f.firstBaseUpdate=$,f.lastBaseUpdate=W,d===null&&(f.shared.lanes=0),Ir|=E,n.lanes=E,n.memoizedState=ne}}function cy(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function hy(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)cy(a[n],r)}var Ia=se(null),ec=se(0);function fy(n,r){n=Ji,le(ec,n),le(Ia,r),Ji=n|r.baseLanes}function Kf(){le(ec,Ji),le(Ia,Ia.current)}function Qf(){Ji=ec.current,he(Ia),he(ec)}var Tr=0,Oe=null,Je=null,Tt=null,tc=!1,Oa=!1,Vs=!1,nc=0,sl=0,Da=null,HA=0;function gt(){throw Error(s(321))}function Yf(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!vn(n[a],r[a]))return!1;return!0}function Xf(n,r,a,u,f,d){return Tr=d,Oe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Z.H=n===null||n.memoizedState===null?Yy:Xy,Vs=!1,d=a(u,f),Vs=!1,Oa&&(d=my(r,a,u,f)),dy(n),d}function dy(n){Z.H=lc;var r=Je!==null&&Je.next!==null;if(Tr=0,Tt=Je=Oe=null,tc=!1,sl=0,Da=null,r)throw Error(s(300));n===null||kt||(n=n.dependencies,n!==null&&Yu(n)&&(kt=!0))}function my(n,r,a,u){Oe=n;var f=0;do{if(Oa&&(Da=null),sl=0,Oa=!1,25<=f)throw Error(s(301));if(f+=1,Tt=Je=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Z.H=XA,d=r(a,u)}while(Oa);return d}function FA(){var n=Z.H,r=n.useState()[0];return r=typeof r.then=="function"?al(r):r,n=n.useState()[0],(Je!==null?Je.memoizedState:null)!==n&&(Oe.flags|=1024),r}function Jf(){var n=nc!==0;return nc=0,n}function Zf(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function Wf(n){if(tc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}tc=!1}Tr=0,Tt=Je=Oe=null,Oa=!1,sl=nc=0,Da=null}function cn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Oe.memoizedState=Tt=n:Tt=Tt.next=n,Tt}function St(){if(Je===null){var n=Oe.alternate;n=n!==null?n.memoizedState:null}else n=Je.next;var r=Tt===null?Oe.memoizedState:Tt.next;if(r!==null)Tt=r,Je=n;else{if(n===null)throw Oe.alternate===null?Error(s(467)):Error(s(310));Je=n,n={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Tt===null?Oe.memoizedState=Tt=n:Tt=Tt.next=n}return Tt}function ed(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function al(n){var r=sl;return sl+=1,Da===null&&(Da=[]),n=oy(Da,n,r),r=Oe,(Tt===null?r.memoizedState:Tt.next)===null&&(r=r.alternate,Z.H=r===null||r.memoizedState===null?Yy:Xy),n}function ic(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return al(n);if(n.$$typeof===H)return Xt(n)}throw Error(s(438,String(n)))}function td(n){var r=null,a=Oe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var u=Oe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=ed(),Oe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),u=0;u<n;u++)a[u]=V;return r.index++,a}function Gi(n,r){return typeof r=="function"?r(n):r}function rc(n){var r=St();return nd(r,Je,n)}function nd(n,r,a){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var f=n.baseQueue,d=u.pending;if(d!==null){if(f!==null){var E=f.next;f.next=d.next,d.next=E}r.baseQueue=f=d,u.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{r=f.next;var b=E=null,N=null,$=r,W=!1;do{var ne=$.lane&-536870913;if(ne!==$.lane?(Be&ne)===ne:(Tr&ne)===ne){var K=$.revertLane;if(K===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),ne===Ra&&(W=!0);else if((Tr&K)===K){$=$.next,K===Ra&&(W=!0);continue}else ne={lane:0,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},N===null?(b=N=ne,E=d):N=N.next=ne,Oe.lanes|=K,Ir|=K;ne=$.action,Vs&&a(d,ne),d=$.hasEagerState?$.eagerState:a(d,ne)}else K={lane:ne,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},N===null?(b=N=K,E=d):N=N.next=K,Oe.lanes|=ne,Ir|=ne;$=$.next}while($!==null&&$!==r);if(N===null?E=d:N.next=b,!vn(d,n.memoizedState)&&(kt=!0,W&&(a=Ca,a!==null)))throw a;n.memoizedState=d,n.baseState=E,n.baseQueue=N,u.lastRenderedState=d}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function id(n){var r=St(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var u=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do d=n(d,E.action),E=E.next;while(E!==f);vn(d,r.memoizedState)||(kt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,u]}function py(n,r,a){var u=Oe,f=St(),d=Fe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var E=!vn((Je||f).memoizedState,a);E&&(f.memoizedState=a,kt=!0),f=f.queue;var b=_y.bind(null,u,f,n);if(ol(2048,8,b,[n]),f.getSnapshot!==r||E||Tt!==null&&Tt.memoizedState.tag&1){if(u.flags|=2048,Na(9,sc(),yy.bind(null,u,f,a,r),null),rt===null)throw Error(s(349));d||(Tr&124)!==0||gy(u,r,a)}return a}function gy(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Oe.updateQueue,r===null?(r=ed(),Oe.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function yy(n,r,a,u){r.value=a,r.getSnapshot=u,vy(r)&&Ey(n)}function _y(n,r,a){return a(function(){vy(r)&&Ey(n)})}function vy(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!vn(n,a)}catch{return!0}}function Ey(n){var r=Sa(n,2);r!==null&&wn(r,n,2)}function rd(n){var r=cn();if(typeof n=="function"){var a=n;if(n=a(),Vs){yn(!0);try{a()}finally{yn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:n},r}function Ty(n,r,a,u){return n.baseState=a,nd(n,Je,typeof u=="function"?u:Gi)}function GA(n,r,a,u,f){if(oc(n))throw Error(s(485));if(n=r.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};Z.T!==null?a(!0):d.isTransition=!1,u(d),a=r.pending,a===null?(d.next=r.pending=d,Sy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Sy(n,r){var a=r.action,u=r.payload,f=n.state;if(r.isTransition){var d=Z.T,E={};Z.T=E;try{var b=a(f,u),N=Z.S;N!==null&&N(E,b),by(n,r,b)}catch($){sd(n,r,$)}finally{Z.T=d}}else try{d=a(f,u),by(n,r,d)}catch($){sd(n,r,$)}}function by(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){Ay(n,r,u)},function(u){return sd(n,r,u)}):Ay(n,r,a)}function Ay(n,r,a){r.status="fulfilled",r.value=a,wy(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,Sy(n,a)))}function sd(n,r,a){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=a,wy(r),r=r.next;while(r!==u)}n.action=null}function wy(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Ry(n,r){return r}function Cy(n,r){if(Fe){var a=rt.formState;if(a!==null){e:{var u=Oe;if(Fe){if(ft){t:{for(var f=ft,d=hi;f.nodeType!==8;){if(!d){f=null;break t}if(f=Kn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ft=Kn(f.nextSibling),u=f.data==="F!";break e}}Ds(u)}u=!1}u&&(r=a[0])}}return a=cn(),a.memoizedState=a.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ry,lastRenderedState:r},a.queue=u,a=$y.bind(null,Oe,u),u.dispatch=a,u=rd(!1),d=cd.bind(null,Oe,!1,u.queue),u=cn(),f={state:r,dispatch:null,action:n,pending:null},u.queue=f,a=GA.bind(null,Oe,f,d,a),f.dispatch=a,u.memoizedState=n,[r,a,!1]}function Iy(n){var r=St();return Oy(r,Je,n)}function Oy(n,r,a){if(r=nd(n,r,Ry)[0],n=rc(Gi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=al(r)}catch(E){throw E===el?Zu:E}else u=r;r=St();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Oe.flags|=2048,Na(9,sc(),$A.bind(null,f,a),null)),[u,d,n]}function $A(n,r){n.action=r}function Dy(n){var r=St(),a=Je;if(a!==null)return Oy(r,a,n);St(),r=r.memoizedState,a=St();var u=a.queue.dispatch;return a.memoizedState=n,[r,u,!1]}function Na(n,r,a,u){return n={tag:n,create:a,deps:u,inst:r,next:null},r=Oe.updateQueue,r===null&&(r=ed(),Oe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(u=a.next,a.next=n,n.next=u,r.lastEffect=n),n}function sc(){return{destroy:void 0,resource:void 0}}function Ny(){return St().memoizedState}function ac(n,r,a,u){var f=cn();u=u===void 0?null:u,Oe.flags|=n,f.memoizedState=Na(1|r,sc(),a,u)}function ol(n,r,a,u){var f=St();u=u===void 0?null:u;var d=f.memoizedState.inst;Je!==null&&u!==null&&Yf(u,Je.memoizedState.deps)?f.memoizedState=Na(r,d,a,u):(Oe.flags|=n,f.memoizedState=Na(1|r,d,a,u))}function xy(n,r){ac(8390656,8,n,r)}function My(n,r){ol(2048,8,n,r)}function Vy(n,r){return ol(4,2,n,r)}function Py(n,r){return ol(4,4,n,r)}function ky(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Uy(n,r,a){a=a!=null?a.concat([n]):null,ol(4,4,ky.bind(null,r,n),a)}function ad(){}function Ly(n,r){var a=St();r=r===void 0?null:r;var u=a.memoizedState;return r!==null&&Yf(r,u[1])?u[0]:(a.memoizedState=[n,r],n)}function jy(n,r){var a=St();r=r===void 0?null:r;var u=a.memoizedState;if(r!==null&&Yf(r,u[1]))return u[0];if(u=n(),Vs){yn(!0);try{n()}finally{yn(!1)}}return a.memoizedState=[u,r],u}function od(n,r,a){return a===void 0||(Tr&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=q_(),Oe.lanes|=n,Ir|=n,a)}function By(n,r,a,u){return vn(a,r)?a:Ia.current!==null?(n=od(n,a,u),vn(n,r)||(kt=!0),n):(Tr&42)===0?(kt=!0,n.memoizedState=a):(n=q_(),Oe.lanes|=n,Ir|=n,r)}function zy(n,r,a,u,f){var d=ce.p;ce.p=d!==0&&8>d?d:8;var E=Z.T,b={};Z.T=b,cd(n,!1,r,a);try{var N=f(),$=Z.S;if($!==null&&$(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var W=qA(N,u);ll(n,r,W,An(n))}else ll(n,r,u,An(n))}catch(ne){ll(n,r,{then:function(){},status:"rejected",reason:ne},An())}finally{ce.p=d,Z.T=E}}function KA(){}function ld(n,r,a,u){if(n.tag!==5)throw Error(s(476));var f=qy(n).queue;zy(n,f,r,pe,a===null?KA:function(){return Hy(n),a(u)})}function qy(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:pe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function Hy(n){var r=qy(n).next.queue;ll(n,r,{},An())}function ud(){return Xt(Rl)}function Fy(){return St().memoizedState}function Gy(){return St().memoizedState}function QA(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=An();n=vr(a);var u=Er(r,n,a);u!==null&&(wn(u,r,a),nl(u,r,a)),r={cache:jf()},n.payload=r;return}r=r.return}}function YA(n,r,a){var u=An();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},oc(n)?Ky(r,a):(a=Of(n,r,a,u),a!==null&&(wn(a,n,u),Qy(a,r,u)))}function $y(n,r,a){var u=An();ll(n,r,a,u)}function ll(n,r,a,u){var f={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(oc(n))Ky(r,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var E=r.lastRenderedState,b=d(E,a);if(f.hasEagerState=!0,f.eagerState=b,vn(b,E))return Fu(n,r,f,0),rt===null&&Hu(),!1}catch{}finally{}if(a=Of(n,r,f,u),a!==null)return wn(a,n,u),Qy(a,r,u),!0}return!1}function cd(n,r,a,u){if(u={lane:2,revertLane:qd(),action:u,hasEagerState:!1,eagerState:null,next:null},oc(n)){if(r)throw Error(s(479))}else r=Of(n,a,u,2),r!==null&&wn(r,n,2)}function oc(n){var r=n.alternate;return n===Oe||r!==null&&r===Oe}function Ky(n,r){Oa=tc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function Qy(n,r,a){if((a&4194048)!==0){var u=r.lanes;u&=n.pendingLanes,a|=u,r.lanes=a,Do(n,a)}}var lc={readContext:Xt,use:ic,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},Yy={readContext:Xt,use:ic,useCallback:function(n,r){return cn().memoizedState=[n,r===void 0?null:r],n},useContext:Xt,useEffect:xy,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,ac(4194308,4,ky.bind(null,r,n),a)},useLayoutEffect:function(n,r){return ac(4194308,4,n,r)},useInsertionEffect:function(n,r){ac(4,2,n,r)},useMemo:function(n,r){var a=cn();r=r===void 0?null:r;var u=n();if(Vs){yn(!0);try{n()}finally{yn(!1)}}return a.memoizedState=[u,r],u},useReducer:function(n,r,a){var u=cn();if(a!==void 0){var f=a(r);if(Vs){yn(!0);try{a(r)}finally{yn(!1)}}}else f=r;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=YA.bind(null,Oe,n),[u.memoizedState,n]},useRef:function(n){var r=cn();return n={current:n},r.memoizedState=n},useState:function(n){n=rd(n);var r=n.queue,a=$y.bind(null,Oe,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:ad,useDeferredValue:function(n,r){var a=cn();return od(a,n,r)},useTransition:function(){var n=rd(!1);return n=zy.bind(null,Oe,n.queue,!0,!1),cn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var u=Oe,f=cn();if(Fe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),rt===null)throw Error(s(349));(Be&124)!==0||gy(u,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,xy(_y.bind(null,u,d,n),[n]),u.flags|=2048,Na(9,sc(),yy.bind(null,u,d,a,r),null),a},useId:function(){var n=cn(),r=rt.identifierPrefix;if(Fe){var a=qi,u=zi;a=(u&~(1<<32-Yt(u)-1)).toString(32)+a,r="«"+r+"R"+a,a=nc++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=HA++,r="«"+r+"r"+a.toString(32)+"»";return n.memoizedState=r},useHostTransitionStatus:ud,useFormState:Cy,useActionState:Cy,useOptimistic:function(n){var r=cn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=cd.bind(null,Oe,!0,a),a.dispatch=r,[n,r]},useMemoCache:td,useCacheRefresh:function(){return cn().memoizedState=QA.bind(null,Oe)}},Xy={readContext:Xt,use:ic,useCallback:Ly,useContext:Xt,useEffect:My,useImperativeHandle:Uy,useInsertionEffect:Vy,useLayoutEffect:Py,useMemo:jy,useReducer:rc,useRef:Ny,useState:function(){return rc(Gi)},useDebugValue:ad,useDeferredValue:function(n,r){var a=St();return By(a,Je.memoizedState,n,r)},useTransition:function(){var n=rc(Gi)[0],r=St().memoizedState;return[typeof n=="boolean"?n:al(n),r]},useSyncExternalStore:py,useId:Fy,useHostTransitionStatus:ud,useFormState:Iy,useActionState:Iy,useOptimistic:function(n,r){var a=St();return Ty(a,Je,n,r)},useMemoCache:td,useCacheRefresh:Gy},XA={readContext:Xt,use:ic,useCallback:Ly,useContext:Xt,useEffect:My,useImperativeHandle:Uy,useInsertionEffect:Vy,useLayoutEffect:Py,useMemo:jy,useReducer:id,useRef:Ny,useState:function(){return id(Gi)},useDebugValue:ad,useDeferredValue:function(n,r){var a=St();return Je===null?od(a,n,r):By(a,Je.memoizedState,n,r)},useTransition:function(){var n=id(Gi)[0],r=St().memoizedState;return[typeof n=="boolean"?n:al(n),r]},useSyncExternalStore:py,useId:Fy,useHostTransitionStatus:ud,useFormState:Dy,useActionState:Dy,useOptimistic:function(n,r){var a=St();return Je!==null?Ty(a,Je,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:td,useCacheRefresh:Gy},xa=null,ul=0;function uc(n){var r=ul;return ul+=1,xa===null&&(xa=[]),oy(xa,n,r)}function cl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function cc(n,r){throw r.$$typeof===T?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Jy(n){var r=n._init;return r(n._payload)}function Zy(n){function r(z,U){if(n){var G=z.deletions;G===null?(z.deletions=[U],z.flags|=16):G.push(U)}}function a(z,U){if(!n)return null;for(;U!==null;)r(z,U),U=U.sibling;return null}function u(z){for(var U=new Map;z!==null;)z.key!==null?U.set(z.key,z):U.set(z.index,z),z=z.sibling;return U}function f(z,U){return z=Bi(z,U),z.index=0,z.sibling=null,z}function d(z,U,G){return z.index=G,n?(G=z.alternate,G!==null?(G=G.index,G<U?(z.flags|=67108866,U):G):(z.flags|=67108866,U)):(z.flags|=1048576,U)}function E(z){return n&&z.alternate===null&&(z.flags|=67108866),z}function b(z,U,G,te){return U===null||U.tag!==6?(U=Nf(G,z.mode,te),U.return=z,U):(U=f(U,G),U.return=z,U)}function N(z,U,G,te){var de=G.type;return de===R?W(z,U,G.props.children,te,G.key):U!==null&&(U.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===w&&Jy(de)===U.type)?(U=f(U,G.props),cl(U,G),U.return=z,U):(U=$u(G.type,G.key,G.props,null,z.mode,te),cl(U,G),U.return=z,U)}function $(z,U,G,te){return U===null||U.tag!==4||U.stateNode.containerInfo!==G.containerInfo||U.stateNode.implementation!==G.implementation?(U=xf(G,z.mode,te),U.return=z,U):(U=f(U,G.children||[]),U.return=z,U)}function W(z,U,G,te,de){return U===null||U.tag!==7?(U=Rs(G,z.mode,te,de),U.return=z,U):(U=f(U,G),U.return=z,U)}function ne(z,U,G){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Nf(""+U,z.mode,G),U.return=z,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case S:return G=$u(U.type,U.key,U.props,null,z.mode,G),cl(G,U),G.return=z,G;case I:return U=xf(U,z.mode,G),U.return=z,U;case w:var te=U._init;return U=te(U._payload),ne(z,U,G)}if(tt(U)||B(U))return U=Rs(U,z.mode,G,null),U.return=z,U;if(typeof U.then=="function")return ne(z,uc(U),G);if(U.$$typeof===H)return ne(z,Xu(z,U),G);cc(z,U)}return null}function K(z,U,G,te){var de=U!==null?U.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return de!==null?null:b(z,U,""+G,te);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case S:return G.key===de?N(z,U,G,te):null;case I:return G.key===de?$(z,U,G,te):null;case w:return de=G._init,G=de(G._payload),K(z,U,G,te)}if(tt(G)||B(G))return de!==null?null:W(z,U,G,te,null);if(typeof G.then=="function")return K(z,U,uc(G),te);if(G.$$typeof===H)return K(z,U,Xu(z,G),te);cc(z,G)}return null}function Q(z,U,G,te,de){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return z=z.get(G)||null,b(U,z,""+te,de);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case S:return z=z.get(te.key===null?G:te.key)||null,N(U,z,te,de);case I:return z=z.get(te.key===null?G:te.key)||null,$(U,z,te,de);case w:var xe=te._init;return te=xe(te._payload),Q(z,U,G,te,de)}if(tt(te)||B(te))return z=z.get(G)||null,W(U,z,te,de,null);if(typeof te.then=="function")return Q(z,U,G,uc(te),de);if(te.$$typeof===H)return Q(z,U,G,Xu(U,te),de);cc(U,te)}return null}function Te(z,U,G,te){for(var de=null,xe=null,me=U,Ee=U=0,Lt=null;me!==null&&Ee<G.length;Ee++){me.index>Ee?(Lt=me,me=null):Lt=me.sibling;var qe=K(z,me,G[Ee],te);if(qe===null){me===null&&(me=Lt);break}n&&me&&qe.alternate===null&&r(z,me),U=d(qe,U,Ee),xe===null?de=qe:xe.sibling=qe,xe=qe,me=Lt}if(Ee===G.length)return a(z,me),Fe&&Is(z,Ee),de;if(me===null){for(;Ee<G.length;Ee++)me=ne(z,G[Ee],te),me!==null&&(U=d(me,U,Ee),xe===null?de=me:xe.sibling=me,xe=me);return Fe&&Is(z,Ee),de}for(me=u(me);Ee<G.length;Ee++)Lt=Q(me,z,Ee,G[Ee],te),Lt!==null&&(n&&Lt.alternate!==null&&me.delete(Lt.key===null?Ee:Lt.key),U=d(Lt,U,Ee),xe===null?de=Lt:xe.sibling=Lt,xe=Lt);return n&&me.forEach(function(Ur){return r(z,Ur)}),Fe&&Is(z,Ee),de}function _e(z,U,G,te){if(G==null)throw Error(s(151));for(var de=null,xe=null,me=U,Ee=U=0,Lt=null,qe=G.next();me!==null&&!qe.done;Ee++,qe=G.next()){me.index>Ee?(Lt=me,me=null):Lt=me.sibling;var Ur=K(z,me,qe.value,te);if(Ur===null){me===null&&(me=Lt);break}n&&me&&Ur.alternate===null&&r(z,me),U=d(Ur,U,Ee),xe===null?de=Ur:xe.sibling=Ur,xe=Ur,me=Lt}if(qe.done)return a(z,me),Fe&&Is(z,Ee),de;if(me===null){for(;!qe.done;Ee++,qe=G.next())qe=ne(z,qe.value,te),qe!==null&&(U=d(qe,U,Ee),xe===null?de=qe:xe.sibling=qe,xe=qe);return Fe&&Is(z,Ee),de}for(me=u(me);!qe.done;Ee++,qe=G.next())qe=Q(me,z,Ee,qe.value,te),qe!==null&&(n&&qe.alternate!==null&&me.delete(qe.key===null?Ee:qe.key),U=d(qe,U,Ee),xe===null?de=qe:xe.sibling=qe,xe=qe);return n&&me.forEach(function(Jw){return r(z,Jw)}),Fe&&Is(z,Ee),de}function We(z,U,G,te){if(typeof G=="object"&&G!==null&&G.type===R&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case S:e:{for(var de=G.key;U!==null;){if(U.key===de){if(de=G.type,de===R){if(U.tag===7){a(z,U.sibling),te=f(U,G.props.children),te.return=z,z=te;break e}}else if(U.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===w&&Jy(de)===U.type){a(z,U.sibling),te=f(U,G.props),cl(te,G),te.return=z,z=te;break e}a(z,U);break}else r(z,U);U=U.sibling}G.type===R?(te=Rs(G.props.children,z.mode,te,G.key),te.return=z,z=te):(te=$u(G.type,G.key,G.props,null,z.mode,te),cl(te,G),te.return=z,z=te)}return E(z);case I:e:{for(de=G.key;U!==null;){if(U.key===de)if(U.tag===4&&U.stateNode.containerInfo===G.containerInfo&&U.stateNode.implementation===G.implementation){a(z,U.sibling),te=f(U,G.children||[]),te.return=z,z=te;break e}else{a(z,U);break}else r(z,U);U=U.sibling}te=xf(G,z.mode,te),te.return=z,z=te}return E(z);case w:return de=G._init,G=de(G._payload),We(z,U,G,te)}if(tt(G))return Te(z,U,G,te);if(B(G)){if(de=B(G),typeof de!="function")throw Error(s(150));return G=de.call(G),_e(z,U,G,te)}if(typeof G.then=="function")return We(z,U,uc(G),te);if(G.$$typeof===H)return We(z,U,Xu(z,G),te);cc(z,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,U!==null&&U.tag===6?(a(z,U.sibling),te=f(U,G),te.return=z,z=te):(a(z,U),te=Nf(G,z.mode,te),te.return=z,z=te),E(z)):a(z,U)}return function(z,U,G,te){try{ul=0;var de=We(z,U,G,te);return xa=null,de}catch(me){if(me===el||me===Zu)throw me;var xe=En(29,me,null,z.mode);return xe.lanes=te,xe.return=z,xe}finally{}}}var Ma=Zy(!0),Wy=Zy(!1),Ln=se(null),fi=null;function Sr(n){var r=n.alternate;le(It,It.current&1),le(Ln,n),fi===null&&(r===null||Ia.current!==null||r.memoizedState!==null)&&(fi=n)}function e_(n){if(n.tag===22){if(le(It,It.current),le(Ln,n),fi===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(fi=n)}}else br()}function br(){le(It,It.current),le(Ln,Ln.current)}function $i(n){he(Ln),fi===n&&(fi=null),he(It)}var It=se(0);function hc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||em(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function hd(n,r,a,u){r=n.memoizedState,a=a(u,r),a=a==null?r:_({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var fd={enqueueSetState:function(n,r,a){n=n._reactInternals;var u=An(),f=vr(u);f.payload=r,a!=null&&(f.callback=a),r=Er(n,f,u),r!==null&&(wn(r,n,u),nl(r,n,u))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var u=An(),f=vr(u);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Er(n,f,u),r!==null&&(wn(r,n,u),nl(r,n,u))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=An(),u=vr(a);u.tag=2,r!=null&&(u.callback=r),r=Er(n,u,a),r!==null&&(wn(r,n,a),nl(r,n,a))}};function t_(n,r,a,u,f,d,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,d,E):r.prototype&&r.prototype.isPureReactComponent?!$o(a,u)||!$o(f,d):!0}function n_(n,r,a,u){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,u),r.state!==n&&fd.enqueueReplaceState(r,r.state,null)}function Ps(n,r){var a=r;if("ref"in r){a={};for(var u in r)u!=="ref"&&(a[u]=r[u])}if(n=n.defaultProps){a===r&&(a=_({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var fc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function i_(n){fc(n)}function r_(n){console.error(n)}function s_(n){fc(n)}function dc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function a_(n,r,a){try{var u=n.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function dd(n,r,a){return a=vr(a),a.tag=3,a.payload={element:null},a.callback=function(){dc(n,r)},a}function o_(n){return n=vr(n),n.tag=3,n}function l_(n,r,a,u){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=u.value;n.payload=function(){return f(d)},n.callback=function(){a_(r,a,u)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){a_(r,a,u),typeof f!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var b=u.stack;this.componentDidCatch(u.value,{componentStack:b!==null?b:""})})}function JA(n,r,a,u,f){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=a.alternate,r!==null&&Jo(r,a,f,!0),a=Ln.current,a!==null){switch(a.tag){case 13:return fi===null?Ud():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,u===qf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([u]):r.add(u),jd(n,u,f)),!1;case 22:return a.flags|=65536,u===qf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([u]):a.add(u)),jd(n,u,f)),!1}throw Error(s(435,a.tag))}return jd(n,u,f),Ud(),!1}if(Fe)return r=Ln.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==Pf&&(n=Error(s(422),{cause:u}),Xo(Vn(n,a)))):(u!==Pf&&(r=Error(s(423),{cause:u}),Xo(Vn(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=Vn(u,a),f=dd(n.stateNode,u,f),Gf(n,f),dt!==4&&(dt=2)),!1;var d=Error(s(520),{cause:u});if(d=Vn(d,a),yl===null?yl=[d]:yl.push(d),dt!==4&&(dt=2),r===null)return!0;u=Vn(u,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=dd(a.stateNode,u,n),Gf(a,n),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Or===null||!Or.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=o_(f),l_(f,n,a,u),Gf(a,f),!1}a=a.return}while(a!==null);return!1}var u_=Error(s(461)),kt=!1;function qt(n,r,a,u){r.child=n===null?Wy(r,null,a,u):Ma(r,n.child,a,u)}function c_(n,r,a,u,f){a=a.render;var d=r.ref;if("ref"in u){var E={};for(var b in u)b!=="ref"&&(E[b]=u[b])}else E=u;return xs(r),u=Xf(n,r,a,E,d,f),b=Jf(),n!==null&&!kt?(Zf(n,r,f),Ki(n,r,f)):(Fe&&b&&Mf(r),r.flags|=1,qt(n,r,u,f),r.child)}function h_(n,r,a,u,f){if(n===null){var d=a.type;return typeof d=="function"&&!Df(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,f_(n,r,d,u,f)):(n=$u(a.type,null,u,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(d=n.child,!Td(n,f)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:$o,a(E,u)&&n.ref===r.ref)return Ki(n,r,f)}return r.flags|=1,n=Bi(d,u),n.ref=r.ref,n.return=r,r.child=n}function f_(n,r,a,u,f){if(n!==null){var d=n.memoizedProps;if($o(d,u)&&n.ref===r.ref)if(kt=!1,r.pendingProps=u=d,Td(n,f))(n.flags&131072)!==0&&(kt=!0);else return r.lanes=n.lanes,Ki(n,r,f)}return md(n,r,a,u,f)}function d_(n,r,a){var u=r.pendingProps,f=u.children,d=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((r.flags&128)!==0){if(u=d!==null?d.baseLanes|a:a,n!==null){for(f=r.child=n.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;r.childLanes=d&~u}else r.childLanes=0,r.child=null;return m_(n,r,u,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Ju(r,d!==null?d.cachePool:null),d!==null?fy(r,d):Kf(),e_(r);else return r.lanes=r.childLanes=536870912,m_(n,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(Ju(r,d.cachePool),fy(r,d),br(),r.memoizedState=null):(n!==null&&Ju(r,null),Kf(),br());return qt(n,r,f,a),r.child}function m_(n,r,a,u){var f=zf();return f=f===null?null:{parent:Ct._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&Ju(r,null),Kf(),e_(r),n!==null&&Jo(n,r,u,!0),null}function mc(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function md(n,r,a,u,f){return xs(r),a=Xf(n,r,a,u,void 0,f),u=Jf(),n!==null&&!kt?(Zf(n,r,f),Ki(n,r,f)):(Fe&&u&&Mf(r),r.flags|=1,qt(n,r,a,f),r.child)}function p_(n,r,a,u,f,d){return xs(r),r.updateQueue=null,a=my(r,u,a,f),dy(n),u=Jf(),n!==null&&!kt?(Zf(n,r,d),Ki(n,r,d)):(Fe&&u&&Mf(r),r.flags|=1,qt(n,r,a,d),r.child)}function g_(n,r,a,u,f){if(xs(r),r.stateNode===null){var d=ba,E=a.contextType;typeof E=="object"&&E!==null&&(d=Xt(E)),d=new a(u,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=fd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=u,d.state=r.memoizedState,d.refs={},Hf(r),E=a.contextType,d.context=typeof E=="object"&&E!==null?Xt(E):ba,d.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(hd(r,a,E,u),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&fd.enqueueReplaceState(d,d.state,null),rl(r,u,d,f),il(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(n===null){d=r.stateNode;var b=r.memoizedProps,N=Ps(a,b);d.props=N;var $=d.context,W=a.contextType;E=ba,typeof W=="object"&&W!==null&&(E=Xt(W));var ne=a.getDerivedStateFromProps;W=typeof ne=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||$!==E)&&n_(r,d,u,E),_r=!1;var K=r.memoizedState;d.state=K,rl(r,u,d,f),il(),$=r.memoizedState,b||K!==$||_r?(typeof ne=="function"&&(hd(r,a,ne,u),$=r.memoizedState),(N=_r||t_(r,a,N,u,K,$,E))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=$),d.props=u,d.state=$,d.context=E,u=N):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{d=r.stateNode,Ff(n,r),E=r.memoizedProps,W=Ps(a,E),d.props=W,ne=r.pendingProps,K=d.context,$=a.contextType,N=ba,typeof $=="object"&&$!==null&&(N=Xt($)),b=a.getDerivedStateFromProps,($=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==ne||K!==N)&&n_(r,d,u,N),_r=!1,K=r.memoizedState,d.state=K,rl(r,u,d,f),il();var Q=r.memoizedState;E!==ne||K!==Q||_r||n!==null&&n.dependencies!==null&&Yu(n.dependencies)?(typeof b=="function"&&(hd(r,a,b,u),Q=r.memoizedState),(W=_r||t_(r,a,W,u,K,Q,N)||n!==null&&n.dependencies!==null&&Yu(n.dependencies))?($||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(u,Q,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(u,Q,N)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=Q),d.props=u,d.state=Q,d.context=N,u=W):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(r.flags|=1024),u=!1)}return d=u,mc(n,r),u=(r.flags&128)!==0,d||u?(d=r.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,n!==null&&u?(r.child=Ma(r,n.child,null,f),r.child=Ma(r,null,a,f)):qt(n,r,a,f),r.memoizedState=d.state,n=r.child):n=Ki(n,r,f),n}function y_(n,r,a,u){return Yo(),r.flags|=256,qt(n,r,a,u),r.child}var pd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gd(n){return{baseLanes:n,cachePool:ry()}}function yd(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=jn),n}function __(n,r,a){var u=r.pendingProps,f=!1,d=(r.flags&128)!==0,E;if((E=d)||(E=n!==null&&n.memoizedState===null?!1:(It.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,n===null){if(Fe){if(f?Sr(r):br(),Fe){var b=ft,N;if(N=b){e:{for(N=b,b=hi;N.nodeType!==8;){if(!b){b=null;break e}if(N=Kn(N.nextSibling),N===null){b=null;break e}}b=N}b!==null?(r.memoizedState={dehydrated:b,treeContext:Cs!==null?{id:zi,overflow:qi}:null,retryLane:536870912,hydrationErrors:null},N=En(18,null,null,0),N.stateNode=b,N.return=r,r.child=N,ln=r,ft=null,N=!0):N=!1}N||Ds(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return em(b)?r.lanes=32:r.lanes=536870912,null;$i(r)}return b=u.children,u=u.fallback,f?(br(),f=r.mode,b=pc({mode:"hidden",children:b},f),u=Rs(u,f,a,null),b.return=r,u.return=r,b.sibling=u,r.child=b,f=r.child,f.memoizedState=gd(a),f.childLanes=yd(n,E,a),r.memoizedState=pd,u):(Sr(r),_d(r,b))}if(N=n.memoizedState,N!==null&&(b=N.dehydrated,b!==null)){if(d)r.flags&256?(Sr(r),r.flags&=-257,r=vd(n,r,a)):r.memoizedState!==null?(br(),r.child=n.child,r.flags|=128,r=null):(br(),f=u.fallback,b=r.mode,u=pc({mode:"visible",children:u.children},b),f=Rs(f,b,a,null),f.flags|=2,u.return=r,f.return=r,u.sibling=f,r.child=u,Ma(r,n.child,null,a),u=r.child,u.memoizedState=gd(a),u.childLanes=yd(n,E,a),r.memoizedState=pd,r=f);else if(Sr(r),em(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var $=E.dgst;E=$,u=Error(s(419)),u.stack="",u.digest=E,Xo({value:u,source:null,stack:null}),r=vd(n,r,a)}else if(kt||Jo(n,r,a,!1),E=(a&n.childLanes)!==0,kt||E){if(E=rt,E!==null&&(u=a&-a,u=(u&42)!==0?1:cr(u),u=(u&(E.suspendedLanes|a))!==0?0:u,u!==0&&u!==N.retryLane))throw N.retryLane=u,Sa(n,u),wn(E,n,u),u_;b.data==="$?"||Ud(),r=vd(n,r,a)}else b.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=N.treeContext,ft=Kn(b.nextSibling),ln=r,Fe=!0,Os=null,hi=!1,n!==null&&(kn[Un++]=zi,kn[Un++]=qi,kn[Un++]=Cs,zi=n.id,qi=n.overflow,Cs=r),r=_d(r,u.children),r.flags|=4096);return r}return f?(br(),f=u.fallback,b=r.mode,N=n.child,$=N.sibling,u=Bi(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&65011712,$!==null?f=Bi($,f):(f=Rs(f,b,a,null),f.flags|=2),f.return=r,u.return=r,u.sibling=f,r.child=u,u=f,f=r.child,b=n.child.memoizedState,b===null?b=gd(a):(N=b.cachePool,N!==null?($=Ct._currentValue,N=N.parent!==$?{parent:$,pool:$}:N):N=ry(),b={baseLanes:b.baseLanes|a,cachePool:N}),f.memoizedState=b,f.childLanes=yd(n,E,a),r.memoizedState=pd,u):(Sr(r),a=n.child,n=a.sibling,a=Bi(a,{mode:"visible",children:u.children}),a.return=r,a.sibling=null,n!==null&&(E=r.deletions,E===null?(r.deletions=[n],r.flags|=16):E.push(n)),r.child=a,r.memoizedState=null,a)}function _d(n,r){return r=pc({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function pc(n,r){return n=En(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function vd(n,r,a){return Ma(r,n.child,null,a),n=_d(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function v_(n,r,a){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r),Uf(n.return,r,a)}function Ed(n,r,a,u,f){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=u,d.tail=a,d.tailMode=f)}function E_(n,r,a){var u=r.pendingProps,f=u.revealOrder,d=u.tail;if(qt(n,r,u.children,a),u=It.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&v_(n,a,r);else if(n.tag===19)v_(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(le(It,u),f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&hc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Ed(r,!1,f,a,d);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&hc(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Ed(r,!0,a,null,d);break;case"together":Ed(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Ki(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Ir|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(Jo(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=Bi(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=Bi(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Td(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Yu(n)))}function ZA(n,r,a){switch(r.tag){case 3:it(r,r.stateNode.containerInfo),yr(r,Ct,n.memoizedState.cache),Yo();break;case 27:case 5:ur(r);break;case 4:it(r,r.stateNode.containerInfo);break;case 10:yr(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Sr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?__(n,r,a):(Sr(r),n=Ki(n,r,a),n!==null?n.sibling:null);Sr(r);break;case 19:var f=(n.flags&128)!==0;if(u=(a&r.childLanes)!==0,u||(Jo(n,r,a,!1),u=(a&r.childLanes)!==0),f){if(u)return E_(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),le(It,It.current),u)break;return null;case 22:case 23:return r.lanes=0,d_(n,r,a);case 24:yr(r,Ct,n.memoizedState.cache)}return Ki(n,r,a)}function T_(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)kt=!0;else{if(!Td(n,a)&&(r.flags&128)===0)return kt=!1,ZA(n,r,a);kt=(n.flags&131072)!==0}else kt=!1,Fe&&(r.flags&1048576)!==0&&Jg(r,Qu,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var u=r.elementType,f=u._init;if(u=f(u._payload),r.type=u,typeof u=="function")Df(u)?(n=Ps(u,n),r.tag=1,r=g_(null,r,u,n,a)):(r.tag=0,r=md(null,r,u,n,a));else{if(u!=null){if(f=u.$$typeof,f===re){r.tag=11,r=c_(null,r,u,n,a);break e}else if(f===D){r.tag=14,r=h_(null,r,u,n,a);break e}}throw r=ot(u)||u,Error(s(306,r,""))}}return r;case 0:return md(n,r,r.type,r.pendingProps,a);case 1:return u=r.type,f=Ps(u,r.pendingProps),g_(n,r,u,f,a);case 3:e:{if(it(r,r.stateNode.containerInfo),n===null)throw Error(s(387));u=r.pendingProps;var d=r.memoizedState;f=d.element,Ff(n,r),rl(r,u,null,a);var E=r.memoizedState;if(u=E.cache,yr(r,Ct,u),u!==d.cache&&Lf(r,[Ct],a,!0),il(),u=E.element,d.isDehydrated)if(d={element:u,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=y_(n,r,u,a);break e}else if(u!==f){f=Vn(Error(s(424)),r),Xo(f),r=y_(n,r,u,a);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ft=Kn(n.firstChild),ln=r,Fe=!0,Os=null,hi=!0,a=Wy(r,null,u,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Yo(),u===f){r=Ki(n,r,a);break e}qt(n,r,u,a)}r=r.child}return r;case 26:return mc(n,r),n===null?(a=wv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Fe||(a=r.type,n=r.pendingProps,u=Oc(Ae.current).createElement(a),u[At]=r,u[vt]=n,Ft(u,a,n),pt(u),r.stateNode=u):r.memoizedState=wv(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return ur(r),n===null&&Fe&&(u=r.stateNode=Sv(r.type,r.pendingProps,Ae.current),ln=r,hi=!0,f=ft,xr(r.type)?(tm=f,ft=Kn(u.firstChild)):ft=f),qt(n,r,r.pendingProps.children,a),mc(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Fe&&((f=u=ft)&&(u=Rw(u,r.type,r.pendingProps,hi),u!==null?(r.stateNode=u,ln=r,ft=Kn(u.firstChild),hi=!1,f=!0):f=!1),f||Ds(r)),ur(r),f=r.type,d=r.pendingProps,E=n!==null?n.memoizedProps:null,u=d.children,Jd(f,d)?u=null:E!==null&&Jd(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=Xf(n,r,FA,null,null,a),Rl._currentValue=f),mc(n,r),qt(n,r,u,a),r.child;case 6:return n===null&&Fe&&((n=a=ft)&&(a=Cw(a,r.pendingProps,hi),a!==null?(r.stateNode=a,ln=r,ft=null,n=!0):n=!1),n||Ds(r)),null;case 13:return __(n,r,a);case 4:return it(r,r.stateNode.containerInfo),u=r.pendingProps,n===null?r.child=Ma(r,null,u,a):qt(n,r,u,a),r.child;case 11:return c_(n,r,r.type,r.pendingProps,a);case 7:return qt(n,r,r.pendingProps,a),r.child;case 8:return qt(n,r,r.pendingProps.children,a),r.child;case 12:return qt(n,r,r.pendingProps.children,a),r.child;case 10:return u=r.pendingProps,yr(r,r.type,u.value),qt(n,r,u.children,a),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,xs(r),f=Xt(f),u=u(f),r.flags|=1,qt(n,r,u,a),r.child;case 14:return h_(n,r,r.type,r.pendingProps,a);case 15:return f_(n,r,r.type,r.pendingProps,a);case 19:return E_(n,r,a);case 31:return u=r.pendingProps,a=r.mode,u={mode:u.mode,children:u.children},n===null?(a=pc(u,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Bi(n.child,u),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return d_(n,r,a);case 24:return xs(r),u=Xt(Ct),n===null?(f=zf(),f===null&&(f=rt,d=jf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:u,cache:f},Hf(r),yr(r,Ct,f)):((n.lanes&a)!==0&&(Ff(n,r),rl(r,null,null,a),il()),f=n.memoizedState,d=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),yr(r,Ct,u)):(u=d.cache,yr(r,Ct,u),u!==f.cache&&Lf(r,[Ct],a,!0))),qt(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Qi(n){n.flags|=4}function S_(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Dv(r)){if(r=Ln.current,r!==null&&((Be&4194048)===Be?fi!==null:(Be&62914560)!==Be&&(Be&536870912)===0||r!==fi))throw tl=qf,sy;n.flags|=8192}}function gc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Io():536870912,n.lanes|=r,Ua|=r)}function hl(n,r){if(!Fe)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function lt(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,u=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=a,r}function WA(n,r,a){var u=r.pendingProps;switch(Vf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(r),null;case 1:return lt(r),null;case 3:return a=r.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Fi(Ct),Wn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Qo(r)?Qi(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,ey())),lt(r),null;case 26:return a=r.memoizedState,n===null?(Qi(r),a!==null?(lt(r),S_(r,a)):(lt(r),r.flags&=-16777217)):a?a!==n.memoizedState?(Qi(r),lt(r),S_(r,a)):(lt(r),r.flags&=-16777217):(n.memoizedProps!==u&&Qi(r),lt(r),r.flags&=-16777217),null;case 27:Ci(r),a=Ae.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==u&&Qi(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return lt(r),null}n=ge.current,Qo(r)?Zg(r):(n=Sv(f,u,a),r.stateNode=n,Qi(r))}return lt(r),null;case 5:if(Ci(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&Qi(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return lt(r),null}if(n=ge.current,Qo(r))Zg(r);else{switch(f=Oc(Ae.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?f.createElement(a,{is:u.is}):f.createElement(a)}}n[At]=r,n[vt]=u;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;e:switch(Ft(n,a,u),a){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Qi(r)}}return lt(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==u&&Qi(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(n=Ae.current,Qo(r)){if(n=r.stateNode,a=r.memoizedProps,u=null,f=ln,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[At]=r,n=!!(n.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||pv(n.nodeValue,a)),n||Ds(r)}else n=Oc(n).createTextNode(u),n[At]=r,r.stateNode=n}return lt(r),null;case 13:if(u=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Qo(r),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[At]=r}else Yo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;lt(r),f=!1}else f=ey(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?($i(r),r):($i(r),null)}if($i(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=u!==null,n=n!==null&&n.memoizedState!==null,a){u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var d=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(d=u.memoizedState.cachePool.pool),d!==f&&(u.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),gc(r,r.updateQueue),lt(r),null;case 4:return Wn(),n===null&&$d(r.stateNode.containerInfo),lt(r),null;case 10:return Fi(r.type),lt(r),null;case 19:if(he(It),f=r.memoizedState,f===null)return lt(r),null;if(u=(r.flags&128)!==0,d=f.rendering,d===null)if(u)hl(f,!1);else{if(dt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(d=hc(n),d!==null){for(r.flags|=128,hl(f,!1),n=d.updateQueue,r.updateQueue=n,gc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)Xg(a,n),a=a.sibling;return le(It,It.current&1|2),r.child}n=n.sibling}f.tail!==null&&In()>vc&&(r.flags|=128,u=!0,hl(f,!1),r.lanes=4194304)}else{if(!u)if(n=hc(d),n!==null){if(r.flags|=128,u=!0,n=n.updateQueue,r.updateQueue=n,gc(r,n),hl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!Fe)return lt(r),null}else 2*In()-f.renderingStartTime>vc&&a!==536870912&&(r.flags|=128,u=!0,hl(f,!1),r.lanes=4194304);f.isBackwards?(d.sibling=r.child,r.child=d):(n=f.last,n!==null?n.sibling=d:r.child=d,f.last=d)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=In(),r.sibling=null,n=It.current,le(It,u?n&1|2:n&1),r):(lt(r),null);case 22:case 23:return $i(r),Qf(),u=r.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(a&536870912)!==0&&(r.flags&128)===0&&(lt(r),r.subtreeFlags&6&&(r.flags|=8192)):lt(r),a=r.updateQueue,a!==null&&gc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==a&&(r.flags|=2048),n!==null&&he(Ms),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Fi(Ct),lt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function ew(n,r){switch(Vf(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Fi(Ct),Wn(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Ci(r),null;case 13:if($i(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Yo()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return he(It),null;case 4:return Wn(),null;case 10:return Fi(r.type),null;case 22:case 23:return $i(r),Qf(),n!==null&&he(Ms),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Fi(Ct),null;case 25:return null;default:return null}}function b_(n,r){switch(Vf(r),r.tag){case 3:Fi(Ct),Wn();break;case 26:case 27:case 5:Ci(r);break;case 4:Wn();break;case 13:$i(r);break;case 19:he(It);break;case 10:Fi(r.type);break;case 22:case 23:$i(r),Qf(),n!==null&&he(Ms);break;case 24:Fi(Ct)}}function fl(n,r){try{var a=r.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&n)===n){u=void 0;var d=a.create,E=a.inst;u=d(),E.destroy=u}a=a.next}while(a!==f)}}catch(b){nt(r,r.return,b)}}function Ar(n,r,a){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var d=f.next;u=d;do{if((u.tag&n)===n){var E=u.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,f=r;var N=a,$=b;try{$()}catch(W){nt(f,N,W)}}}u=u.next}while(u!==d)}}catch(W){nt(r,r.return,W)}}function A_(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{hy(r,a)}catch(u){nt(n,n.return,u)}}}function w_(n,r,a){a.props=Ps(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(u){nt(n,r,u)}}function dl(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof a=="function"?n.refCleanup=a(u):a.current=u}}catch(f){nt(n,r,f)}}function di(n,r){var a=n.ref,u=n.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(f){nt(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){nt(n,r,f)}else a.current=null}function R_(n){var r=n.type,a=n.memoizedProps,u=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(f){nt(n,n.return,f)}}function Sd(n,r,a){try{var u=n.stateNode;Tw(u,n.type,a,r),u[vt]=r}catch(f){nt(n,n.return,f)}}function C_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&xr(n.type)||n.tag===4}function bd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||C_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&xr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ad(n,r,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Ic));else if(u!==4&&(u===27&&xr(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(Ad(n,r,a),n=n.sibling;n!==null;)Ad(n,r,a),n=n.sibling}function yc(n,r,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(u!==4&&(u===27&&xr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(yc(n,r,a),n=n.sibling;n!==null;)yc(n,r,a),n=n.sibling}function I_(n){var r=n.stateNode,a=n.memoizedProps;try{for(var u=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Ft(r,u,a),r[At]=n,r[vt]=a}catch(d){nt(n,n.return,d)}}var Yi=!1,yt=!1,wd=!1,O_=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function tw(n,r){if(n=n.containerInfo,Yd=Pc,n=Bg(n),bf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,b=-1,N=-1,$=0,W=0,ne=n,K=null;t:for(;;){for(var Q;ne!==a||f!==0&&ne.nodeType!==3||(b=E+f),ne!==d||u!==0&&ne.nodeType!==3||(N=E+u),ne.nodeType===3&&(E+=ne.nodeValue.length),(Q=ne.firstChild)!==null;)K=ne,ne=Q;for(;;){if(ne===n)break t;if(K===a&&++$===f&&(b=E),K===d&&++W===u&&(N=E),(Q=ne.nextSibling)!==null)break;ne=K,K=ne.parentNode}ne=Q}a=b===-1||N===-1?null:{start:b,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Xd={focusedElem:n,selectionRange:a},Pc=!1,Ut=r;Ut!==null;)if(r=Ut,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,Ut=n;else for(;Ut!==null;){switch(r=Ut,d=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,u=a.stateNode;try{var Te=Ps(a.type,f,a.elementType===a.type);n=u.getSnapshotBeforeUpdate(Te,d),u.__reactInternalSnapshotBeforeUpdate=n}catch(_e){nt(a,a.return,_e)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)Wd(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Wd(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Ut=n;break}Ut=r.return}}function D_(n,r,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:wr(n,a),u&4&&fl(5,a);break;case 1:if(wr(n,a),u&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(E){nt(a,a.return,E)}else{var f=Ps(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(E){nt(a,a.return,E)}}u&64&&A_(a),u&512&&dl(a,a.return);break;case 3:if(wr(n,a),u&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{hy(n,r)}catch(E){nt(a,a.return,E)}}break;case 27:r===null&&u&4&&I_(a);case 26:case 5:wr(n,a),r===null&&u&4&&R_(a),u&512&&dl(a,a.return);break;case 12:wr(n,a);break;case 13:wr(n,a),u&4&&M_(n,a),u&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=cw.bind(null,a),Iw(n,a))));break;case 22:if(u=a.memoizedState!==null||Yi,!u){r=r!==null&&r.memoizedState!==null||yt,f=Yi;var d=yt;Yi=u,(yt=r)&&!d?Rr(n,a,(a.subtreeFlags&8772)!==0):wr(n,a),Yi=f,yt=d}break;case 30:break;default:wr(n,a)}}function N_(n){var r=n.alternate;r!==null&&(n.alternate=null,N_(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&dr(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var at=null,hn=!1;function Xi(n,r,a){for(a=a.child;a!==null;)x_(n,r,a),a=a.sibling}function x_(n,r,a){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(ht,a)}catch{}switch(a.tag){case 26:yt||di(a,r),Xi(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:yt||di(a,r);var u=at,f=hn;xr(a.type)&&(at=a.stateNode,hn=!1),Xi(n,r,a),Sl(a.stateNode),at=u,hn=f;break;case 5:yt||di(a,r);case 6:if(u=at,f=hn,at=null,Xi(n,r,a),at=u,hn=f,at!==null)if(hn)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(a.stateNode)}catch(d){nt(a,r,d)}else try{at.removeChild(a.stateNode)}catch(d){nt(a,r,d)}break;case 18:at!==null&&(hn?(n=at,Ev(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Dl(n)):Ev(at,a.stateNode));break;case 4:u=at,f=hn,at=a.stateNode.containerInfo,hn=!0,Xi(n,r,a),at=u,hn=f;break;case 0:case 11:case 14:case 15:yt||Ar(2,a,r),yt||Ar(4,a,r),Xi(n,r,a);break;case 1:yt||(di(a,r),u=a.stateNode,typeof u.componentWillUnmount=="function"&&w_(a,r,u)),Xi(n,r,a);break;case 21:Xi(n,r,a);break;case 22:yt=(u=yt)||a.memoizedState!==null,Xi(n,r,a),yt=u;break;default:Xi(n,r,a)}}function M_(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Dl(n)}catch(a){nt(r,r.return,a)}}function nw(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new O_),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new O_),r;default:throw Error(s(435,n.tag))}}function Rd(n,r){var a=nw(n);r.forEach(function(u){var f=hw.bind(null,n,u);a.has(u)||(a.add(u),u.then(f,f))})}function Tn(n,r){var a=r.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u],d=n,E=r,b=E;e:for(;b!==null;){switch(b.tag){case 27:if(xr(b.type)){at=b.stateNode,hn=!1;break e}break;case 5:at=b.stateNode,hn=!1;break e;case 3:case 4:at=b.stateNode.containerInfo,hn=!0;break e}b=b.return}if(at===null)throw Error(s(160));x_(d,E,f),at=null,hn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)V_(r,n),r=r.sibling}var $n=null;function V_(n,r){var a=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Tn(r,n),Sn(n),u&4&&(Ar(3,n,n.return),fl(3,n),Ar(5,n,n.return));break;case 1:Tn(r,n),Sn(n),u&512&&(yt||a===null||di(a,a.return)),u&64&&Yi&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var f=$n;if(Tn(r,n),Sn(n),u&512&&(yt||a===null||di(a,a.return)),u&4){var d=a!==null?a.memoizedState:null;if(u=n.memoizedState,a===null)if(u===null)if(n.stateNode===null){e:{u=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":d=f.getElementsByTagName("title")[0],(!d||d[cs]||d[At]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(u),f.head.insertBefore(d,f.querySelector("head > title"))),Ft(d,u,a),d[At]=n,pt(d),u=d;break e;case"link":var E=Iv("link","href",f).get(u+(a.href||""));if(E){for(var b=0;b<E.length;b++)if(d=E[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(b,1);break t}}d=f.createElement(u),Ft(d,u,a),f.head.appendChild(d);break;case"meta":if(E=Iv("meta","content",f).get(u+(a.content||""))){for(b=0;b<E.length;b++)if(d=E[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(b,1);break t}}d=f.createElement(u),Ft(d,u,a),f.head.appendChild(d);break;default:throw Error(s(468,u))}d[At]=n,pt(d),u=d}n.stateNode=u}else Ov(f,n.type,n.stateNode);else n.stateNode=Cv(f,u,n.memoizedProps);else d!==u?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,u===null?Ov(f,n.type,n.stateNode):Cv(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Sd(n,n.memoizedProps,a.memoizedProps)}break;case 27:Tn(r,n),Sn(n),u&512&&(yt||a===null||di(a,a.return)),a!==null&&u&4&&Sd(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Tn(r,n),Sn(n),u&512&&(yt||a===null||di(a,a.return)),n.flags&32){f=n.stateNode;try{Dn(f,"")}catch(Q){nt(n,n.return,Q)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,Sd(n,f,a!==null?a.memoizedProps:f)),u&1024&&(wd=!0);break;case 6:if(Tn(r,n),Sn(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,a=n.stateNode;try{a.nodeValue=u}catch(Q){nt(n,n.return,Q)}}break;case 3:if(xc=null,f=$n,$n=Dc(r.containerInfo),Tn(r,n),$n=f,Sn(n),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Dl(r.containerInfo)}catch(Q){nt(n,n.return,Q)}wd&&(wd=!1,P_(n));break;case 4:u=$n,$n=Dc(n.stateNode.containerInfo),Tn(r,n),Sn(n),$n=u;break;case 12:Tn(r,n),Sn(n);break;case 13:Tn(r,n),Sn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(xd=In()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Rd(n,u)));break;case 22:f=n.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,$=Yi,W=yt;if(Yi=$||f,yt=W||N,Tn(r,n),yt=W,Yi=$,Sn(n),u&8192)e:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||N||Yi||yt||ks(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){N=a=r;try{if(d=N.stateNode,f)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=N.stateNode;var ne=N.memoizedProps.style,K=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;b.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(Q){nt(N,N.return,Q)}}}else if(r.tag===6){if(a===null){N=r;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(Q){nt(N,N.return,Q)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=n.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,Rd(n,a))));break;case 19:Tn(r,n),Sn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Rd(n,u)));break;case 30:break;case 21:break;default:Tn(r,n),Sn(n)}}function Sn(n){var r=n.flags;if(r&2){try{for(var a,u=n.return;u!==null;){if(C_(u)){a=u;break}u=u.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=bd(n);yc(n,d,f);break;case 5:var E=a.stateNode;a.flags&32&&(Dn(E,""),a.flags&=-33);var b=bd(n);yc(n,b,E);break;case 3:case 4:var N=a.stateNode.containerInfo,$=bd(n);Ad(n,$,N);break;default:throw Error(s(161))}}catch(W){nt(n,n.return,W)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function P_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;P_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function wr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)D_(n,r.alternate,r),r=r.sibling}function ks(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Ar(4,r,r.return),ks(r);break;case 1:di(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&w_(r,r.return,a),ks(r);break;case 27:Sl(r.stateNode);case 26:case 5:di(r,r.return),ks(r);break;case 22:r.memoizedState===null&&ks(r);break;case 30:ks(r);break;default:ks(r)}n=n.sibling}}function Rr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=n,d=r,E=d.flags;switch(d.tag){case 0:case 11:case 15:Rr(f,d,a),fl(4,d);break;case 1:if(Rr(f,d,a),u=d,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch($){nt(u,u.return,$)}if(u=d,f=u.updateQueue,f!==null){var b=u.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)cy(N[f],b)}catch($){nt(u,u.return,$)}}a&&E&64&&A_(d),dl(d,d.return);break;case 27:I_(d);case 26:case 5:Rr(f,d,a),a&&u===null&&E&4&&R_(d),dl(d,d.return);break;case 12:Rr(f,d,a);break;case 13:Rr(f,d,a),a&&E&4&&M_(f,d);break;case 22:d.memoizedState===null&&Rr(f,d,a),dl(d,d.return);break;case 30:break;default:Rr(f,d,a)}r=r.sibling}}function Cd(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Zo(a))}function Id(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Zo(n))}function mi(n,r,a,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)k_(n,r,a,u),r=r.sibling}function k_(n,r,a,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:mi(n,r,a,u),f&2048&&fl(9,r);break;case 1:mi(n,r,a,u);break;case 3:mi(n,r,a,u),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Zo(n)));break;case 12:if(f&2048){mi(n,r,a,u),n=r.stateNode;try{var d=r.memoizedProps,E=d.id,b=d.onPostCommit;typeof b=="function"&&b(E,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(N){nt(r,r.return,N)}}else mi(n,r,a,u);break;case 13:mi(n,r,a,u);break;case 23:break;case 22:d=r.stateNode,E=r.alternate,r.memoizedState!==null?d._visibility&2?mi(n,r,a,u):ml(n,r):d._visibility&2?mi(n,r,a,u):(d._visibility|=2,Va(n,r,a,u,(r.subtreeFlags&10256)!==0)),f&2048&&Cd(E,r);break;case 24:mi(n,r,a,u),f&2048&&Id(r.alternate,r);break;default:mi(n,r,a,u)}}function Va(n,r,a,u,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=n,E=r,b=a,N=u,$=E.flags;switch(E.tag){case 0:case 11:case 15:Va(d,E,b,N,f),fl(8,E);break;case 23:break;case 22:var W=E.stateNode;E.memoizedState!==null?W._visibility&2?Va(d,E,b,N,f):ml(d,E):(W._visibility|=2,Va(d,E,b,N,f)),f&&$&2048&&Cd(E.alternate,E);break;case 24:Va(d,E,b,N,f),f&&$&2048&&Id(E.alternate,E);break;default:Va(d,E,b,N,f)}r=r.sibling}}function ml(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,u=r,f=u.flags;switch(u.tag){case 22:ml(a,u),f&2048&&Cd(u.alternate,u);break;case 24:ml(a,u),f&2048&&Id(u.alternate,u);break;default:ml(a,u)}r=r.sibling}}var pl=8192;function Pa(n){if(n.subtreeFlags&pl)for(n=n.child;n!==null;)U_(n),n=n.sibling}function U_(n){switch(n.tag){case 26:Pa(n),n.flags&pl&&n.memoizedState!==null&&zw($n,n.memoizedState,n.memoizedProps);break;case 5:Pa(n);break;case 3:case 4:var r=$n;$n=Dc(n.stateNode.containerInfo),Pa(n),$n=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=pl,pl=16777216,Pa(n),pl=r):Pa(n));break;default:Pa(n)}}function L_(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function gl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];Ut=u,B_(u,n)}L_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)j_(n),n=n.sibling}function j_(n){switch(n.tag){case 0:case 11:case 15:gl(n),n.flags&2048&&Ar(9,n,n.return);break;case 3:gl(n);break;case 12:gl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,_c(n)):gl(n);break;default:gl(n)}}function _c(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];Ut=u,B_(u,n)}L_(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Ar(8,r,r.return),_c(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,_c(r));break;default:_c(r)}n=n.sibling}}function B_(n,r){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Ar(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Zo(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,Ut=u;else e:for(a=n;Ut!==null;){u=Ut;var f=u.sibling,d=u.return;if(N_(u),u===a){Ut=null;break e}if(f!==null){f.return=d,Ut=f;break e}Ut=d}}}var iw={getCacheForType:function(n){var r=Xt(Ct),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},rw=typeof WeakMap=="function"?WeakMap:Map,Qe=0,rt=null,Ve=null,Be=0,Ye=0,bn=null,Cr=!1,ka=!1,Od=!1,Ji=0,dt=0,Ir=0,Us=0,Dd=0,jn=0,Ua=0,yl=null,fn=null,Nd=!1,xd=0,vc=1/0,Ec=null,Or=null,Ht=0,Dr=null,La=null,ja=0,Md=0,Vd=null,z_=null,_l=0,Pd=null;function An(){if((Qe&2)!==0&&Be!==0)return Be&-Be;if(Z.T!==null){var n=Ra;return n!==0?n:qd()}return hr()}function q_(){jn===0&&(jn=(Be&536870912)===0||Fe?Co():536870912);var n=Ln.current;return n!==null&&(n.flags|=32),jn}function wn(n,r,a){(n===rt&&(Ye===2||Ye===9)||n.cancelPendingCommit!==null)&&(Ba(n,0),Nr(n,Be,jn,!1)),Oi(n,a),((Qe&2)===0||n!==rt)&&(n===rt&&((Qe&2)===0&&(Us|=a),dt===4&&Nr(n,Be,jn,!1)),pi(n))}function H_(n,r,a){if((Qe&6)!==0)throw Error(s(327));var u=!a&&(r&124)===0&&(r&n.expiredLanes)===0||us(n,r),f=u?ow(n,r):Ld(n,r,!0),d=u;do{if(f===0){ka&&!u&&Nr(n,r,0,!1);break}else{if(a=n.current.alternate,d&&!sw(a)){f=Ld(n,r,!1),d=!1;continue}if(f===2){if(d=r,n.errorRecoveryDisabledLanes&d)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var b=n;f=yl;var N=b.current.memoizedState.isDehydrated;if(N&&(Ba(b,E).flags|=256),E=Ld(b,E,!1),E!==2){if(Od&&!N){b.errorRecoveryDisabledLanes|=d,Us|=d,f=4;break e}d=fn,fn=f,d!==null&&(fn===null?fn=d:fn.push.apply(fn,d))}f=E}if(d=!1,f!==2)continue}}if(f===1){Ba(n,0),Nr(n,r,0,!0);break}e:{switch(u=n,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Nr(u,r,jn,!Cr);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=xd+300-In(),10<f)){if(Nr(u,r,jn,!Cr),ia(u,0,!0)!==0)break e;u.timeoutHandle=_v(F_.bind(null,u,a,fn,Ec,Nd,r,jn,Us,Ua,Cr,d,2,-0,0),f);break e}F_(u,a,fn,Ec,Nd,r,jn,Us,Ua,Cr,d,0,-0,0)}}break}while(!0);pi(n)}function F_(n,r,a,u,f,d,E,b,N,$,W,ne,K,Q){if(n.timeoutHandle=-1,ne=r.subtreeFlags,(ne&8192||(ne&16785408)===16785408)&&(wl={stylesheets:null,count:0,unsuspend:Bw},U_(r),ne=qw(),ne!==null)){n.cancelPendingCommit=ne(J_.bind(null,n,r,d,a,u,f,E,b,N,W,1,K,Q)),Nr(n,d,E,!$);return}J_(n,r,d,a,u,f,E,b,N)}function sw(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var f=a[u],d=f.getSnapshot;f=f.value;try{if(!vn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Nr(n,r,a,u){r&=~Dd,r&=~Us,n.suspendedLanes|=r,n.pingedLanes&=~r,u&&(n.warmLanes|=r),u=n.expirationTimes;for(var f=r;0<f;){var d=31-Yt(f),E=1<<d;u[d]=-1,f&=~E}a!==0&&ei(n,a,r)}function Tc(){return(Qe&6)===0?(vl(0),!1):!0}function kd(){if(Ve!==null){if(Ye===0)var n=Ve.return;else n=Ve,Hi=Ns=null,Wf(n),xa=null,ul=0,n=Ve;for(;n!==null;)b_(n.alternate,n),n=n.return;Ve=null}}function Ba(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,bw(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),kd(),rt=n,Ve=a=Bi(n.current,null),Be=r,Ye=0,bn=null,Cr=!1,ka=us(n,r),Od=!1,Ua=jn=Dd=Us=Ir=dt=0,fn=yl=null,Nd=!1,(r&8)!==0&&(r|=r&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=r;0<u;){var f=31-Yt(u),d=1<<f;r|=n[f],u&=~d}return Ji=r,Hu(),a}function G_(n,r){Oe=null,Z.H=lc,r===el||r===Zu?(r=ly(),Ye=3):r===sy?(r=ly(),Ye=4):Ye=r===u_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,bn=r,Ve===null&&(dt=1,dc(n,Vn(r,n.current)))}function $_(){var n=Z.H;return Z.H=lc,n===null?lc:n}function K_(){var n=Z.A;return Z.A=iw,n}function Ud(){dt=4,Cr||(Be&4194048)!==Be&&Ln.current!==null||(ka=!0),(Ir&134217727)===0&&(Us&134217727)===0||rt===null||Nr(rt,Be,jn,!1)}function Ld(n,r,a){var u=Qe;Qe|=2;var f=$_(),d=K_();(rt!==n||Be!==r)&&(Ec=null,Ba(n,r)),r=!1;var E=dt;e:do try{if(Ye!==0&&Ve!==null){var b=Ve,N=bn;switch(Ye){case 8:kd(),E=6;break e;case 3:case 2:case 9:case 6:Ln.current===null&&(r=!0);var $=Ye;if(Ye=0,bn=null,za(n,b,N,$),a&&ka){E=0;break e}break;default:$=Ye,Ye=0,bn=null,za(n,b,N,$)}}aw(),E=dt;break}catch(W){G_(n,W)}while(!0);return r&&n.shellSuspendCounter++,Hi=Ns=null,Qe=u,Z.H=f,Z.A=d,Ve===null&&(rt=null,Be=0,Hu()),E}function aw(){for(;Ve!==null;)Q_(Ve)}function ow(n,r){var a=Qe;Qe|=2;var u=$_(),f=K_();rt!==n||Be!==r?(Ec=null,vc=In()+500,Ba(n,r)):ka=us(n,r);e:do try{if(Ye!==0&&Ve!==null){r=Ve;var d=bn;t:switch(Ye){case 1:Ye=0,bn=null,za(n,r,d,1);break;case 2:case 9:if(ay(d)){Ye=0,bn=null,Y_(r);break}r=function(){Ye!==2&&Ye!==9||rt!==n||(Ye=7),pi(n)},d.then(r,r);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:ay(d)?(Ye=0,bn=null,Y_(r)):(Ye=0,bn=null,za(n,r,d,7));break;case 5:var E=null;switch(Ve.tag){case 26:E=Ve.memoizedState;case 5:case 27:var b=Ve;if(!E||Dv(E)){Ye=0,bn=null;var N=b.sibling;if(N!==null)Ve=N;else{var $=b.return;$!==null?(Ve=$,Sc($)):Ve=null}break t}}Ye=0,bn=null,za(n,r,d,5);break;case 6:Ye=0,bn=null,za(n,r,d,6);break;case 8:kd(),dt=6;break e;default:throw Error(s(462))}}lw();break}catch(W){G_(n,W)}while(!0);return Hi=Ns=null,Z.H=u,Z.A=f,Qe=a,Ve!==null?0:(rt=null,Be=0,Hu(),dt)}function lw(){for(;Ve!==null&&!bo();)Q_(Ve)}function Q_(n){var r=T_(n.alternate,n,Ji);n.memoizedProps=n.pendingProps,r===null?Sc(n):Ve=r}function Y_(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=p_(a,r,r.pendingProps,r.type,void 0,Be);break;case 11:r=p_(a,r,r.pendingProps,r.type.render,r.ref,Be);break;case 5:Wf(r);default:b_(a,r),r=Ve=Xg(r,Ji),r=T_(a,r,Ji)}n.memoizedProps=n.pendingProps,r===null?Sc(n):Ve=r}function za(n,r,a,u){Hi=Ns=null,Wf(r),xa=null,ul=0;var f=r.return;try{if(JA(n,f,r,a,Be)){dt=1,dc(n,Vn(a,n.current)),Ve=null;return}}catch(d){if(f!==null)throw Ve=f,d;dt=1,dc(n,Vn(a,n.current)),Ve=null;return}r.flags&32768?(Fe||u===1?n=!0:ka||(Be&536870912)!==0?n=!1:(Cr=n=!0,(u===2||u===9||u===3||u===6)&&(u=Ln.current,u!==null&&u.tag===13&&(u.flags|=16384))),X_(r,n)):Sc(r)}function Sc(n){var r=n;do{if((r.flags&32768)!==0){X_(r,Cr);return}n=r.return;var a=WA(r.alternate,r,Ji);if(a!==null){Ve=a;return}if(r=r.sibling,r!==null){Ve=r;return}Ve=r=n}while(r!==null);dt===0&&(dt=5)}function X_(n,r){do{var a=ew(n.alternate,n);if(a!==null){a.flags&=32767,Ve=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Ve=n;return}Ve=n=a}while(n!==null);dt=6,Ve=null}function J_(n,r,a,u,f,d,E,b,N){n.cancelPendingCommit=null;do bc();while(Ht!==0);if((Qe&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=If,Oo(n,a,d,E,b,N),n===rt&&(Ve=rt=null,Be=0),La=r,Dr=n,ja=a,Md=d,Vd=f,z_=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,fw(ss,function(){return nv(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null,f=ce.p,ce.p=2,E=Qe,Qe|=4;try{tw(n,r,a)}finally{Qe=E,ce.p=f,Z.T=u}}Ht=1,Z_(),W_(),ev()}}function Z_(){if(Ht===1){Ht=0;var n=Dr,r=La,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Z.T,Z.T=null;var u=ce.p;ce.p=2;var f=Qe;Qe|=4;try{V_(r,n);var d=Xd,E=Bg(n.containerInfo),b=d.focusedElem,N=d.selectionRange;if(E!==b&&b&&b.ownerDocument&&jg(b.ownerDocument.documentElement,b)){if(N!==null&&bf(b)){var $=N.start,W=N.end;if(W===void 0&&(W=$),"selectionStart"in b)b.selectionStart=$,b.selectionEnd=Math.min(W,b.value.length);else{var ne=b.ownerDocument||document,K=ne&&ne.defaultView||window;if(K.getSelection){var Q=K.getSelection(),Te=b.textContent.length,_e=Math.min(N.start,Te),We=N.end===void 0?_e:Math.min(N.end,Te);!Q.extend&&_e>We&&(E=We,We=_e,_e=E);var z=Lg(b,_e),U=Lg(b,We);if(z&&U&&(Q.rangeCount!==1||Q.anchorNode!==z.node||Q.anchorOffset!==z.offset||Q.focusNode!==U.node||Q.focusOffset!==U.offset)){var G=ne.createRange();G.setStart(z.node,z.offset),Q.removeAllRanges(),_e>We?(Q.addRange(G),Q.extend(U.node,U.offset)):(G.setEnd(U.node,U.offset),Q.addRange(G))}}}}for(ne=[],Q=b;Q=Q.parentNode;)Q.nodeType===1&&ne.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ne.length;b++){var te=ne[b];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}Pc=!!Yd,Xd=Yd=null}finally{Qe=f,ce.p=u,Z.T=a}}n.current=r,Ht=2}}function W_(){if(Ht===2){Ht=0;var n=Dr,r=La,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Z.T,Z.T=null;var u=ce.p;ce.p=2;var f=Qe;Qe|=4;try{D_(n,r.alternate,r)}finally{Qe=f,ce.p=u,Z.T=a}}Ht=3}}function ev(){if(Ht===4||Ht===3){Ht=0,_u();var n=Dr,r=La,a=ja,u=z_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ht=5:(Ht=0,La=Dr=null,tv(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Or=null),ra(a),r=r.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(ht,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=Z.T,f=ce.p,ce.p=2,Z.T=null;try{for(var d=n.onRecoverableError,E=0;E<u.length;E++){var b=u[E];d(b.value,{componentStack:b.stack})}}finally{Z.T=r,ce.p=f}}(ja&3)!==0&&bc(),pi(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===Pd?_l++:(_l=0,Pd=n):_l=0,vl(0)}}function tv(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Zo(r)))}function bc(n){return Z_(),W_(),ev(),nv()}function nv(){if(Ht!==5)return!1;var n=Dr,r=Md;Md=0;var a=ra(ja),u=Z.T,f=ce.p;try{ce.p=32>a?32:a,Z.T=null,a=Vd,Vd=null;var d=Dr,E=ja;if(Ht=0,La=Dr=null,ja=0,(Qe&6)!==0)throw Error(s(331));var b=Qe;if(Qe|=4,j_(d.current),k_(d,d.current,E,a),Qe=b,vl(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(ht,d)}catch{}return!0}finally{ce.p=f,Z.T=u,tv(n,r)}}function iv(n,r,a){r=Vn(a,r),r=dd(n.stateNode,r,2),n=Er(n,r,2),n!==null&&(Oi(n,2),pi(n))}function nt(n,r,a){if(n.tag===3)iv(n,n,a);else for(;r!==null;){if(r.tag===3){iv(r,n,a);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Or===null||!Or.has(u))){n=Vn(a,n),a=o_(2),u=Er(r,a,2),u!==null&&(l_(a,u,r,n),Oi(u,2),pi(u));break}}r=r.return}}function jd(n,r,a){var u=n.pingCache;if(u===null){u=n.pingCache=new rw;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(a)||(Od=!0,f.add(a),n=uw.bind(null,n,r,a),r.then(n,n))}function uw(n,r,a){var u=n.pingCache;u!==null&&u.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,rt===n&&(Be&a)===a&&(dt===4||dt===3&&(Be&62914560)===Be&&300>In()-xd?(Qe&2)===0&&Ba(n,0):Dd|=a,Ua===Be&&(Ua=0)),pi(n)}function rv(n,r){r===0&&(r=Io()),n=Sa(n,r),n!==null&&(Oi(n,r),pi(n))}function cw(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),rv(n,a)}function hw(n,r){var a=0;switch(n.tag){case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),rv(n,a)}function fw(n,r){return is(n,r)}var Ac=null,qa=null,Bd=!1,wc=!1,zd=!1,Ls=0;function pi(n){n!==qa&&n.next===null&&(qa===null?Ac=qa=n:qa=qa.next=n),wc=!0,Bd||(Bd=!0,mw())}function vl(n,r){if(!zd&&wc){zd=!0;do for(var a=!1,u=Ac;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var d=0;else{var E=u.suspendedLanes,b=u.pingedLanes;d=(1<<31-Yt(42|n)+1)-1,d&=f&~(E&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,lv(u,d))}else d=Be,d=ia(u,u===rt?d:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(d&3)===0||us(u,d)||(a=!0,lv(u,d));u=u.next}while(a);zd=!1}}function dw(){sv()}function sv(){wc=Bd=!1;var n=0;Ls!==0&&(Sw()&&(n=Ls),Ls=0);for(var r=In(),a=null,u=Ac;u!==null;){var f=u.next,d=av(u,r);d===0?(u.next=null,a===null?Ac=f:a.next=f,f===null&&(qa=a)):(a=u,(n!==0||(d&3)!==0)&&(wc=!0)),u=f}vl(n)}function av(n,r){for(var a=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var E=31-Yt(d),b=1<<E,N=f[E];N===-1?((b&a)===0||(b&u)!==0)&&(f[E]=Ro(b,r)):N<=r&&(n.expiredLanes|=b),d&=~b}if(r=rt,a=Be,a=ia(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,a===0||n===r&&(Ye===2||Ye===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&rs(u),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||us(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(u!==null&&rs(u),ra(a)){case 2:case 8:a=ta;break;case 32:a=ss;break;case 268435456:a=na;break;default:a=ss}return u=ov.bind(null,n),a=is(a,u),n.callbackPriority=r,n.callbackNode=a,r}return u!==null&&u!==null&&rs(u),n.callbackPriority=2,n.callbackNode=null,2}function ov(n,r){if(Ht!==0&&Ht!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(bc()&&n.callbackNode!==a)return null;var u=Be;return u=ia(n,n===rt?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(H_(n,u,r),av(n,In()),n.callbackNode!=null&&n.callbackNode===a?ov.bind(null,n):null)}function lv(n,r){if(bc())return null;H_(n,r,!0)}function mw(){Aw(function(){(Qe&6)!==0?is(Ao,dw):sv()})}function qd(){return Ls===0&&(Ls=Co()),Ls}function uv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ca(""+n)}function cv(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function pw(n,r,a,u,f){if(r==="submit"&&a&&a.stateNode===f){var d=uv((f[vt]||null).action),E=u.submitter;E&&(r=(r=E[vt]||null)?uv(r.formAction):E.getAttribute("formAction"),r!==null&&(d=r,E=null));var b=new ha("action","action",null,u,f);n.push({event:b,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ls!==0){var N=E?cv(f,E):new FormData(f);ld(a,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(b.preventDefault(),N=E?cv(f,E):new FormData(f),ld(a,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var Hd=0;Hd<Cf.length;Hd++){var Fd=Cf[Hd],gw=Fd.toLowerCase(),yw=Fd[0].toUpperCase()+Fd.slice(1);Gn(gw,"on"+yw)}Gn(Hg,"onAnimationEnd"),Gn(Fg,"onAnimationIteration"),Gn(Gg,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(VA,"onTransitionRun"),Gn(PA,"onTransitionStart"),Gn(kA,"onTransitionCancel"),Gn($g,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),Hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_w=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function hv(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var u=n[a],f=u.event;u=u.listeners;e:{var d=void 0;if(r)for(var E=u.length-1;0<=E;E--){var b=u[E],N=b.instance,$=b.currentTarget;if(b=b.listener,N!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=$;try{d(f)}catch(W){fc(W)}f.currentTarget=null,d=N}else for(E=0;E<u.length;E++){if(b=u[E],N=b.instance,$=b.currentTarget,b=b.listener,N!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=$;try{d(f)}catch(W){fc(W)}f.currentTarget=null,d=N}}}}function Pe(n,r){var a=r[No];a===void 0&&(a=r[No]=new Set);var u=n+"__bubble";a.has(u)||(fv(r,n,2,!1),a.add(u))}function Gd(n,r,a){var u=0;r&&(u|=4),fv(a,n,u,r)}var Rc="_reactListening"+Math.random().toString(36).slice(2);function $d(n){if(!n[Rc]){n[Rc]=!0,xo.forEach(function(a){a!=="selectionchange"&&(_w.has(a)||Gd(a,!1,n),Gd(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Rc]||(r[Rc]=!0,Gd("selectionchange",!1,r))}}function fv(n,r,a,u){switch(kv(r)){case 2:var f=Gw;break;case 8:f=$w;break;default:f=am}a=f.bind(null,r,a,n),f=void 0,!xn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function Kd(n,r,a,u,f){var d=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var b=u.stateNode.containerInfo;if(b===f)break;if(E===4)for(E=u.return;E!==null;){var N=E.tag;if((N===3||N===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;b!==null;){if(E=Di(b),E===null)return;if(N=E.tag,N===5||N===6||N===26||N===27){u=d=E;continue e}b=b.parentNode}}u=u.return}Iu(function(){var $=d,W=Nn(a),ne=[];e:{var K=Kg.get(n);if(K!==void 0){var Q=ha,Te=n;switch(n){case"keypress":if(ai(a)===0)break e;case"keydown":case"keyup":Q=ya;break;case"focusin":Te="focus",Q=ma;break;case"focusout":Te="blur",Q=ma;break;case"beforeblur":case"afterblur":Q=ma;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=vf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=ku;break;case Hg:case Fg:case Gg:Q=pa;break;case $g:Q=Lu;break;case"scroll":case"scrollend":Q=Ou;break;case"wheel":Q=_a;break;case"copy":case"cut":case"paste":Q=ga;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Fo;break;case"toggle":case"beforetoggle":Q=Bu}var _e=(r&4)!==0,We=!_e&&(n==="scroll"||n==="scrollend"),z=_e?K!==null?K+"Capture":null:K;_e=[];for(var U=$,G;U!==null;){var te=U;if(G=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||G===null||z===null||(te=ys(U,z),te!=null&&_e.push(Tl(U,te,G))),We)break;U=U.return}0<_e.length&&(K=new Q(K,Te,null,a,W),ne.push({event:K,listeners:_e}))}}if((r&7)===0){e:{if(K=n==="mouseover"||n==="pointerover",Q=n==="mouseout"||n==="pointerout",K&&a!==Vi&&(Te=a.relatedTarget||a.fromElement)&&(Di(Te)||Te[On]))break e;if((Q||K)&&(K=W.window===W?W:(K=W.ownerDocument)?K.defaultView||K.parentWindow:window,Q?(Te=a.relatedTarget||a.toElement,Q=$,Te=Te?Di(Te):null,Te!==null&&(We=l(Te),_e=Te.tag,Te!==We||_e!==5&&_e!==27&&_e!==6)&&(Te=null)):(Q=null,Te=$),Q!==Te)){if(_e=Mn,te="onMouseLeave",z="onMouseEnter",U="mouse",(n==="pointerout"||n==="pointerover")&&(_e=Fo,te="onPointerLeave",z="onPointerEnter",U="pointer"),We=Q==null?K:ni(Q),G=Te==null?K:ni(Te),K=new _e(te,U+"leave",Q,a,W),K.target=We,K.relatedTarget=G,te=null,Di(W)===$&&(_e=new _e(z,U+"enter",Te,a,W),_e.target=G,_e.relatedTarget=We,te=_e),We=te,Q&&Te)t:{for(_e=Q,z=Te,U=0,G=_e;G;G=Ha(G))U++;for(G=0,te=z;te;te=Ha(te))G++;for(;0<U-G;)_e=Ha(_e),U--;for(;0<G-U;)z=Ha(z),G--;for(;U--;){if(_e===z||z!==null&&_e===z.alternate)break t;_e=Ha(_e),z=Ha(z)}_e=null}else _e=null;Q!==null&&dv(ne,K,Q,_e,!1),Te!==null&&We!==null&&dv(ne,We,Te,_e,!0)}}e:{if(K=$?ni($):window,Q=K.nodeName&&K.nodeName.toLowerCase(),Q==="select"||Q==="input"&&K.type==="file")var de=xg;else if(Rt(K))if(Mg)de=NA;else{de=OA;var xe=IA}else Q=K.nodeName,!Q||Q.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?$&&Uo($.elementType)&&(de=xg):de=DA;if(de&&(de=de(n,$))){ji(ne,de,a,W);break e}xe&&xe(n,K,$),n==="focusout"&&$&&K.type==="number"&&$.memoizedProps.value!=null&&pr(K,"number",K.value)}switch(xe=$?ni($):window,n){case"focusin":(Rt(xe)||xe.contentEditable==="true")&&(va=xe,Af=$,Ko=null);break;case"focusout":Ko=Af=va=null;break;case"mousedown":wf=!0;break;case"contextmenu":case"mouseup":case"dragend":wf=!1,zg(ne,a,W);break;case"selectionchange":if(MA)break;case"keydown":case"keyup":zg(ne,a,W)}var me;if(ui)e:{switch(n){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Le?Y(n,a)&&(Ee="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(v&&a.locale!=="ko"&&(Le||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Le&&(me=jo()):(si=W,gr="value"in si?si.value:si.textContent,Le=!0)),xe=Cc($,Ee),0<xe.length&&(Ee=new qo(Ee,n,null,a,W),ne.push({event:Ee,listeners:xe}),me?Ee.data=me:(me=ue(a),me!==null&&(Ee.data=me)))),(me=y?wt(n,a):je(n,a))&&(Ee=Cc($,"onBeforeInput"),0<Ee.length&&(xe=new qo("onBeforeInput","beforeinput",null,a,W),ne.push({event:xe,listeners:Ee}),xe.data=me)),pw(ne,n,$,a,W)}hv(ne,r)})}function Tl(n,r,a){return{instance:n,listener:r,currentTarget:a}}function Cc(n,r){for(var a=r+"Capture",u=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ys(n,a),f!=null&&u.unshift(Tl(n,f,d)),f=ys(n,r),f!=null&&u.push(Tl(n,f,d))),n.tag===3)return u;n=n.return}return[]}function Ha(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function dv(n,r,a,u,f){for(var d=r._reactName,E=[];a!==null&&a!==u;){var b=a,N=b.alternate,$=b.stateNode;if(b=b.tag,N!==null&&N===u)break;b!==5&&b!==26&&b!==27||$===null||(N=$,f?($=ys(a,d),$!=null&&E.unshift(Tl(a,$,N))):f||($=ys(a,d),$!=null&&E.push(Tl(a,$,N)))),a=a.return}E.length!==0&&n.push({event:r,listeners:E})}var vw=/\r\n?/g,Ew=/\u0000|\uFFFD/g;function mv(n){return(typeof n=="string"?n:""+n).replace(vw,`
`).replace(Ew,"")}function pv(n,r){return r=mv(r),mv(n)===r}function Ic(){}function Ze(n,r,a,u,f,d){switch(a){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Dn(n,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Dn(n,""+u);break;case"className":ii(n,"class",u);break;case"tabIndex":ii(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ii(n,a,u);break;case"style":ko(n,u,d);break;case"data":if(r!=="object"){ii(n,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=ca(""+u),n.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Ze(n,r,"name",f.name,f,null),Ze(n,r,"formEncType",f.formEncType,f,null),Ze(n,r,"formMethod",f.formMethod,f,null),Ze(n,r,"formTarget",f.formTarget,f,null)):(Ze(n,r,"encType",f.encType,f,null),Ze(n,r,"method",f.method,f,null),Ze(n,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=ca(""+u),n.setAttribute(a,u);break;case"onClick":u!=null&&(n.onclick=Ic);break;case"onScroll":u!=null&&Pe("scroll",n);break;case"onScrollEnd":u!=null&&Pe("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}a=ca(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""+u):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":u===!0?n.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,u):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(a,u):n.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(a):n.setAttribute(a,u);break;case"popover":Pe("beforetoggle",n),Pe("toggle",n),mr(n,"popover",u);break;case"xlinkActuate":Bt(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Bt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Bt(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Bt(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Bt(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Bt(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Bt(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Bt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Bt(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":mr(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=yf.get(a)||a,mr(n,a,u))}}function Qd(n,r,a,u,f,d){switch(a){case"style":ko(n,u,d);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof u=="string"?Dn(n,u):(typeof u=="number"||typeof u=="bigint")&&Dn(n,""+u);break;case"onScroll":u!=null&&Pe("scroll",n);break;case"onScrollEnd":u!=null&&Pe("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Ic);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=n[vt]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(r,d,f),typeof u=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,u,f);break e}a in n?n[a]=u:u===!0?n.setAttribute(a,""):mr(n,a,u)}}}function Ft(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",n),Pe("load",n);var u=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ze(n,r,d,E,a,null)}}f&&Ze(n,r,"srcSet",a.srcSet,a,null),u&&Ze(n,r,"src",a.src,a,null);return;case"input":Pe("invalid",n);var b=d=E=f=null,N=null,$=null;for(u in a)if(a.hasOwnProperty(u)){var W=a[u];if(W!=null)switch(u){case"name":f=W;break;case"type":E=W;break;case"checked":N=W;break;case"defaultChecked":$=W;break;case"value":d=W;break;case"defaultValue":b=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:Ze(n,r,u,W,a,null)}}ms(n,d,b,N,$,E,f,!1),ua(n);return;case"select":Pe("invalid",n),u=E=d=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":E=b;break;case"multiple":u=b;default:Ze(n,r,f,b,a,null)}r=d,a=E,n.multiple=!!u,r!=null?Mi(n,!!u,r,!1):a!=null&&Mi(n,!!u,a,!0);return;case"textarea":Pe("invalid",n),d=f=u=null;for(E in a)if(a.hasOwnProperty(E)&&(b=a[E],b!=null))switch(E){case"value":u=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Ze(n,r,E,b,a,null)}ps(n,u,f,d),ua(n);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(u=a[N],u!=null))switch(N){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ze(n,r,N,u,a,null)}return;case"dialog":Pe("beforetoggle",n),Pe("toggle",n),Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":Pe("load",n);break;case"video":case"audio":for(u=0;u<El.length;u++)Pe(El[u],n);break;case"image":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"embed":case"source":case"link":Pe("error",n),Pe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in a)if(a.hasOwnProperty($)&&(u=a[$],u!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ze(n,r,$,u,a,null)}return;default:if(Uo(r)){for(W in a)a.hasOwnProperty(W)&&(u=a[W],u!==void 0&&Qd(n,r,W,u,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(u=a[b],u!=null&&Ze(n,r,b,u,a,null))}function Tw(n,r,a,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,E=null,b=null,N=null,$=null,W=null;for(Q in a){var ne=a[Q];if(a.hasOwnProperty(Q)&&ne!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":N=ne;default:u.hasOwnProperty(Q)||Ze(n,r,Q,null,u,ne)}}for(var K in u){var Q=u[K];if(ne=a[K],u.hasOwnProperty(K)&&(Q!=null||ne!=null))switch(K){case"type":d=Q;break;case"name":f=Q;break;case"checked":$=Q;break;case"defaultChecked":W=Q;break;case"value":E=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Q!==ne&&Ze(n,r,K,Q,u,ne)}}_n(n,E,b,N,$,W,d,f);return;case"select":Q=E=b=K=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":Q=N;default:u.hasOwnProperty(d)||Ze(n,r,d,null,u,N)}for(f in u)if(d=u[f],N=a[f],u.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":K=d;break;case"defaultValue":b=d;break;case"multiple":E=d;default:d!==N&&Ze(n,r,f,d,u,N)}r=b,a=E,u=Q,K!=null?Mi(n,!!a,K,!1):!!u!=!!a&&(r!=null?Mi(n,!!a,r,!0):Mi(n,!!a,a?[]:"",!1));return;case"textarea":Q=K=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!u.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ze(n,r,b,null,u,f)}for(E in u)if(f=u[E],d=a[E],u.hasOwnProperty(E)&&(f!=null||d!=null))switch(E){case"value":K=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Ze(n,r,E,f,u,d)}Xe(n,K,Q);return;case"option":for(var Te in a)if(K=a[Te],a.hasOwnProperty(Te)&&K!=null&&!u.hasOwnProperty(Te))switch(Te){case"selected":n.selected=!1;break;default:Ze(n,r,Te,null,u,K)}for(N in u)if(K=u[N],Q=a[N],u.hasOwnProperty(N)&&K!==Q&&(K!=null||Q!=null))switch(N){case"selected":n.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:Ze(n,r,N,K,u,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)K=a[_e],a.hasOwnProperty(_e)&&K!=null&&!u.hasOwnProperty(_e)&&Ze(n,r,_e,null,u,K);for($ in u)if(K=u[$],Q=a[$],u.hasOwnProperty($)&&K!==Q&&(K!=null||Q!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:Ze(n,r,$,K,u,Q)}return;default:if(Uo(r)){for(var We in a)K=a[We],a.hasOwnProperty(We)&&K!==void 0&&!u.hasOwnProperty(We)&&Qd(n,r,We,void 0,u,K);for(W in u)K=u[W],Q=a[W],!u.hasOwnProperty(W)||K===Q||K===void 0&&Q===void 0||Qd(n,r,W,K,u,Q);return}}for(var z in a)K=a[z],a.hasOwnProperty(z)&&K!=null&&!u.hasOwnProperty(z)&&Ze(n,r,z,null,u,K);for(ne in u)K=u[ne],Q=a[ne],!u.hasOwnProperty(ne)||K===Q||K==null&&Q==null||Ze(n,r,ne,K,u,Q)}var Yd=null,Xd=null;function Oc(n){return n.nodeType===9?n:n.ownerDocument}function gv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yv(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Jd(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Zd=null;function Sw(){var n=window.event;return n&&n.type==="popstate"?n===Zd?!1:(Zd=n,!0):(Zd=null,!1)}var _v=typeof setTimeout=="function"?setTimeout:void 0,bw=typeof clearTimeout=="function"?clearTimeout:void 0,vv=typeof Promise=="function"?Promise:void 0,Aw=typeof queueMicrotask=="function"?queueMicrotask:typeof vv<"u"?function(n){return vv.resolve(null).then(n).catch(ww)}:_v;function ww(n){setTimeout(function(){throw n})}function xr(n){return n==="head"}function Ev(n,r){var a=r,u=0,f=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<u&&8>u){a=u;var E=n.ownerDocument;if(a&1&&Sl(E.documentElement),a&2&&Sl(E.body),a&4)for(a=E.head,Sl(a),E=a.firstChild;E;){var b=E.nextSibling,N=E.nodeName;E[cs]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=b}}if(f===0){n.removeChild(d),Dl(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:u=a.charCodeAt(0)-48;else u=0;a=d}while(a);Dl(r)}function Wd(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Wd(a),dr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function Rw(n,r,a,u){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[cs])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=Kn(n.nextSibling),n===null)break}return null}function Cw(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Kn(n.nextSibling),n===null))return null;return n}function em(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function Iw(n,r){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")r();else{var u=function(){r(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function Kn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var tm=null;function Tv(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function Sv(n,r,a){switch(r=Oc(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Sl(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);dr(n)}var Bn=new Map,bv=new Set;function Dc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Zi=ce.d;ce.d={f:Ow,r:Dw,D:Nw,C:xw,L:Mw,m:Vw,X:kw,S:Pw,M:Uw};function Ow(){var n=Zi.f(),r=Tc();return n||r}function Dw(n){var r=ti(n);r!==null&&r.tag===5&&r.type==="form"?Hy(r):Zi.r(n)}var Fa=typeof document>"u"?null:document;function Av(n,r,a){var u=Fa;if(u&&typeof r=="string"&&r){var f=Et(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),bv.has(f)||(bv.add(f),n={rel:n,crossOrigin:a,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),Ft(r,"link",n),pt(r),u.head.appendChild(r)))}}function Nw(n){Zi.D(n),Av("dns-prefetch",n,null)}function xw(n,r){Zi.C(n,r),Av("preconnect",n,r)}function Mw(n,r,a){Zi.L(n,r,a);var u=Fa;if(u&&n&&r){var f='link[rel="preload"][as="'+Et(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Et(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Et(a.imageSizes)+'"]')):f+='[href="'+Et(n)+'"]';var d=f;switch(r){case"style":d=Ga(n);break;case"script":d=$a(n)}Bn.has(d)||(n=_({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),Bn.set(d,n),u.querySelector(f)!==null||r==="style"&&u.querySelector(bl(d))||r==="script"&&u.querySelector(Al(d))||(r=u.createElement("link"),Ft(r,"link",n),pt(r),u.head.appendChild(r)))}}function Vw(n,r){Zi.m(n,r);var a=Fa;if(a&&n){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Et(u)+'"][href="'+Et(n)+'"]',d=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=$a(n)}if(!Bn.has(d)&&(n=_({rel:"modulepreload",href:n},r),Bn.set(d,n),a.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Al(d)))return}u=a.createElement("link"),Ft(u,"link",n),pt(u),a.head.appendChild(u)}}}function Pw(n,r,a){Zi.S(n,r,a);var u=Fa;if(u&&n){var f=sn(u).hoistableStyles,d=Ga(n);r=r||"default";var E=f.get(d);if(!E){var b={loading:0,preload:null};if(E=u.querySelector(bl(d)))b.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":r},a),(a=Bn.get(d))&&nm(n,a);var N=E=u.createElement("link");pt(N),Ft(N,"link",n),N._p=new Promise(function($,W){N.onload=$,N.onerror=W}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Nc(E,r,u)}E={type:"stylesheet",instance:E,count:1,state:b},f.set(d,E)}}}function kw(n,r){Zi.X(n,r);var a=Fa;if(a&&n){var u=sn(a).hoistableScripts,f=$a(n),d=u.get(f);d||(d=a.querySelector(Al(f)),d||(n=_({src:n,async:!0},r),(r=Bn.get(f))&&im(n,r),d=a.createElement("script"),pt(d),Ft(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},u.set(f,d))}}function Uw(n,r){Zi.M(n,r);var a=Fa;if(a&&n){var u=sn(a).hoistableScripts,f=$a(n),d=u.get(f);d||(d=a.querySelector(Al(f)),d||(n=_({src:n,async:!0,type:"module"},r),(r=Bn.get(f))&&im(n,r),d=a.createElement("script"),pt(d),Ft(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},u.set(f,d))}}function wv(n,r,a,u){var f=(f=Ae.current)?Dc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ga(a.href),a=sn(f).hoistableStyles,u=a.get(r),u||(u={type:"style",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Ga(a.href);var d=sn(f).hoistableStyles,E=d.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,E),(d=f.querySelector(bl(n)))&&!d._p&&(E.instance=d,E.state.loading=5),Bn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bn.set(n,a),d||Lw(f,n,a,E.state))),r&&u===null)throw Error(s(528,""));return E}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=$a(a),a=sn(f).hoistableScripts,u=a.get(r),u||(u={type:"script",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Ga(n){return'href="'+Et(n)+'"'}function bl(n){return'link[rel="stylesheet"]['+n+"]"}function Rv(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function Lw(n,r,a,u){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=n.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Ft(r,"link",a),pt(r),n.head.appendChild(r))}function $a(n){return'[src="'+Et(n)+'"]'}function Al(n){return"script[async]"+n}function Cv(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var u=n.querySelector('style[data-href~="'+Et(a.href)+'"]');if(u)return r.instance=u,pt(u),u;var f=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),pt(u),Ft(u,"style",f),Nc(u,a.precedence,n),r.instance=u;case"stylesheet":f=Ga(a.href);var d=n.querySelector(bl(f));if(d)return r.state.loading|=4,r.instance=d,pt(d),d;u=Rv(a),(f=Bn.get(f))&&nm(u,f),d=(n.ownerDocument||n).createElement("link"),pt(d);var E=d;return E._p=new Promise(function(b,N){E.onload=b,E.onerror=N}),Ft(d,"link",u),r.state.loading|=4,Nc(d,a.precedence,n),r.instance=d;case"script":return d=$a(a.src),(f=n.querySelector(Al(d)))?(r.instance=f,pt(f),f):(u=a,(f=Bn.get(d))&&(u=_({},a),im(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),pt(f),Ft(f,"link",u),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Nc(u,a.precedence,n));return r.instance}function Nc(n,r,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,d=f,E=0;E<u.length;E++){var b=u[E];if(b.dataset.precedence===r)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function nm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function im(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var xc=null;function Iv(n,r,a){if(xc===null){var u=new Map,f=xc=new Map;f.set(a,u)}else f=xc,u=f.get(a),u||(u=new Map,f.set(a,u));if(u.has(n))return u;for(u.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[cs]||d[At]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(r)||"";E=n+E;var b=u.get(E);b?b.push(d):u.set(E,[d])}}return u}function Ov(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function jw(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Dv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var wl=null;function Bw(){}function zw(n,r,a){if(wl===null)throw Error(s(475));var u=wl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=Ga(a.href),d=n.querySelector(bl(f));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=Mc.bind(u),n.then(u,u)),r.state.loading|=4,r.instance=d,pt(d);return}d=n.ownerDocument||n,a=Rv(a),(f=Bn.get(f))&&nm(a,f),d=d.createElement("link"),pt(d);var E=d;E._p=new Promise(function(b,N){E.onload=b,E.onerror=N}),Ft(d,"link",a),r.instance=d}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=Mc.bind(u),n.addEventListener("load",r),n.addEventListener("error",r))}}function qw(){if(wl===null)throw Error(s(475));var n=wl;return n.stylesheets&&n.count===0&&rm(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&rm(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Mc(){if(this.count--,this.count===0){if(this.stylesheets)rm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Vc=null;function rm(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Vc=new Map,r.forEach(Hw,n),Vc=null,Mc.call(n))}function Hw(n,r){if(!(r.state.loading&4)){var a=Vc.get(n);if(a)var u=a.get(null);else{a=new Map,Vc.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var E=f[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),u=E)}u&&a.set(null,u)}f=r.instance,E=f.getAttribute("data-precedence"),d=a.get(E)||u,d===u&&a.set(null,f),a.set(E,f),this.count++,u=Mc.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var Rl={$$typeof:H,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function Fw(n,r,a,u,f,d,E,b){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ii(0),this.hiddenUpdates=Ii(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Nv(n,r,a,u,f,d,E,b,N,$,W,ne){return n=new Fw(n,r,a,E,b,N,$,ne),r=1,d===!0&&(r|=24),d=En(3,null,null,r),n.current=d,d.stateNode=n,r=jf(),r.refCount++,n.pooledCache=r,r.refCount++,d.memoizedState={element:u,isDehydrated:a,cache:r},Hf(d),n}function xv(n){return n?(n=ba,n):ba}function Mv(n,r,a,u,f,d){f=xv(f),u.context===null?u.context=f:u.pendingContext=f,u=vr(r),u.payload={element:a},d=d===void 0?null:d,d!==null&&(u.callback=d),a=Er(n,u,r),a!==null&&(wn(a,n,r),nl(a,n,r))}function Vv(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function sm(n,r){Vv(n,r),(n=n.alternate)&&Vv(n,r)}function Pv(n){if(n.tag===13){var r=Sa(n,67108864);r!==null&&wn(r,n,67108864),sm(n,67108864)}}var Pc=!0;function Gw(n,r,a,u){var f=Z.T;Z.T=null;var d=ce.p;try{ce.p=2,am(n,r,a,u)}finally{ce.p=d,Z.T=f}}function $w(n,r,a,u){var f=Z.T;Z.T=null;var d=ce.p;try{ce.p=8,am(n,r,a,u)}finally{ce.p=d,Z.T=f}}function am(n,r,a,u){if(Pc){var f=om(u);if(f===null)Kd(n,r,u,kc,a),Uv(n,u);else if(Qw(f,n,r,a,u))u.stopPropagation();else if(Uv(n,u),r&4&&-1<Kw.indexOf(n)){for(;f!==null;){var d=ti(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=qn(d.pendingLanes);if(E!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var N=1<<31-Yt(E);b.entanglements[1]|=N,E&=~N}pi(d),(Qe&6)===0&&(vc=In()+500,vl(0))}}break;case 13:b=Sa(d,2),b!==null&&wn(b,d,2),Tc(),sm(d,2)}if(d=om(u),d===null&&Kd(n,r,u,kc,a),d===f)break;f=d}f!==null&&u.stopPropagation()}else Kd(n,r,u,null,a)}}function om(n){return n=Nn(n),lm(n)}var kc=null;function lm(n){if(kc=null,n=Di(n),n!==null){var r=l(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=h(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return kc=n,null}function kv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hf()){case Ao:return 2;case ta:return 8;case ss:case ff:return 32;case na:return 268435456;default:return 32}default:return 32}}var um=!1,Mr=null,Vr=null,Pr=null,Cl=new Map,Il=new Map,kr=[],Kw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Uv(n,r){switch(n){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":Pr=null;break;case"pointerover":case"pointerout":Cl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(r.pointerId)}}function Ol(n,r,a,u,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:r,domEventName:a,eventSystemFlags:u,nativeEvent:d,targetContainers:[f]},r!==null&&(r=ti(r),r!==null&&Pv(r)),n):(n.eventSystemFlags|=u,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function Qw(n,r,a,u,f){switch(r){case"focusin":return Mr=Ol(Mr,n,r,a,u,f),!0;case"dragenter":return Vr=Ol(Vr,n,r,a,u,f),!0;case"mouseover":return Pr=Ol(Pr,n,r,a,u,f),!0;case"pointerover":var d=f.pointerId;return Cl.set(d,Ol(Cl.get(d)||null,n,r,a,u,f)),!0;case"gotpointercapture":return d=f.pointerId,Il.set(d,Ol(Il.get(d)||null,n,r,a,u,f)),!0}return!1}function Lv(n){var r=Di(n.target);if(r!==null){var a=l(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){n.blockedOn=r,Tu(n.priority,function(){if(a.tag===13){var u=An();u=cr(u);var f=Sa(a,u);f!==null&&wn(f,a,u),sm(a,u)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Uc(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=om(n.nativeEvent);if(a===null){a=n.nativeEvent;var u=new a.constructor(a.type,a);Vi=u,a.target.dispatchEvent(u),Vi=null}else return r=ti(a),r!==null&&Pv(r),n.blockedOn=a,!1;r.shift()}return!0}function jv(n,r,a){Uc(n)&&a.delete(r)}function Yw(){um=!1,Mr!==null&&Uc(Mr)&&(Mr=null),Vr!==null&&Uc(Vr)&&(Vr=null),Pr!==null&&Uc(Pr)&&(Pr=null),Cl.forEach(jv),Il.forEach(jv)}function Lc(n,r){n.blockedOn===r&&(n.blockedOn=null,um||(um=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Yw)))}var jc=null;function Bv(n){jc!==n&&(jc=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){jc===n&&(jc=null);for(var r=0;r<n.length;r+=3){var a=n[r],u=n[r+1],f=n[r+2];if(typeof u!="function"){if(lm(u||a)===null)continue;break}var d=ti(a);d!==null&&(n.splice(r,3),r-=3,ld(d,{pending:!0,data:f,method:a.method,action:u},u,f))}}))}function Dl(n){function r(N){return Lc(N,n)}Mr!==null&&Lc(Mr,n),Vr!==null&&Lc(Vr,n),Pr!==null&&Lc(Pr,n),Cl.forEach(r),Il.forEach(r);for(var a=0;a<kr.length;a++){var u=kr[a];u.blockedOn===n&&(u.blockedOn=null)}for(;0<kr.length&&(a=kr[0],a.blockedOn===null);)Lv(a),a.blockedOn===null&&kr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var f=a[u],d=a[u+1],E=f[vt]||null;if(typeof d=="function")E||Bv(a);else if(E){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,E=d[vt]||null)b=E.formAction;else if(lm(f)!==null)continue}else b=E.action;typeof b=="function"?a[u+1]=b:(a.splice(u,3),u-=3),Bv(a)}}}function cm(n){this._internalRoot=n}Bc.prototype.render=cm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,u=An();Mv(a,u,n,r,null,null)},Bc.prototype.unmount=cm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;Mv(n.current,2,null,n,null,null),Tc(),r[On]=null}};function Bc(n){this._internalRoot=n}Bc.prototype.unstable_scheduleHydration=function(n){if(n){var r=hr();n={blockedOn:null,target:n,priority:r};for(var a=0;a<kr.length&&r!==0&&r<kr[a].priority;a++);kr.splice(a,0,n),a===0&&Lv(n)}};var zv=e.version;if(zv!=="19.1.0")throw Error(s(527,zv,"19.1.0"));ce.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=g(r),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var Xw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zc.isDisabled&&zc.supportsFiber)try{ht=zc.inject(Xw),Ke=zc}catch{}}return xl.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,u="",f=i_,d=r_,E=s_,b=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=Nv(n,1,!1,null,null,a,u,f,d,E,b,null),n[On]=r.current,$d(n),new cm(r)},xl.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var u=!1,f="",d=i_,E=r_,b=s_,N=null,$=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks),a.formState!==void 0&&($=a.formState)),r=Nv(n,1,!0,r,a??null,u,f,d,E,b,N,$),r.context=xv(null),a=r.current,u=An(),u=cr(u),f=vr(u),f.callback=null,Er(a,f,u),a=u,r.current.lanes=a,Oi(r,a),pi(r),n[On]=r.current,$d(n),new Bc(r)},xl.version="19.1.0",xl}var Jv;function a1(){if(Jv)return dm.exports;Jv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),dm.exports=s1(),dm.exports}var o1=a1();const l1=vp(o1);var Ml={},Zv;function u1(){if(Zv)return Ml;Zv=1,Object.defineProperty(Ml,"__esModule",{value:!0}),Ml.parse=h,Ml.serialize=p;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function h(S,I){const R=new l,k=S.length;if(k<2)return R;const O=(I==null?void 0:I.decode)||_;let q=0;do{const J=S.indexOf("=",q);if(J===-1)break;const H=S.indexOf(";",q),re=H===-1?k:H;if(J>re){q=S.lastIndexOf(";",J-1)+1;continue}const ee=m(S,q,J),ae=g(S,J,ee),D=S.slice(ee,ae);if(R[D]===void 0){let w=m(S,J+1,re),C=g(S,re,w);const V=O(S.slice(w,C));R[D]=V}q=re+1}while(q<k);return R}function m(S,I,R){do{const k=S.charCodeAt(I);if(k!==32&&k!==9)return I}while(++I<R);return R}function g(S,I,R){for(;I>R;){const k=S.charCodeAt(--I);if(k!==32&&k!==9)return I+1}return R}function p(S,I,R){const k=(R==null?void 0:R.encode)||encodeURIComponent;if(!i.test(S))throw new TypeError(`argument name is invalid: ${S}`);const O=k(I);if(!e.test(O))throw new TypeError(`argument val is invalid: ${I}`);let q=S+"="+O;if(!R)return q;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);q+="; Max-Age="+R.maxAge}if(R.domain){if(!t.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);q+="; Domain="+R.domain}if(R.path){if(!s.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);q+="; Path="+R.path}if(R.expires){if(!T(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);q+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(q+="; HttpOnly"),R.secure&&(q+="; Secure"),R.partitioned&&(q+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":q+="; Priority=Low";break;case"medium":q+="; Priority=Medium";break;case"high":q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":q+="; SameSite=Strict";break;case"lax":q+="; SameSite=Lax";break;case"none":q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return q}function _(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function T(S){return o.call(S)==="[object Date]"}return Ml}u1();var Wv="popstate";function c1(i={}){function e(s,o){let{pathname:l,search:h,hash:m}=s.location;return km("",{pathname:l,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:Gl(o)}return f1(e,t,null,i)}function ut(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Si(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function h1(){return Math.random().toString(36).substring(2,10)}function eE(i,e){return{usr:i.state,key:i.key,idx:e}}function km(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?co(e):e,state:t,key:e&&e.key||s||h1()}}function Gl({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function co(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function f1(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,h=o.history,m="POP",g=null,p=_();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function _(){return(h.state||{idx:null}).idx}function T(){m="POP";let O=_(),q=O==null?null:O-p;p=O,g&&g({action:m,location:k.location,delta:q})}function S(O,q){m="PUSH";let J=km(k.location,O,q);p=_()+1;let H=eE(J,p),re=k.createHref(J);try{h.pushState(H,"",re)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;o.location.assign(re)}l&&g&&g({action:m,location:k.location,delta:1})}function I(O,q){m="REPLACE";let J=km(k.location,O,q);p=_();let H=eE(J,p),re=k.createHref(J);h.replaceState(H,"",re),l&&g&&g({action:m,location:k.location,delta:0})}function R(O){return d1(O)}let k={get action(){return m},get location(){return i(o,h)},listen(O){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Wv,T),g=O,()=>{o.removeEventListener(Wv,T),g=null}},createHref(O){return e(o,O)},createURL:R,encodeLocation(O){let q=R(O);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:S,replace:I,go(O){return h.go(O)}};return k}function d1(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ut(t,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Gl(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function Q0(i,e,t="/"){return m1(i,e,t,!1)}function m1(i,e,t,s){let o=typeof e=="string"?co(e):e,l=ir(o.pathname||"/",t);if(l==null)return null;let h=Y0(i);p1(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let p=R1(l);m=A1(h[g],p,s)}return m}function Y0(i,e=[],t=[],s=""){let o=(l,h,m)=>{let g={relativePath:m===void 0?l.path||"":m,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};g.relativePath.startsWith("/")&&(ut(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let p=nr([s,g.relativePath]),_=t.concat(g);l.children&&l.children.length>0&&(ut(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Y0(l.children,e,_,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:S1(p,l.index),routesMeta:_})};return i.forEach((l,h)=>{var m;if(l.path===""||!((m=l.path)!=null&&m.includes("?")))o(l,h);else for(let g of X0(l.path))o(l,h,g)}),e}function X0(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let h=X0(s.join("/")),m=[];return m.push(...h.map(g=>g===""?l:[l,g].join("/"))),o&&m.push(...h),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function p1(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:b1(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var g1=/^:[\w-]+$/,y1=3,_1=2,v1=1,E1=10,T1=-2,tE=i=>i==="*";function S1(i,e){let t=i.split("/"),s=t.length;return t.some(tE)&&(s+=T1),e&&(s+=_1),t.filter(o=>!tE(o)).reduce((o,l)=>o+(g1.test(l)?y1:l===""?v1:E1),s)}function b1(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function A1(i,e,t=!1){let{routesMeta:s}=i,o={},l="/",h=[];for(let m=0;m<s.length;++m){let g=s[m],p=m===s.length-1,_=l==="/"?e:e.slice(l.length)||"/",T=uh({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},_),S=g.route;if(!T&&p&&t&&!s[s.length-1].route.index&&(T=uh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},_)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:nr([l,T.pathname]),pathnameBase:D1(nr([l,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(l=nr([l,T.pathnameBase]))}return h}function uh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=w1(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((p,{paramName:_,isOptional:T},S)=>{if(_==="*"){let R=m[S]||"";h=l.slice(0,l.length-R.length).replace(/(.)\/+$/,"$1")}const I=m[S];return T&&!I?p[_]=void 0:p[_]=(I||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:h,pattern:i}}function w1(i,e=!1,t=!0){Si(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function R1(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Si(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ir(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function C1(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?co(i):i;return{pathname:t?t.startsWith("/")?t:I1(t,e):e,search:N1(s),hash:x1(o)}}function I1(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function ym(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function O1(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function J0(i){let e=O1(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Z0(i,e,t,s=!1){let o;typeof i=="string"?o=co(i):(o={...i},ut(!o.pathname||!o.pathname.includes("?"),ym("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),ym("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),ym("#","search","hash",o)));let l=i===""||o.pathname==="",h=l?"/":o.pathname,m;if(h==null)m=t;else{let T=e.length-1;if(!s&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}m=T>=0?e[T]:"/"}let g=C1(o,m),p=h&&h!=="/"&&h.endsWith("/"),_=(l||h===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(p||_)&&(g.pathname+="/"),g}var nr=i=>i.join("/").replace(/\/\/+/g,"/"),D1=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),N1=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,x1=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function M1(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var W0=["POST","PUT","PATCH","DELETE"];new Set(W0);var V1=["GET",...W0];new Set(V1);var ho=j.createContext(null);ho.displayName="DataRouter";var xh=j.createContext(null);xh.displayName="DataRouterState";var eT=j.createContext({isTransitioning:!1});eT.displayName="ViewTransition";var P1=j.createContext(new Map);P1.displayName="Fetchers";var k1=j.createContext(null);k1.displayName="Await";var Ri=j.createContext(null);Ri.displayName="Navigation";var nu=j.createContext(null);nu.displayName="Location";var Jn=j.createContext({outlet:null,matches:[],isDataRoute:!1});Jn.displayName="Route";var Tp=j.createContext(null);Tp.displayName="RouteError";function U1(i,{relative:e}={}){ut(iu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=j.useContext(Ri),{hash:o,pathname:l,search:h}=ru(i,{relative:e}),m=l;return t!=="/"&&(m=l==="/"?t:nr([t,l])),s.createHref({pathname:m,search:h,hash:o})}function iu(){return j.useContext(nu)!=null}function Zs(){return ut(iu(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(nu).location}var tT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nT(i){j.useContext(Ri).static||j.useLayoutEffect(i)}function zn(){let{isDataRoute:i}=j.useContext(Jn);return i?W1():L1()}function L1(){ut(iu(),"useNavigate() may be used only in the context of a <Router> component.");let i=j.useContext(ho),{basename:e,navigator:t}=j.useContext(Ri),{matches:s}=j.useContext(Jn),{pathname:o}=Zs(),l=JSON.stringify(J0(s)),h=j.useRef(!1);return nT(()=>{h.current=!0}),j.useCallback((g,p={})=>{if(Si(h.current,tT),!h.current)return;if(typeof g=="number"){t.go(g);return}let _=Z0(g,JSON.parse(l),o,p.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:nr([e,_.pathname])),(p.replace?t.replace:t.push)(_,p.state,p)},[e,t,l,o,i])}var j1=j.createContext(null);function B1(i){let e=j.useContext(Jn).outlet;return e&&j.createElement(j1.Provider,{value:i},e)}function z1(){let{matches:i}=j.useContext(Jn),e=i[i.length-1];return e?e.params:{}}function ru(i,{relative:e}={}){let{matches:t}=j.useContext(Jn),{pathname:s}=Zs(),o=JSON.stringify(J0(t));return j.useMemo(()=>Z0(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function q1(i,e){return iT(i,e)}function iT(i,e,t,s){var J;ut(iu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:l}=j.useContext(Ri),{matches:h}=j.useContext(Jn),m=h[h.length-1],g=m?m.params:{},p=m?m.pathname:"/",_=m?m.pathnameBase:"/",T=m&&m.route;{let H=T&&T.path||"";rT(p,!T||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let S=Zs(),I;if(e){let H=typeof e=="string"?co(e):e;ut(_==="/"||((J=H.pathname)==null?void 0:J.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${H.pathname}" was given in the \`location\` prop.`),I=H}else I=S;let R=I.pathname||"/",k=R;if(_!=="/"){let H=_.replace(/^\//,"").split("/");k="/"+R.replace(/^\//,"").split("/").slice(H.length).join("/")}let O=!l&&t&&t.matches&&t.matches.length>0?t.matches:Q0(i,{pathname:k});Si(T||O!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Si(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let q=K1(O&&O.map(H=>Object.assign({},H,{params:Object.assign({},g,H.params),pathname:nr([_,o.encodeLocation?o.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?_:nr([_,o.encodeLocation?o.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),h,t,s);return e&&q?j.createElement(nu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},q):q}function H1(){let i=Z1(),e=M1(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=j.createElement(j.Fragment,null,j.createElement("p",null,"💿 Hey developer 👋"),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:l},"ErrorBoundary")," or"," ",j.createElement("code",{style:l},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),t?j.createElement("pre",{style:o},t):null,h)}var F1=j.createElement(H1,null),G1=class extends j.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?j.createElement(Jn.Provider,{value:this.props.routeContext},j.createElement(Tp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $1({routeContext:i,match:e,children:t}){let s=j.useContext(ho);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Jn.Provider,{value:i},t)}function K1(i,e=[],t=null,s=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,l=t==null?void 0:t.errors;if(l!=null){let g=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);ut(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let h=!1,m=-1;if(t)for(let g=0;g<o.length;g++){let p=o[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(m=g),p.route.id){let{loaderData:_,errors:T}=t,S=p.route.loader&&!_.hasOwnProperty(p.route.id)&&(!T||T[p.route.id]===void 0);if(p.route.lazy||S){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,p,_)=>{let T,S=!1,I=null,R=null;t&&(T=l&&p.route.id?l[p.route.id]:void 0,I=p.route.errorElement||F1,h&&(m<0&&_===0?(rT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,R=null):m===_&&(S=!0,R=p.route.hydrateFallbackElement||null)));let k=e.concat(o.slice(0,_+1)),O=()=>{let q;return T?q=I:S?q=R:p.route.Component?q=j.createElement(p.route.Component,null):p.route.element?q=p.route.element:q=g,j.createElement($1,{match:p,routeContext:{outlet:g,matches:k,isDataRoute:t!=null},children:q})};return t&&(p.route.ErrorBoundary||p.route.errorElement||_===0)?j.createElement(G1,{location:t.location,revalidation:t.revalidation,component:I,error:T,children:O(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):O()},null)}function Sp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Q1(i){let e=j.useContext(ho);return ut(e,Sp(i)),e}function Y1(i){let e=j.useContext(xh);return ut(e,Sp(i)),e}function X1(i){let e=j.useContext(Jn);return ut(e,Sp(i)),e}function bp(i){let e=X1(i),t=e.matches[e.matches.length-1];return ut(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function J1(){return bp("useRouteId")}function Z1(){var s;let i=j.useContext(Tp),e=Y1("useRouteError"),t=bp("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[t]}function W1(){let{router:i}=Q1("useNavigate"),e=bp("useNavigate"),t=j.useRef(!1);return nT(()=>{t.current=!0}),j.useCallback(async(o,l={})=>{Si(t.current,tT),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...l}))},[i,e])}var nE={};function rT(i,e,t){!e&&!nE[i]&&(nE[i]=!0,Si(!1,t))}j.memo(eR);function eR({routes:i,future:e,state:t}){return iT(i,void 0,t,e)}function tR(i){return B1(i.context)}function Wt(i){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nR({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:l=!1}){ut(!iu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=j.useMemo(()=>({basename:h,navigator:o,static:l,future:{}}),[h,o,l]);typeof t=="string"&&(t=co(t));let{pathname:g="/",search:p="",hash:_="",state:T=null,key:S="default"}=t,I=j.useMemo(()=>{let R=ir(g,h);return R==null?null:{location:{pathname:R,search:p,hash:_,state:T,key:S},navigationType:s}},[h,g,p,_,T,S,s]);return Si(I!=null,`<Router basename="${h}"> is not able to match the URL "${g}${p}${_}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:j.createElement(Ri.Provider,{value:m},j.createElement(nu.Provider,{children:e,value:I}))}function iR({children:i,location:e}){return q1(Um(i),e)}function Um(i,e=[]){let t=[];return j.Children.forEach(i,(s,o)=>{if(!j.isValidElement(s))return;let l=[...e,o];if(s.type===j.Fragment){t.push.apply(t,Um(s.props.children,l));return}ut(s.type===Wt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Um(s.props.children,l)),t.push(h)}),t}var Yc="get",Xc="application/x-www-form-urlencoded";function Mh(i){return i!=null&&typeof i.tagName=="string"}function rR(i){return Mh(i)&&i.tagName.toLowerCase()==="button"}function sR(i){return Mh(i)&&i.tagName.toLowerCase()==="form"}function aR(i){return Mh(i)&&i.tagName.toLowerCase()==="input"}function oR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function lR(i,e){return i.button===0&&(!e||e==="_self")&&!oR(i)}var qc=null;function uR(){if(qc===null)try{new FormData(document.createElement("form"),0),qc=!1}catch{qc=!0}return qc}var cR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _m(i){return i!=null&&!cR.has(i)?(Si(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xc}"`),null):i}function hR(i,e){let t,s,o,l,h;if(sR(i)){let m=i.getAttribute("action");s=m?ir(m,e):null,t=i.getAttribute("method")||Yc,o=_m(i.getAttribute("enctype"))||Xc,l=new FormData(i)}else if(rR(i)||aR(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(s=g?ir(g,e):null,t=i.getAttribute("formmethod")||m.getAttribute("method")||Yc,o=_m(i.getAttribute("formenctype"))||_m(m.getAttribute("enctype"))||Xc,l=new FormData(m,i),!uR()){let{name:p,type:_,value:T}=i;if(_==="image"){let S=p?`${p}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else p&&l.append(p,T)}}else{if(Mh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Yc,s=null,o=Xc,h=i}return l&&o==="text/plain"&&(h=l,l=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:l,body:h}}function Ap(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function fR(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function mR(i,e,t){let s=await Promise.all(i.map(async o=>{let l=e.routes[o.route.id];if(l){let h=await fR(l,t);return h.links?h.links():[]}return[]}));return _R(s.flat(1).filter(dR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function iE(i,e,t,s,o,l){let h=(g,p)=>t[p]?g.route.id!==t[p].route.id:!0,m=(g,p)=>{var _;return t[p].pathname!==g.pathname||((_=t[p].route.path)==null?void 0:_.endsWith("*"))&&t[p].params["*"]!==g.params["*"]};return l==="assets"?e.filter((g,p)=>h(g,p)||m(g,p)):l==="data"?e.filter((g,p)=>{var T;let _=s.routes[g.route.id];if(!_||!_.hasLoader)return!1;if(h(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function pR(i,e,{includeHydrateFallback:t}={}){return gR(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function gR(i){return[...new Set(i)]}function yR(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function _R(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let l=JSON.stringify(yR(o));return t.has(l)||(t.add(l),s.push({key:l,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var vR=new Set([100,101,204,205]);function ER(i,e){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":e&&ir(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function sT(){let i=j.useContext(ho);return Ap(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function TR(){let i=j.useContext(xh);return Ap(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var wp=j.createContext(void 0);wp.displayName="FrameworkContext";function aT(){let i=j.useContext(wp);return Ap(i,"You must render this element inside a <HydratedRouter> element"),i}function SR(i,e){let t=j.useContext(wp),[s,o]=j.useState(!1),[l,h]=j.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:_,onTouchStart:T}=e,S=j.useRef(null);j.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let k=q=>{q.forEach(J=>{h(J.isIntersecting)})},O=new IntersectionObserver(k,{threshold:.5});return S.current&&O.observe(S.current),()=>{O.disconnect()}}},[i]),j.useEffect(()=>{if(s){let k=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(k)}}},[s]);let I=()=>{o(!0)},R=()=>{o(!1),h(!1)};return t?i!=="intent"?[l,S,{}]:[l,S,{onFocus:Vl(m,I),onBlur:Vl(g,R),onMouseEnter:Vl(p,I),onMouseLeave:Vl(_,R),onTouchStart:Vl(T,I)}]:[!1,S,{}]}function Vl(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function bR({page:i,...e}){let{router:t}=sT(),s=j.useMemo(()=>Q0(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?j.createElement(wR,{page:i,matches:s,...e}):null}function AR(i){let{manifest:e,routeModules:t}=aT(),[s,o]=j.useState([]);return j.useEffect(()=>{let l=!1;return mR(i,e,t).then(h=>{l||o(h)}),()=>{l=!0}},[i,e,t]),s}function wR({page:i,matches:e,...t}){let s=Zs(),{manifest:o,routeModules:l}=aT(),{basename:h}=sT(),{loaderData:m,matches:g}=TR(),p=j.useMemo(()=>iE(i,e,g,o,s,"data"),[i,e,g,o,s]),_=j.useMemo(()=>iE(i,e,g,o,s,"assets"),[i,e,g,o,s]),T=j.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let R=new Set,k=!1;if(e.forEach(q=>{var H;let J=o.routes[q.route.id];!J||!J.hasLoader||(!p.some(re=>re.route.id===q.route.id)&&q.route.id in m&&((H=l[q.route.id])!=null&&H.shouldRevalidate)||J.hasClientLoader?k=!0:R.add(q.route.id))}),R.size===0)return[];let O=ER(i,h);return k&&R.size>0&&O.searchParams.set("_routes",e.filter(q=>R.has(q.route.id)).map(q=>q.route.id).join(",")),[O.pathname+O.search]},[h,m,s,o,p,e,i,l]),S=j.useMemo(()=>pR(_,o),[_,o]),I=AR(_);return j.createElement(j.Fragment,null,T.map(R=>j.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),S.map(R=>j.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),I.map(({key:R,link:k})=>j.createElement("link",{key:R,...k})))}function RR(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var oT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{oT&&(window.__reactRouterVersion="7.6.0")}catch{}function CR({basename:i,children:e,window:t}){let s=j.useRef();s.current==null&&(s.current=c1({window:t,v5Compat:!0}));let o=s.current,[l,h]=j.useState({action:o.action,location:o.location}),m=j.useCallback(g=>{j.startTransition(()=>h(g))},[h]);return j.useLayoutEffect(()=>o.listen(m),[o,m]),j.createElement(nR,{basename:i,children:e,location:l.location,navigationType:l.action,navigator:o})}var lT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rp=j.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:l,replace:h,state:m,target:g,to:p,preventScrollReset:_,viewTransition:T,...S},I){let{basename:R}=j.useContext(Ri),k=typeof p=="string"&&lT.test(p),O,q=!1;if(typeof p=="string"&&k&&(O=p,oT))try{let C=new URL(window.location.href),V=p.startsWith("//")?new URL(C.protocol+p):new URL(p),L=ir(V.pathname,R);V.origin===C.origin&&L!=null?p=L+V.search+V.hash:q=!0}catch{Si(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=U1(p,{relative:o}),[H,re,ee]=SR(s,S),ae=NR(p,{replace:h,state:m,target:g,preventScrollReset:_,relative:o,viewTransition:T});function D(C){e&&e(C),C.defaultPrevented||ae(C)}let w=j.createElement("a",{...S,...ee,href:O||J,onClick:q||l?e:D,ref:RR(I,re),target:g,"data-discover":!k&&t==="render"?"true":void 0});return H&&!k?j.createElement(j.Fragment,null,w,j.createElement(bR,{page:J})):w});Rp.displayName="Link";var IR=j.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:l,to:h,viewTransition:m,children:g,...p},_){let T=ru(h,{relative:p.relative}),S=Zs(),I=j.useContext(xh),{navigator:R,basename:k}=j.useContext(Ri),O=I!=null&&kR(T)&&m===!0,q=R.encodeLocation?R.encodeLocation(T).pathname:T.pathname,J=S.pathname,H=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;t||(J=J.toLowerCase(),H=H?H.toLowerCase():null,q=q.toLowerCase()),H&&k&&(H=ir(H,k)||H);const re=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let ee=J===q||!o&&J.startsWith(q)&&J.charAt(re)==="/",ae=H!=null&&(H===q||!o&&H.startsWith(q)&&H.charAt(q.length)==="/"),D={isActive:ee,isPending:ae,isTransitioning:O},w=ee?e:void 0,C;typeof s=="function"?C=s(D):C=[s,ee?"active":null,ae?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(D):l;return j.createElement(Rp,{...p,"aria-current":w,className:C,ref:_,style:V,to:h,viewTransition:m},typeof g=="function"?g(D):g)});IR.displayName="NavLink";var OR=j.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:l,method:h=Yc,action:m,onSubmit:g,relative:p,preventScrollReset:_,viewTransition:T,...S},I)=>{let R=VR(),k=PR(m,{relative:p}),O=h.toLowerCase()==="get"?"get":"post",q=typeof m=="string"&&lT.test(m),J=H=>{if(g&&g(H),H.defaultPrevented)return;H.preventDefault();let re=H.nativeEvent.submitter,ee=(re==null?void 0:re.getAttribute("formmethod"))||h;R(re||H.currentTarget,{fetcherKey:e,method:ee,navigate:t,replace:o,state:l,relative:p,preventScrollReset:_,viewTransition:T})};return j.createElement("form",{ref:I,method:O,action:k,onSubmit:s?g:J,...S,"data-discover":!q&&i==="render"?"true":void 0})});OR.displayName="Form";function DR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uT(i){let e=j.useContext(ho);return ut(e,DR(i)),e}function NR(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:l,viewTransition:h}={}){let m=zn(),g=Zs(),p=ru(i,{relative:l});return j.useCallback(_=>{if(lR(_,e)){_.preventDefault();let T=t!==void 0?t:Gl(g)===Gl(p);m(i,{replace:T,state:s,preventScrollReset:o,relative:l,viewTransition:h})}},[g,m,p,t,s,e,i,o,l,h])}var xR=0,MR=()=>`__${String(++xR)}__`;function VR(){let{router:i}=uT("useSubmit"),{basename:e}=j.useContext(Ri),t=J1();return j.useCallback(async(s,o={})=>{let{action:l,method:h,encType:m,formData:g,body:p}=hR(s,e);if(o.navigate===!1){let _=o.fetcherKey||MR();await i.fetch(_,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function PR(i,{relative:e}={}){let{basename:t}=j.useContext(Ri),s=j.useContext(Jn);ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...ru(i||".",{relative:e})},h=Zs();if(i==null){l.search=h.search;let m=new URLSearchParams(l.search),g=m.getAll("index");if(g.some(_=>_==="")){m.delete("index"),g.filter(T=>T).forEach(T=>m.append("index",T));let _=m.toString();l.search=_?`?${_}`:""}}return(!i||i===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:nr([t,l.pathname])),Gl(l)}function kR(i,e={}){let t=j.useContext(eT);ut(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=uT("useViewTransitionState"),o=ru(i,{relative:e.relative});if(!t.isTransitioning)return!1;let l=ir(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=ir(t.nextLocation.pathname,s)||t.nextLocation.pathname;return uh(o.pathname,h)!=null||uh(o.pathname,l)!=null}[...vR];var vm={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var rE;function UR(){return rE||(rE=1,function(i){(function(){var e={}.hasOwnProperty;function t(){for(var l="",h=0;h<arguments.length;h++){var m=arguments[h];m&&(l=o(l,s(m)))}return l}function s(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return t.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var h="";for(var m in l)e.call(l,m)&&l[m]&&(h=o(h,m));return h}function o(l,h){return h?l?l+" "+h:l+h:l}i.exports?(t.default=t,i.exports=t):window.classNames=t})()}(vm)),vm.exports}var LR=UR();const xt=vp(LR);function Lm(){return Lm=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)({}).hasOwnProperty.call(t,s)&&(i[s]=t[s])}return i},Lm.apply(null,arguments)}function jR(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)!==-1)continue;t[s]=i[s]}return t}function sE(i){return"default"+i.charAt(0).toUpperCase()+i.substr(1)}function BR(i){var e=zR(i,"string");return typeof e=="symbol"?e:String(e)}function zR(i,e){if(typeof i!="object"||i===null)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var s=t.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function qR(i,e,t){var s=j.useRef(i!==void 0),o=j.useState(e),l=o[0],h=o[1],m=i!==void 0,g=s.current;return s.current=m,!m&&g&&l!==e&&h(e),[m?i:l,j.useCallback(function(p){for(var _=arguments.length,T=new Array(_>1?_-1:0),S=1;S<_;S++)T[S-1]=arguments[S];t&&t.apply(void 0,[p].concat(T)),h(p)},[t])]}function HR(i,e){return Object.keys(e).reduce(function(t,s){var o,l=t,h=l[sE(s)],m=l[s],g=jR(l,[sE(s),s].map(BR)),p=e[s],_=qR(m,h,i[p]),T=_[0],S=_[1];return Lm({},g,(o={},o[s]=T,o[p]=S,o))},i)}const FR=["xxl","xl","lg","md","sm","xs"],GR="xs",Vh=j.createContext({prefixes:{},breakpoints:FR,minBreakpoint:GR}),{Consumer:mV,Provider:pV}=Vh;function Qt(i,e){const{prefixes:t}=j.useContext(Vh);return i||t[e]||e}function cT(){const{breakpoints:i}=j.useContext(Vh);return i}function hT(){const{minBreakpoint:i}=j.useContext(Vh);return i}const fT=i=>j.forwardRef((e,t)=>x.jsx("div",{...e,ref:t,className:xt(e.className,i)}));function $R(i){const e=j.useRef(i);return j.useEffect(()=>{e.current=i},[i]),e}function dT(i){const e=$R(i);return j.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const KR=["as","disabled"];function QR(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}function YR(i){return!i||i.trim()==="#"}function Cp({tagName:i,disabled:e,href:t,target:s,rel:o,role:l,onClick:h,tabIndex:m=0,type:g}){i||(t!=null||s!=null||o!=null?i="a":i="button");const p={tagName:i};if(i==="button")return[{type:g||"button",disabled:e},p];const _=S=>{if((e||i==="a"&&YR(t))&&S.preventDefault(),e){S.stopPropagation();return}h==null||h(S)},T=S=>{S.key===" "&&(S.preventDefault(),_(S))};return i==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:l??"button",disabled:void 0,tabIndex:e?void 0:m,href:t,target:i==="a"?s:void 0,"aria-disabled":e||void 0,rel:i==="a"?o:void 0,onClick:_,onKeyDown:T},p]}const mT=j.forwardRef((i,e)=>{let{as:t,disabled:s}=i,o=QR(i,KR);const[l,{tagName:h}]=Cp(Object.assign({tagName:t,disabled:s},o));return x.jsx(h,Object.assign({},o,l,{ref:e}))});mT.displayName="Button";const XR=["onKeyDown"];function JR(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}function ZR(i){return!i||i.trim()==="#"}const pT=j.forwardRef((i,e)=>{let{onKeyDown:t}=i,s=JR(i,XR);const[o]=Cp(Object.assign({tagName:"a"},s)),l=dT(h=>{o.onKeyDown(h),t==null||t(h)});return ZR(s.href)||s.role==="button"?x.jsx("a",Object.assign({ref:e},s,o,{onKeyDown:l})):x.jsx("a",Object.assign({ref:e},s,{onKeyDown:t}))});pT.displayName="Anchor";const jm=j.forwardRef(({as:i,bsPrefix:e,variant:t="primary",size:s,active:o=!1,disabled:l=!1,className:h,...m},g)=>{const p=Qt(e,"btn"),[_,{tagName:T}]=Cp({tagName:i,disabled:l,...m}),S=T;return x.jsx(S,{..._,...m,ref:g,disabled:l,className:xt(h,p,o&&"active",t&&`${p}-${t}`,s&&`${p}-${s}`,m.href&&l&&"disabled")})});jm.displayName="Button";const Ip=j.forwardRef(({className:i,bsPrefix:e,as:t="div",...s},o)=>(e=Qt(e,"card-body"),x.jsx(t,{ref:o,className:xt(i,e),...s})));Ip.displayName="CardBody";const gT=j.forwardRef(({className:i,bsPrefix:e,as:t="div",...s},o)=>(e=Qt(e,"card-footer"),x.jsx(t,{ref:o,className:xt(i,e),...s})));gT.displayName="CardFooter";const Op=j.createContext(null);Op.displayName="CardHeaderContext";const yT=j.forwardRef(({bsPrefix:i,className:e,as:t="div",...s},o)=>{const l=Qt(i,"card-header"),h=j.useMemo(()=>({cardHeaderBsPrefix:l}),[l]);return x.jsx(Op.Provider,{value:h,children:x.jsx(t,{ref:o,...s,className:xt(e,l)})})});yT.displayName="CardHeader";const _T=j.forwardRef(({bsPrefix:i,className:e,variant:t,as:s="img",...o},l)=>{const h=Qt(i,"card-img");return x.jsx(s,{ref:l,className:xt(t?`${h}-${t}`:h,e),...o})});_T.displayName="CardImg";const vT=j.forwardRef(({className:i,bsPrefix:e,as:t="div",...s},o)=>(e=Qt(e,"card-img-overlay"),x.jsx(t,{ref:o,className:xt(i,e),...s})));vT.displayName="CardImgOverlay";const ET=j.forwardRef(({className:i,bsPrefix:e,as:t="a",...s},o)=>(e=Qt(e,"card-link"),x.jsx(t,{ref:o,className:xt(i,e),...s})));ET.displayName="CardLink";const WR=fT("h6"),TT=j.forwardRef(({className:i,bsPrefix:e,as:t=WR,...s},o)=>(e=Qt(e,"card-subtitle"),x.jsx(t,{ref:o,className:xt(i,e),...s})));TT.displayName="CardSubtitle";const ST=j.forwardRef(({className:i,bsPrefix:e,as:t="p",...s},o)=>(e=Qt(e,"card-text"),x.jsx(t,{ref:o,className:xt(i,e),...s})));ST.displayName="CardText";const eC=fT("h5"),bT=j.forwardRef(({className:i,bsPrefix:e,as:t=eC,...s},o)=>(e=Qt(e,"card-title"),x.jsx(t,{ref:o,className:xt(i,e),...s})));bT.displayName="CardTitle";const AT=j.forwardRef(({bsPrefix:i,className:e,bg:t,text:s,border:o,body:l=!1,children:h,as:m="div",...g},p)=>{const _=Qt(i,"card");return x.jsx(m,{ref:p,...g,className:xt(e,_,t&&`bg-${t}`,s&&`text-${s}`,o&&`border-${o}`),children:l?x.jsx(Ip,{children:h}):h})});AT.displayName="Card";const aE=Object.assign(AT,{Img:_T,Title:bT,Subtitle:TT,Body:Ip,Link:ET,Text:ST,Header:yT,Footer:gT,ImgOverlay:vT});function tC({as:i,bsPrefix:e,className:t,...s}){e=Qt(e,"col");const o=cT(),l=hT(),h=[],m=[];return o.forEach(g=>{const p=s[g];delete s[g];let _,T,S;typeof p=="object"&&p!=null?{span:_,offset:T,order:S}=p:_=p;const I=g!==l?`-${g}`:"";_&&h.push(_===!0?`${e}${I}`:`${e}${I}-${_}`),S!=null&&m.push(`order${I}-${S}`),T!=null&&m.push(`offset${I}-${T}`)}),[{...s,className:xt(t,...h,...m)},{as:i,bsPrefix:e,spans:h}]}const wT=j.forwardRef((i,e)=>{const[{className:t,...s},{as:o="div",bsPrefix:l,spans:h}]=tC(i);return x.jsx(o,{...s,ref:e,className:xt(t,!h.length&&l)})});wT.displayName="Col";const Bm=j.forwardRef(({bsPrefix:i,fluid:e=!1,as:t="div",className:s,...o},l)=>{const h=Qt(i,"container"),m=typeof e=="string"?`-${e}`:"-fluid";return x.jsx(t,{ref:l,...o,className:xt(s,e?`${h}${m}`:h)})});Bm.displayName="Container";var nC=Function.prototype.bind.call(Function.prototype.call,[].slice);function iC(i,e){return nC(i.querySelectorAll(e))}function rC(){const[,i]=j.useReducer(e=>e+1,0);return i}const zm=j.createContext(null),Dp=(i,e=null)=>i!=null?String(i):e||null,Np=j.createContext(null);Np.displayName="NavContext";const sC="data-rr-ui-",aC="rrUi";function xp(i){return`${sC}${i}`}function oC(i){return`${aC}${i}`}const RT=j.createContext(null);RT.displayName="NavbarContext";const oE=i=>!i||typeof i=="function"?i:e=>{i.current=e};function lC(i,e){const t=oE(i),s=oE(e);return o=>{t&&t(o),s&&s(o)}}function uC(i,e){return j.useMemo(()=>lC(i,e),[i,e])}const CT=j.createContext(null),cC=["as","active","eventKey"];function hC(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}function IT({key:i,onClick:e,active:t,id:s,role:o,disabled:l}){const h=j.useContext(zm),m=j.useContext(Np),g=j.useContext(CT);let p=t;const _={role:o};if(m){!o&&m.role==="tablist"&&(_.role="tab");const T=m.getControllerId(i??null),S=m.getControlledId(i??null);_[xp("event-key")]=i,_.id=T||s,p=t==null&&i!=null?m.activeKey===i:t,(p||!(g!=null&&g.unmountOnExit)&&!(g!=null&&g.mountOnEnter))&&(_["aria-controls"]=S)}return _.role==="tab"&&(_["aria-selected"]=p,p||(_.tabIndex=-1),l&&(_.tabIndex=-1,_["aria-disabled"]=!0)),_.onClick=dT(T=>{l||(e==null||e(T),i!=null&&h&&!T.isPropagationStopped()&&h(i,T))}),[_,{isActive:p}]}const OT=j.forwardRef((i,e)=>{let{as:t=mT,active:s,eventKey:o}=i,l=hC(i,cC);const[h,m]=IT(Object.assign({key:Dp(o,l.href),active:s},l));return h[xp("active")]=m.isActive,x.jsx(t,Object.assign({},l,h,{ref:e}))});OT.displayName="NavItem";const fC=["as","onSelect","activeKey","role","onKeyDown"];function dC(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}const lE=()=>{},uE=xp("event-key"),DT=j.forwardRef((i,e)=>{let{as:t="div",onSelect:s,activeKey:o,role:l,onKeyDown:h}=i,m=dC(i,fC);const g=rC(),p=j.useRef(!1),_=j.useContext(zm),T=j.useContext(CT);let S,I;T&&(l=l||"tablist",o=T.activeKey,S=T.getControlledId,I=T.getControllerId);const R=j.useRef(null),k=H=>{const re=R.current;if(!re)return null;const ee=iC(re,`[${uE}]:not([aria-disabled=true])`),ae=re.querySelector("[aria-selected=true]");if(!ae||ae!==document.activeElement)return null;const D=ee.indexOf(ae);if(D===-1)return null;let w=D+H;return w>=ee.length&&(w=0),w<0&&(w=ee.length-1),ee[w]},O=(H,re)=>{H!=null&&(s==null||s(H,re),_==null||_(H,re))},q=H=>{if(h==null||h(H),!T)return;let re;switch(H.key){case"ArrowLeft":case"ArrowUp":re=k(-1);break;case"ArrowRight":case"ArrowDown":re=k(1);break;default:return}re&&(H.preventDefault(),O(re.dataset[oC("EventKey")]||null,H),p.current=!0,g())};j.useEffect(()=>{if(R.current&&p.current){const H=R.current.querySelector(`[${uE}][aria-selected=true]`);H==null||H.focus()}p.current=!1});const J=uC(e,R);return x.jsx(zm.Provider,{value:O,children:x.jsx(Np.Provider,{value:{role:l,activeKey:Dp(o),getControlledId:S||lE,getControllerId:I||lE},children:x.jsx(t,Object.assign({},m,{onKeyDown:q,ref:J,role:l}))})})});DT.displayName="Nav";const mC=Object.assign(DT,{Item:OT}),NT=j.forwardRef(({className:i,bsPrefix:e,as:t="div",...s},o)=>(e=Qt(e,"nav-item"),x.jsx(t,{ref:o,className:xt(i,e),...s})));NT.displayName="NavItem";const xT=j.forwardRef(({bsPrefix:i,className:e,as:t=pT,active:s,eventKey:o,disabled:l=!1,...h},m)=>{i=Qt(i,"nav-link");const[g,p]=IT({key:Dp(o,h.href),active:s,disabled:l,...h});return x.jsx(t,{...h,...g,ref:m,disabled:l,className:xt(e,i,l&&"disabled",p.isActive&&"active")})});xT.displayName="NavLink";const MT=j.forwardRef((i,e)=>{const{as:t="div",bsPrefix:s,variant:o,fill:l=!1,justify:h=!1,navbar:m,navbarScroll:g,className:p,activeKey:_,...T}=HR(i,{activeKey:"onSelect"}),S=Qt(s,"nav");let I,R,k=!1;const O=j.useContext(RT),q=j.useContext(Op);return O?(I=O.bsPrefix,k=m??!0):q&&({cardHeaderBsPrefix:R}=q),x.jsx(mC,{as:t,ref:e,activeKey:_,className:xt(p,{[S]:!k,[`${I}-nav`]:k,[`${I}-nav-scroll`]:k&&g,[`${R}-${o}`]:!!R,[`${S}-${o}`]:!!o,[`${S}-fill`]:l,[`${S}-justified`]:h}),...T})});MT.displayName="Nav";const pC=Object.assign(MT,{Item:NT,Link:xT}),VT=j.forwardRef(({bsPrefix:i,className:e,as:t="div",...s},o)=>{const l=Qt(i,"row"),h=cT(),m=hT(),g=`${l}-cols`,p=[];return h.forEach(_=>{const T=s[_];delete s[_];let S;T!=null&&typeof T=="object"?{cols:S}=T:S=T;const I=_!==m?`-${_}`:"";S!=null&&p.push(`${g}${I}-${S}`)}),x.jsx(t,{ref:o,...s,className:xt(e,l,...p)})});VT.displayName="Row";function gC(){const i=zn();return x.jsxs(x.Fragment,{children:[x.jsx(pC,{className:"nav-rocket",children:x.jsxs("div",{className:"nav-button-container",children:[x.jsx("button",{className:"nav-button",onClick:()=>i("/home"),children:"Home"}),x.jsx("button",{className:"nav-button",onClick:()=>i("/dashboard"),children:"Dashboard"}),x.jsx("button",{className:"nav-button",onClick:()=>i("/my-playlists"),children:"My Playlists"}),x.jsx("button",{className:"nav-button",onClick:()=>i("/social"),children:"Social"}),x.jsx("button",{className:"nav-button",onClick:()=>i("/profile"),children:"Profile"}),x.jsx("button",{className:"nav-button",onClick:()=>i("/signout"),children:"Sign Out"})]})}),x.jsx("div",{className:"home-container__overlay"}),x.jsx("main",{style:{paddingTop:"4rem"},children:x.jsx(tR,{})})]})}function PT(i,e){return function(){return i.apply(e,arguments)}}const{toString:yC}=Object.prototype,{getPrototypeOf:Mp}=Object,{iterator:Ph,toStringTag:kT}=Symbol,kh=(i=>e=>{const t=yC.call(e);return i[t]||(i[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Zn=i=>(i=i.toLowerCase(),e=>kh(e)===i),Uh=i=>e=>typeof e===i,{isArray:fo}=Array,$l=Uh("undefined");function _C(i){return i!==null&&!$l(i)&&i.constructor!==null&&!$l(i.constructor)&&pn(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const UT=Zn("ArrayBuffer");function vC(i){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(i):e=i&&i.buffer&&UT(i.buffer),e}const EC=Uh("string"),pn=Uh("function"),LT=Uh("number"),Lh=i=>i!==null&&typeof i=="object",TC=i=>i===!0||i===!1,Jc=i=>{if(kh(i)!=="object")return!1;const e=Mp(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(kT in i)&&!(Ph in i)},SC=Zn("Date"),bC=Zn("File"),AC=Zn("Blob"),wC=Zn("FileList"),RC=i=>Lh(i)&&pn(i.pipe),CC=i=>{let e;return i&&(typeof FormData=="function"&&i instanceof FormData||pn(i.append)&&((e=kh(i))==="formdata"||e==="object"&&pn(i.toString)&&i.toString()==="[object FormData]"))},IC=Zn("URLSearchParams"),[OC,DC,NC,xC]=["ReadableStream","Request","Response","Headers"].map(Zn),MC=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function su(i,e,{allOwnKeys:t=!1}={}){if(i===null||typeof i>"u")return;let s,o;if(typeof i!="object"&&(i=[i]),fo(i))for(s=0,o=i.length;s<o;s++)e.call(null,i[s],s,i);else{const l=t?Object.getOwnPropertyNames(i):Object.keys(i),h=l.length;let m;for(s=0;s<h;s++)m=l[s],e.call(null,i[m],m,i)}}function jT(i,e){e=e.toLowerCase();const t=Object.keys(i);let s=t.length,o;for(;s-- >0;)if(o=t[s],e===o.toLowerCase())return o;return null}const Bs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,BT=i=>!$l(i)&&i!==Bs;function qm(){const{caseless:i}=BT(this)&&this||{},e={},t=(s,o)=>{const l=i&&jT(e,o)||o;Jc(e[l])&&Jc(s)?e[l]=qm(e[l],s):Jc(s)?e[l]=qm({},s):fo(s)?e[l]=s.slice():e[l]=s};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&su(arguments[s],t);return e}const VC=(i,e,t,{allOwnKeys:s}={})=>(su(e,(o,l)=>{t&&pn(o)?i[l]=PT(o,t):i[l]=o},{allOwnKeys:s}),i),PC=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),kC=(i,e,t,s)=>{i.prototype=Object.create(e.prototype,s),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:e.prototype}),t&&Object.assign(i.prototype,t)},UC=(i,e,t,s)=>{let o,l,h;const m={};if(e=e||{},i==null)return e;do{for(o=Object.getOwnPropertyNames(i),l=o.length;l-- >0;)h=o[l],(!s||s(h,i,e))&&!m[h]&&(e[h]=i[h],m[h]=!0);i=t!==!1&&Mp(i)}while(i&&(!t||t(i,e))&&i!==Object.prototype);return e},LC=(i,e,t)=>{i=String(i),(t===void 0||t>i.length)&&(t=i.length),t-=e.length;const s=i.indexOf(e,t);return s!==-1&&s===t},jC=i=>{if(!i)return null;if(fo(i))return i;let e=i.length;if(!LT(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=i[e];return t},BC=(i=>e=>i&&e instanceof i)(typeof Uint8Array<"u"&&Mp(Uint8Array)),zC=(i,e)=>{const s=(i&&i[Ph]).call(i);let o;for(;(o=s.next())&&!o.done;){const l=o.value;e.call(i,l[0],l[1])}},qC=(i,e)=>{let t;const s=[];for(;(t=i.exec(e))!==null;)s.push(t);return s},HC=Zn("HTMLFormElement"),FC=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,s,o){return s.toUpperCase()+o}),cE=(({hasOwnProperty:i})=>(e,t)=>i.call(e,t))(Object.prototype),GC=Zn("RegExp"),zT=(i,e)=>{const t=Object.getOwnPropertyDescriptors(i),s={};su(t,(o,l)=>{let h;(h=e(o,l,i))!==!1&&(s[l]=h||o)}),Object.defineProperties(i,s)},$C=i=>{zT(i,(e,t)=>{if(pn(i)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const s=i[t];if(pn(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},KC=(i,e)=>{const t={},s=o=>{o.forEach(l=>{t[l]=!0})};return fo(i)?s(i):s(String(i).split(e)),t},QC=()=>{},YC=(i,e)=>i!=null&&Number.isFinite(i=+i)?i:e;function XC(i){return!!(i&&pn(i.append)&&i[kT]==="FormData"&&i[Ph])}const JC=i=>{const e=new Array(10),t=(s,o)=>{if(Lh(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[o]=s;const l=fo(s)?[]:{};return su(s,(h,m)=>{const g=t(h,o+1);!$l(g)&&(l[m]=g)}),e[o]=void 0,l}}return s};return t(i,0)},ZC=Zn("AsyncFunction"),WC=i=>i&&(Lh(i)||pn(i))&&pn(i.then)&&pn(i.catch),qT=((i,e)=>i?setImmediate:e?((t,s)=>(Bs.addEventListener("message",({source:o,data:l})=>{o===Bs&&l===t&&s.length&&s.shift()()},!1),o=>{s.push(o),Bs.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",pn(Bs.postMessage)),eI=typeof queueMicrotask<"u"?queueMicrotask.bind(Bs):typeof process<"u"&&process.nextTick||qT,tI=i=>i!=null&&pn(i[Ph]),X={isArray:fo,isArrayBuffer:UT,isBuffer:_C,isFormData:CC,isArrayBufferView:vC,isString:EC,isNumber:LT,isBoolean:TC,isObject:Lh,isPlainObject:Jc,isReadableStream:OC,isRequest:DC,isResponse:NC,isHeaders:xC,isUndefined:$l,isDate:SC,isFile:bC,isBlob:AC,isRegExp:GC,isFunction:pn,isStream:RC,isURLSearchParams:IC,isTypedArray:BC,isFileList:wC,forEach:su,merge:qm,extend:VC,trim:MC,stripBOM:PC,inherits:kC,toFlatObject:UC,kindOf:kh,kindOfTest:Zn,endsWith:LC,toArray:jC,forEachEntry:zC,matchAll:qC,isHTMLForm:HC,hasOwnProperty:cE,hasOwnProp:cE,reduceDescriptors:zT,freezeMethods:$C,toObjectSet:KC,toCamelCase:FC,noop:QC,toFiniteNumber:YC,findKey:jT,global:Bs,isContextDefined:BT,isSpecCompliantForm:XC,toJSONObject:JC,isAsyncFn:ZC,isThenable:WC,setImmediate:qT,asap:eI,isIterable:tI};function Ce(i,e,t,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),s&&(this.request=s),o&&(this.response=o,this.status=o.status?o.status:null)}X.inherits(Ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.status}}});const HT=Ce.prototype,FT={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{FT[i]={value:i}});Object.defineProperties(Ce,FT);Object.defineProperty(HT,"isAxiosError",{value:!0});Ce.from=(i,e,t,s,o,l)=>{const h=Object.create(HT);return X.toFlatObject(i,h,function(g){return g!==Error.prototype},m=>m!=="isAxiosError"),Ce.call(h,i.message,e,t,s,o),h.cause=i,h.name=i.name,l&&Object.assign(h,l),h};const nI=null;function Hm(i){return X.isPlainObject(i)||X.isArray(i)}function GT(i){return X.endsWith(i,"[]")?i.slice(0,-2):i}function hE(i,e,t){return i?i.concat(e).map(function(o,l){return o=GT(o),!t&&l?"["+o+"]":o}).join(t?".":""):e}function iI(i){return X.isArray(i)&&!i.some(Hm)}const rI=X.toFlatObject(X,{},null,function(e){return/^is[A-Z]/.test(e)});function jh(i,e,t){if(!X.isObject(i))throw new TypeError("target must be an object");e=e||new FormData,t=X.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,O){return!X.isUndefined(O[k])});const s=t.metaTokens,o=t.visitor||_,l=t.dots,h=t.indexes,g=(t.Blob||typeof Blob<"u"&&Blob)&&X.isSpecCompliantForm(e);if(!X.isFunction(o))throw new TypeError("visitor must be a function");function p(R){if(R===null)return"";if(X.isDate(R))return R.toISOString();if(!g&&X.isBlob(R))throw new Ce("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(R)||X.isTypedArray(R)?g&&typeof Blob=="function"?new Blob([R]):Buffer.from(R):R}function _(R,k,O){let q=R;if(R&&!O&&typeof R=="object"){if(X.endsWith(k,"{}"))k=s?k:k.slice(0,-2),R=JSON.stringify(R);else if(X.isArray(R)&&iI(R)||(X.isFileList(R)||X.endsWith(k,"[]"))&&(q=X.toArray(R)))return k=GT(k),q.forEach(function(H,re){!(X.isUndefined(H)||H===null)&&e.append(h===!0?hE([k],re,l):h===null?k:k+"[]",p(H))}),!1}return Hm(R)?!0:(e.append(hE(O,k,l),p(R)),!1)}const T=[],S=Object.assign(rI,{defaultVisitor:_,convertValue:p,isVisitable:Hm});function I(R,k){if(!X.isUndefined(R)){if(T.indexOf(R)!==-1)throw Error("Circular reference detected in "+k.join("."));T.push(R),X.forEach(R,function(q,J){(!(X.isUndefined(q)||q===null)&&o.call(e,q,X.isString(J)?J.trim():J,k,S))===!0&&I(q,k?k.concat(J):[J])}),T.pop()}}if(!X.isObject(i))throw new TypeError("data must be an object");return I(i),e}function fE(i){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Vp(i,e){this._pairs=[],i&&jh(i,this,e)}const $T=Vp.prototype;$T.append=function(e,t){this._pairs.push([e,t])};$T.toString=function(e){const t=e?function(s){return e.call(this,s,fE)}:fE;return this._pairs.map(function(o){return t(o[0])+"="+t(o[1])},"").join("&")};function sI(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function KT(i,e,t){if(!e)return i;const s=t&&t.encode||sI;X.isFunction(t)&&(t={serialize:t});const o=t&&t.serialize;let l;if(o?l=o(e,t):l=X.isURLSearchParams(e)?e.toString():new Vp(e,t).toString(s),l){const h=i.indexOf("#");h!==-1&&(i=i.slice(0,h)),i+=(i.indexOf("?")===-1?"?":"&")+l}return i}class dE{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){X.forEach(this.handlers,function(s){s!==null&&e(s)})}}const QT={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},aI=typeof URLSearchParams<"u"?URLSearchParams:Vp,oI=typeof FormData<"u"?FormData:null,lI=typeof Blob<"u"?Blob:null,uI={isBrowser:!0,classes:{URLSearchParams:aI,FormData:oI,Blob:lI},protocols:["http","https","file","blob","url","data"]},Pp=typeof window<"u"&&typeof document<"u",Fm=typeof navigator=="object"&&navigator||void 0,cI=Pp&&(!Fm||["ReactNative","NativeScript","NS"].indexOf(Fm.product)<0),hI=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",fI=Pp&&window.location.href||"http://localhost",dI=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Pp,hasStandardBrowserEnv:cI,hasStandardBrowserWebWorkerEnv:hI,navigator:Fm,origin:fI},Symbol.toStringTag,{value:"Module"})),nn={...dI,...uI};function mI(i,e){return jh(i,new nn.classes.URLSearchParams,Object.assign({visitor:function(t,s,o,l){return nn.isNode&&X.isBuffer(t)?(this.append(s,t.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},e))}function pI(i){return X.matchAll(/\w+|\[(\w*)]/g,i).map(e=>e[0]==="[]"?"":e[1]||e[0])}function gI(i){const e={},t=Object.keys(i);let s;const o=t.length;let l;for(s=0;s<o;s++)l=t[s],e[l]=i[l];return e}function YT(i){function e(t,s,o,l){let h=t[l++];if(h==="__proto__")return!0;const m=Number.isFinite(+h),g=l>=t.length;return h=!h&&X.isArray(o)?o.length:h,g?(X.hasOwnProp(o,h)?o[h]=[o[h],s]:o[h]=s,!m):((!o[h]||!X.isObject(o[h]))&&(o[h]=[]),e(t,s,o[h],l)&&X.isArray(o[h])&&(o[h]=gI(o[h])),!m)}if(X.isFormData(i)&&X.isFunction(i.entries)){const t={};return X.forEachEntry(i,(s,o)=>{e(pI(s),o,t,0)}),t}return null}function yI(i,e,t){if(X.isString(i))try{return(e||JSON.parse)(i),X.trim(i)}catch(s){if(s.name!=="SyntaxError")throw s}return(t||JSON.stringify)(i)}const au={transitional:QT,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",o=s.indexOf("application/json")>-1,l=X.isObject(e);if(l&&X.isHTMLForm(e)&&(e=new FormData(e)),X.isFormData(e))return o?JSON.stringify(YT(e)):e;if(X.isArrayBuffer(e)||X.isBuffer(e)||X.isStream(e)||X.isFile(e)||X.isBlob(e)||X.isReadableStream(e))return e;if(X.isArrayBufferView(e))return e.buffer;if(X.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let m;if(l){if(s.indexOf("application/x-www-form-urlencoded")>-1)return mI(e,this.formSerializer).toString();if((m=X.isFileList(e))||s.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return jh(m?{"files[]":e}:e,g&&new g,this.formSerializer)}}return l||o?(t.setContentType("application/json",!1),yI(e)):e}],transformResponse:[function(e){const t=this.transitional||au.transitional,s=t&&t.forcedJSONParsing,o=this.responseType==="json";if(X.isResponse(e)||X.isReadableStream(e))return e;if(e&&X.isString(e)&&(s&&!this.responseType||o)){const h=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(m){if(h)throw m.name==="SyntaxError"?Ce.from(m,Ce.ERR_BAD_RESPONSE,this,null,this.response):m}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:nn.classes.FormData,Blob:nn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};X.forEach(["delete","get","head","post","put","patch"],i=>{au.headers[i]={}});const _I=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),vI=i=>{const e={};let t,s,o;return i&&i.split(`
`).forEach(function(h){o=h.indexOf(":"),t=h.substring(0,o).trim().toLowerCase(),s=h.substring(o+1).trim(),!(!t||e[t]&&_I[t])&&(t==="set-cookie"?e[t]?e[t].push(s):e[t]=[s]:e[t]=e[t]?e[t]+", "+s:s)}),e},mE=Symbol("internals");function Pl(i){return i&&String(i).trim().toLowerCase()}function Zc(i){return i===!1||i==null?i:X.isArray(i)?i.map(Zc):String(i)}function EI(i){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=t.exec(i);)e[s[1]]=s[2];return e}const TI=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function Em(i,e,t,s,o){if(X.isFunction(s))return s.call(this,e,t);if(o&&(e=t),!!X.isString(e)){if(X.isString(s))return e.indexOf(s)!==-1;if(X.isRegExp(s))return s.test(e)}}function SI(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}function bI(i,e){const t=X.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(i,s+t,{value:function(o,l,h){return this[s].call(this,e,o,l,h)},configurable:!0})})}let gn=class{constructor(e){e&&this.set(e)}set(e,t,s){const o=this;function l(m,g,p){const _=Pl(g);if(!_)throw new Error("header name must be a non-empty string");const T=X.findKey(o,_);(!T||o[T]===void 0||p===!0||p===void 0&&o[T]!==!1)&&(o[T||g]=Zc(m))}const h=(m,g)=>X.forEach(m,(p,_)=>l(p,_,g));if(X.isPlainObject(e)||e instanceof this.constructor)h(e,t);else if(X.isString(e)&&(e=e.trim())&&!TI(e))h(vI(e),t);else if(X.isObject(e)&&X.isIterable(e)){let m={},g,p;for(const _ of e){if(!X.isArray(_))throw TypeError("Object iterator must return a key-value pair");m[p=_[0]]=(g=m[p])?X.isArray(g)?[...g,_[1]]:[g,_[1]]:_[1]}h(m,t)}else e!=null&&l(t,e,s);return this}get(e,t){if(e=Pl(e),e){const s=X.findKey(this,e);if(s){const o=this[s];if(!t)return o;if(t===!0)return EI(o);if(X.isFunction(t))return t.call(this,o,s);if(X.isRegExp(t))return t.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Pl(e),e){const s=X.findKey(this,e);return!!(s&&this[s]!==void 0&&(!t||Em(this,this[s],s,t)))}return!1}delete(e,t){const s=this;let o=!1;function l(h){if(h=Pl(h),h){const m=X.findKey(s,h);m&&(!t||Em(s,s[m],m,t))&&(delete s[m],o=!0)}}return X.isArray(e)?e.forEach(l):l(e),o}clear(e){const t=Object.keys(this);let s=t.length,o=!1;for(;s--;){const l=t[s];(!e||Em(this,this[l],l,e,!0))&&(delete this[l],o=!0)}return o}normalize(e){const t=this,s={};return X.forEach(this,(o,l)=>{const h=X.findKey(s,l);if(h){t[h]=Zc(o),delete t[l];return}const m=e?SI(l):String(l).trim();m!==l&&delete t[l],t[m]=Zc(o),s[m]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return X.forEach(this,(s,o)=>{s!=null&&s!==!1&&(t[o]=e&&X.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach(o=>s.set(o)),s}static accessor(e){const s=(this[mE]=this[mE]={accessors:{}}).accessors,o=this.prototype;function l(h){const m=Pl(h);s[m]||(bI(o,h),s[m]=!0)}return X.isArray(e)?e.forEach(l):l(e),this}};gn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);X.reduceDescriptors(gn.prototype,({value:i},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>i,set(s){this[t]=s}}});X.freezeMethods(gn);function Tm(i,e){const t=this||au,s=e||t,o=gn.from(s.headers);let l=s.data;return X.forEach(i,function(m){l=m.call(t,l,o.normalize(),e?e.status:void 0)}),o.normalize(),l}function XT(i){return!!(i&&i.__CANCEL__)}function mo(i,e,t){Ce.call(this,i??"canceled",Ce.ERR_CANCELED,e,t),this.name="CanceledError"}X.inherits(mo,Ce,{__CANCEL__:!0});function JT(i,e,t){const s=t.config.validateStatus;!t.status||!s||s(t.status)?i(t):e(new Ce("Request failed with status code "+t.status,[Ce.ERR_BAD_REQUEST,Ce.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function AI(i){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return e&&e[1]||""}function wI(i,e){i=i||10;const t=new Array(i),s=new Array(i);let o=0,l=0,h;return e=e!==void 0?e:1e3,function(g){const p=Date.now(),_=s[l];h||(h=p),t[o]=g,s[o]=p;let T=l,S=0;for(;T!==o;)S+=t[T++],T=T%i;if(o=(o+1)%i,o===l&&(l=(l+1)%i),p-h<e)return;const I=_&&p-_;return I?Math.round(S*1e3/I):void 0}}function RI(i,e){let t=0,s=1e3/e,o,l;const h=(p,_=Date.now())=>{t=_,o=null,l&&(clearTimeout(l),l=null),i.apply(null,p)};return[(...p)=>{const _=Date.now(),T=_-t;T>=s?h(p,_):(o=p,l||(l=setTimeout(()=>{l=null,h(o)},s-T)))},()=>o&&h(o)]}const ch=(i,e,t=3)=>{let s=0;const o=wI(50,250);return RI(l=>{const h=l.loaded,m=l.lengthComputable?l.total:void 0,g=h-s,p=o(g),_=h<=m;s=h;const T={loaded:h,total:m,progress:m?h/m:void 0,bytes:g,rate:p||void 0,estimated:p&&m&&_?(m-h)/p:void 0,event:l,lengthComputable:m!=null,[e?"download":"upload"]:!0};i(T)},t)},pE=(i,e)=>{const t=i!=null;return[s=>e[0]({lengthComputable:t,total:i,loaded:s}),e[1]]},gE=i=>(...e)=>X.asap(()=>i(...e)),CI=nn.hasStandardBrowserEnv?((i,e)=>t=>(t=new URL(t,nn.origin),i.protocol===t.protocol&&i.host===t.host&&(e||i.port===t.port)))(new URL(nn.origin),nn.navigator&&/(msie|trident)/i.test(nn.navigator.userAgent)):()=>!0,II=nn.hasStandardBrowserEnv?{write(i,e,t,s,o,l){const h=[i+"="+encodeURIComponent(e)];X.isNumber(t)&&h.push("expires="+new Date(t).toGMTString()),X.isString(s)&&h.push("path="+s),X.isString(o)&&h.push("domain="+o),l===!0&&h.push("secure"),document.cookie=h.join("; ")},read(i){const e=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(i){this.write(i,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function OI(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function DI(i,e){return e?i.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):i}function ZT(i,e,t){let s=!OI(e);return i&&(s||t==!1)?DI(i,e):e}const yE=i=>i instanceof gn?{...i}:i;function Gs(i,e){e=e||{};const t={};function s(p,_,T,S){return X.isPlainObject(p)&&X.isPlainObject(_)?X.merge.call({caseless:S},p,_):X.isPlainObject(_)?X.merge({},_):X.isArray(_)?_.slice():_}function o(p,_,T,S){if(X.isUndefined(_)){if(!X.isUndefined(p))return s(void 0,p,T,S)}else return s(p,_,T,S)}function l(p,_){if(!X.isUndefined(_))return s(void 0,_)}function h(p,_){if(X.isUndefined(_)){if(!X.isUndefined(p))return s(void 0,p)}else return s(void 0,_)}function m(p,_,T){if(T in e)return s(p,_);if(T in i)return s(void 0,p)}const g={url:l,method:l,data:l,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:m,headers:(p,_,T)=>o(yE(p),yE(_),T,!0)};return X.forEach(Object.keys(Object.assign({},i,e)),function(_){const T=g[_]||o,S=T(i[_],e[_],_);X.isUndefined(S)&&T!==m||(t[_]=S)}),t}const WT=i=>{const e=Gs({},i);let{data:t,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:l,headers:h,auth:m}=e;e.headers=h=gn.from(h),e.url=KT(ZT(e.baseURL,e.url,e.allowAbsoluteUrls),i.params,i.paramsSerializer),m&&h.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):"")));let g;if(X.isFormData(t)){if(nn.hasStandardBrowserEnv||nn.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if((g=h.getContentType())!==!1){const[p,..._]=g?g.split(";").map(T=>T.trim()).filter(Boolean):[];h.setContentType([p||"multipart/form-data",..._].join("; "))}}if(nn.hasStandardBrowserEnv&&(s&&X.isFunction(s)&&(s=s(e)),s||s!==!1&&CI(e.url))){const p=o&&l&&II.read(l);p&&h.set(o,p)}return e},NI=typeof XMLHttpRequest<"u",xI=NI&&function(i){return new Promise(function(t,s){const o=WT(i);let l=o.data;const h=gn.from(o.headers).normalize();let{responseType:m,onUploadProgress:g,onDownloadProgress:p}=o,_,T,S,I,R;function k(){I&&I(),R&&R(),o.cancelToken&&o.cancelToken.unsubscribe(_),o.signal&&o.signal.removeEventListener("abort",_)}let O=new XMLHttpRequest;O.open(o.method.toUpperCase(),o.url,!0),O.timeout=o.timeout;function q(){if(!O)return;const H=gn.from("getAllResponseHeaders"in O&&O.getAllResponseHeaders()),ee={data:!m||m==="text"||m==="json"?O.responseText:O.response,status:O.status,statusText:O.statusText,headers:H,config:i,request:O};JT(function(D){t(D),k()},function(D){s(D),k()},ee),O=null}"onloadend"in O?O.onloadend=q:O.onreadystatechange=function(){!O||O.readyState!==4||O.status===0&&!(O.responseURL&&O.responseURL.indexOf("file:")===0)||setTimeout(q)},O.onabort=function(){O&&(s(new Ce("Request aborted",Ce.ECONNABORTED,i,O)),O=null)},O.onerror=function(){s(new Ce("Network Error",Ce.ERR_NETWORK,i,O)),O=null},O.ontimeout=function(){let re=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const ee=o.transitional||QT;o.timeoutErrorMessage&&(re=o.timeoutErrorMessage),s(new Ce(re,ee.clarifyTimeoutError?Ce.ETIMEDOUT:Ce.ECONNABORTED,i,O)),O=null},l===void 0&&h.setContentType(null),"setRequestHeader"in O&&X.forEach(h.toJSON(),function(re,ee){O.setRequestHeader(ee,re)}),X.isUndefined(o.withCredentials)||(O.withCredentials=!!o.withCredentials),m&&m!=="json"&&(O.responseType=o.responseType),p&&([S,R]=ch(p,!0),O.addEventListener("progress",S)),g&&O.upload&&([T,I]=ch(g),O.upload.addEventListener("progress",T),O.upload.addEventListener("loadend",I)),(o.cancelToken||o.signal)&&(_=H=>{O&&(s(!H||H.type?new mo(null,i,O):H),O.abort(),O=null)},o.cancelToken&&o.cancelToken.subscribe(_),o.signal&&(o.signal.aborted?_():o.signal.addEventListener("abort",_)));const J=AI(o.url);if(J&&nn.protocols.indexOf(J)===-1){s(new Ce("Unsupported protocol "+J+":",Ce.ERR_BAD_REQUEST,i));return}O.send(l||null)})},MI=(i,e)=>{const{length:t}=i=i?i.filter(Boolean):[];if(e||t){let s=new AbortController,o;const l=function(p){if(!o){o=!0,m();const _=p instanceof Error?p:this.reason;s.abort(_ instanceof Ce?_:new mo(_ instanceof Error?_.message:_))}};let h=e&&setTimeout(()=>{h=null,l(new Ce(`timeout ${e} of ms exceeded`,Ce.ETIMEDOUT))},e);const m=()=>{i&&(h&&clearTimeout(h),h=null,i.forEach(p=>{p.unsubscribe?p.unsubscribe(l):p.removeEventListener("abort",l)}),i=null)};i.forEach(p=>p.addEventListener("abort",l));const{signal:g}=s;return g.unsubscribe=()=>X.asap(m),g}},VI=function*(i,e){let t=i.byteLength;if(t<e){yield i;return}let s=0,o;for(;s<t;)o=s+e,yield i.slice(s,o),s=o},PI=async function*(i,e){for await(const t of kI(i))yield*VI(t,e)},kI=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const e=i.getReader();try{for(;;){const{done:t,value:s}=await e.read();if(t)break;yield s}}finally{await e.cancel()}},_E=(i,e,t,s)=>{const o=PI(i,e);let l=0,h,m=g=>{h||(h=!0,s&&s(g))};return new ReadableStream({async pull(g){try{const{done:p,value:_}=await o.next();if(p){m(),g.close();return}let T=_.byteLength;if(t){let S=l+=T;t(S)}g.enqueue(new Uint8Array(_))}catch(p){throw m(p),p}},cancel(g){return m(g),o.return()}},{highWaterMark:2})},Bh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",eS=Bh&&typeof ReadableStream=="function",UI=Bh&&(typeof TextEncoder=="function"?(i=>e=>i.encode(e))(new TextEncoder):async i=>new Uint8Array(await new Response(i).arrayBuffer())),tS=(i,...e)=>{try{return!!i(...e)}catch{return!1}},LI=eS&&tS(()=>{let i=!1;const e=new Request(nn.origin,{body:new ReadableStream,method:"POST",get duplex(){return i=!0,"half"}}).headers.has("Content-Type");return i&&!e}),vE=64*1024,Gm=eS&&tS(()=>X.isReadableStream(new Response("").body)),hh={stream:Gm&&(i=>i.body)};Bh&&(i=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!hh[e]&&(hh[e]=X.isFunction(i[e])?t=>t[e]():(t,s)=>{throw new Ce(`Response type '${e}' is not supported`,Ce.ERR_NOT_SUPPORT,s)})})})(new Response);const jI=async i=>{if(i==null)return 0;if(X.isBlob(i))return i.size;if(X.isSpecCompliantForm(i))return(await new Request(nn.origin,{method:"POST",body:i}).arrayBuffer()).byteLength;if(X.isArrayBufferView(i)||X.isArrayBuffer(i))return i.byteLength;if(X.isURLSearchParams(i)&&(i=i+""),X.isString(i))return(await UI(i)).byteLength},BI=async(i,e)=>{const t=X.toFiniteNumber(i.getContentLength());return t??jI(e)},zI=Bh&&(async i=>{let{url:e,method:t,data:s,signal:o,cancelToken:l,timeout:h,onDownloadProgress:m,onUploadProgress:g,responseType:p,headers:_,withCredentials:T="same-origin",fetchOptions:S}=WT(i);p=p?(p+"").toLowerCase():"text";let I=MI([o,l&&l.toAbortSignal()],h),R;const k=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let O;try{if(g&&LI&&t!=="get"&&t!=="head"&&(O=await BI(_,s))!==0){let ee=new Request(e,{method:"POST",body:s,duplex:"half"}),ae;if(X.isFormData(s)&&(ae=ee.headers.get("content-type"))&&_.setContentType(ae),ee.body){const[D,w]=pE(O,ch(gE(g)));s=_E(ee.body,vE,D,w)}}X.isString(T)||(T=T?"include":"omit");const q="credentials"in Request.prototype;R=new Request(e,{...S,signal:I,method:t.toUpperCase(),headers:_.normalize().toJSON(),body:s,duplex:"half",credentials:q?T:void 0});let J=await fetch(R);const H=Gm&&(p==="stream"||p==="response");if(Gm&&(m||H&&k)){const ee={};["status","statusText","headers"].forEach(C=>{ee[C]=J[C]});const ae=X.toFiniteNumber(J.headers.get("content-length")),[D,w]=m&&pE(ae,ch(gE(m),!0))||[];J=new Response(_E(J.body,vE,D,()=>{w&&w(),k&&k()}),ee)}p=p||"text";let re=await hh[X.findKey(hh,p)||"text"](J,i);return!H&&k&&k(),await new Promise((ee,ae)=>{JT(ee,ae,{data:re,headers:gn.from(J.headers),status:J.status,statusText:J.statusText,config:i,request:R})})}catch(q){throw k&&k(),q&&q.name==="TypeError"&&/Load failed|fetch/i.test(q.message)?Object.assign(new Ce("Network Error",Ce.ERR_NETWORK,i,R),{cause:q.cause||q}):Ce.from(q,q&&q.code,i,R)}}),$m={http:nI,xhr:xI,fetch:zI};X.forEach($m,(i,e)=>{if(i){try{Object.defineProperty(i,"name",{value:e})}catch{}Object.defineProperty(i,"adapterName",{value:e})}});const EE=i=>`- ${i}`,qI=i=>X.isFunction(i)||i===null||i===!1,nS={getAdapter:i=>{i=X.isArray(i)?i:[i];const{length:e}=i;let t,s;const o={};for(let l=0;l<e;l++){t=i[l];let h;if(s=t,!qI(t)&&(s=$m[(h=String(t)).toLowerCase()],s===void 0))throw new Ce(`Unknown adapter '${h}'`);if(s)break;o[h||"#"+l]=s}if(!s){const l=Object.entries(o).map(([m,g])=>`adapter ${m} `+(g===!1?"is not supported by the environment":"is not available in the build"));let h=e?l.length>1?`since :
`+l.map(EE).join(`
`):" "+EE(l[0]):"as no adapter specified";throw new Ce("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return s},adapters:$m};function Sm(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new mo(null,i)}function TE(i){return Sm(i),i.headers=gn.from(i.headers),i.data=Tm.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),nS.getAdapter(i.adapter||au.adapter)(i).then(function(s){return Sm(i),s.data=Tm.call(i,i.transformResponse,s),s.headers=gn.from(s.headers),s},function(s){return XT(s)||(Sm(i),s&&s.response&&(s.response.data=Tm.call(i,i.transformResponse,s.response),s.response.headers=gn.from(s.response.headers))),Promise.reject(s)})}const iS="1.9.0",zh={};["object","boolean","number","function","string","symbol"].forEach((i,e)=>{zh[i]=function(s){return typeof s===i||"a"+(e<1?"n ":" ")+i}});const SE={};zh.transitional=function(e,t,s){function o(l,h){return"[Axios v"+iS+"] Transitional option '"+l+"'"+h+(s?". "+s:"")}return(l,h,m)=>{if(e===!1)throw new Ce(o(h," has been removed"+(t?" in "+t:"")),Ce.ERR_DEPRECATED);return t&&!SE[h]&&(SE[h]=!0,console.warn(o(h," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(l,h,m):!0}};zh.spelling=function(e){return(t,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function HI(i,e,t){if(typeof i!="object")throw new Ce("options must be an object",Ce.ERR_BAD_OPTION_VALUE);const s=Object.keys(i);let o=s.length;for(;o-- >0;){const l=s[o],h=e[l];if(h){const m=i[l],g=m===void 0||h(m,l,i);if(g!==!0)throw new Ce("option "+l+" must be "+g,Ce.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ce("Unknown option "+l,Ce.ERR_BAD_OPTION)}}const Wc={assertOptions:HI,validators:zh},gi=Wc.validators;let Hs=class{constructor(e){this.defaults=e||{},this.interceptors={request:new dE,response:new dE}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const l=o.stack?o.stack.replace(/^.+\n/,""):"";try{s.stack?l&&!String(s.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+l):s.stack=l}catch{}}throw s}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Gs(this.defaults,t);const{transitional:s,paramsSerializer:o,headers:l}=t;s!==void 0&&Wc.assertOptions(s,{silentJSONParsing:gi.transitional(gi.boolean),forcedJSONParsing:gi.transitional(gi.boolean),clarifyTimeoutError:gi.transitional(gi.boolean)},!1),o!=null&&(X.isFunction(o)?t.paramsSerializer={serialize:o}:Wc.assertOptions(o,{encode:gi.function,serialize:gi.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Wc.assertOptions(t,{baseUrl:gi.spelling("baseURL"),withXsrfToken:gi.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let h=l&&X.merge(l.common,l[t.method]);l&&X.forEach(["delete","get","head","post","put","patch","common"],R=>{delete l[R]}),t.headers=gn.concat(h,l);const m=[];let g=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(t)===!1||(g=g&&k.synchronous,m.unshift(k.fulfilled,k.rejected))});const p=[];this.interceptors.response.forEach(function(k){p.push(k.fulfilled,k.rejected)});let _,T=0,S;if(!g){const R=[TE.bind(this),void 0];for(R.unshift.apply(R,m),R.push.apply(R,p),S=R.length,_=Promise.resolve(t);T<S;)_=_.then(R[T++],R[T++]);return _}S=m.length;let I=t;for(T=0;T<S;){const R=m[T++],k=m[T++];try{I=R(I)}catch(O){k.call(this,O);break}}try{_=TE.call(this,I)}catch(R){return Promise.reject(R)}for(T=0,S=p.length;T<S;)_=_.then(p[T++],p[T++]);return _}getUri(e){e=Gs(this.defaults,e);const t=ZT(e.baseURL,e.url,e.allowAbsoluteUrls);return KT(t,e.params,e.paramsSerializer)}};X.forEach(["delete","get","head","options"],function(e){Hs.prototype[e]=function(t,s){return this.request(Gs(s||{},{method:e,url:t,data:(s||{}).data}))}});X.forEach(["post","put","patch"],function(e){function t(s){return function(l,h,m){return this.request(Gs(m||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:l,data:h}))}}Hs.prototype[e]=t(),Hs.prototype[e+"Form"]=t(!0)});let FI=class rS{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(l){t=l});const s=this;this.promise.then(o=>{if(!s._listeners)return;let l=s._listeners.length;for(;l-- >0;)s._listeners[l](o);s._listeners=null}),this.promise.then=o=>{let l;const h=new Promise(m=>{s.subscribe(m),l=m}).then(o);return h.cancel=function(){s.unsubscribe(l)},h},e(function(l,h,m){s.reason||(s.reason=new mo(l,h,m),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=s=>{e.abort(s)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new rS(function(o){e=o}),cancel:e}}};function GI(i){return function(t){return i.apply(null,t)}}function $I(i){return X.isObject(i)&&i.isAxiosError===!0}const Km={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Km).forEach(([i,e])=>{Km[e]=i});function sS(i){const e=new Hs(i),t=PT(Hs.prototype.request,e);return X.extend(t,Hs.prototype,e,{allOwnKeys:!0}),X.extend(t,e,null,{allOwnKeys:!0}),t.create=function(o){return sS(Gs(i,o))},t}const Me=sS(au);Me.Axios=Hs;Me.CanceledError=mo;Me.CancelToken=FI;Me.isCancel=XT;Me.VERSION=iS;Me.toFormData=jh;Me.AxiosError=Ce;Me.Cancel=Me.CanceledError;Me.all=function(e){return Promise.all(e)};Me.spread=GI;Me.isAxiosError=$I;Me.mergeConfig=Gs;Me.AxiosHeaders=gn;Me.formToJSON=i=>YT(X.isHTMLForm(i)?new FormData(i):i);Me.getAdapter=nS.getAdapter;Me.HttpStatusCode=Km;Me.default=Me;const{Axios:_V,AxiosError:vV,CanceledError:EV,isCancel:TV,CancelToken:SV,VERSION:bV,all:AV,Cancel:wV,isAxiosError:RV,spread:CV,toFormData:IV,AxiosHeaders:OV,HttpStatusCode:DV,formToJSON:NV,getAdapter:xV,mergeConfig:MV}=Me;function KI(){const i="c064b73182fe4b309592c4d6a2c10f26",e="https://pokemusic-66466.web.app/choose-username",t="https://accounts.spotify.com/authorize",s="token",[o,l]=j.useState(""),[h,m]=j.useState(null),[g,p]=j.useState(""),[_,T]=j.useState([]);j.useEffect(()=>{var q;const k=window.location.hash;let O=window.localStorage.getItem("spotify_token");if(!O&&k){const J=(q=k.substring(1).split("&").find(H=>H.startsWith("access_token")))==null?void 0:q.split("=")[1];window.location.hash="",J&&(window.localStorage.setItem("spotify_token",J),O=J)}l(O)},[]);const S=()=>{l(""),window.localStorage.removeItem("spotify_token")},I=async k=>{k.preventDefault();const{data:O}=await Me.get("https://api.spotify.com/v1/search",{headers:{Authorization:`Bearer ${o}`},params:{q:g,type:"artist"}});T(O.artists.items)},R=()=>_.map(k=>x.jsxs("div",{children:[k.images.length?x.jsx("img",{width:"100%",src:k.images[0].url,alt:k.name}):x.jsx("div",{children:"No Image"}),x.jsx("p",{children:k.name})]},k.id));return x.jsx("div",{className:"App",children:x.jsxs("header",{className:"App-header",children:[x.jsx("h1",{children:"Spotify React Login"}),o?x.jsx("button",{onClick:S,children:"Cerrar sesión"}):x.jsx("a",{href:`${t}?client_id=${i}&redirect_uri=${e}&response_type=${s}&scope=user-read-email`,children:"Iniciar sesión con Spotify"}),o?x.jsxs("form",{onSubmit:I,children:[x.jsx("input",{type:"text",onChange:k=>p(k.target.value)}),x.jsx("button",{type:"submit",children:"Buscar artista"})]}):x.jsx("h2",{children:"Debes iniciar sesión con Spotify"}),R()]})})}const QI=()=>{};var bE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},YI=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=i[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=i[t++],h=i[t++],m=i[t++],g=((o&7)<<18|(l&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const l=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},oS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const l=i[o],h=o+1<i.length,m=h?i[o+1]:0,g=o+2<i.length,p=g?i[o+2]:0,_=l>>2,T=(l&3)<<4|m>>4;let S=(m&15)<<2|p>>6,I=p&63;g||(I=64,h||(S=64)),s.push(t[_],t[T],t[S],t[I])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(aS(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):YI(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const l=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const p=o<i.length?t[i.charAt(o)]:64;++o;const T=o<i.length?t[i.charAt(o)]:64;if(++o,l==null||m==null||p==null||T==null)throw new XI;const S=l<<2|m>>4;if(s.push(S),p!==64){const I=m<<4&240|p>>2;if(s.push(I),T!==64){const R=p<<6&192|T;s.push(R)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class XI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JI=function(i){const e=aS(i);return oS.encodeByteArray(e,!0)},fh=function(i){return JI(i).replace(/\./g,"")},lS=function(i){try{return oS.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=()=>ZI().__FIREBASE_DEFAULTS__,e2=()=>{if(typeof process>"u"||typeof bE>"u")return;const i=bE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},t2=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&lS(i[1]);return e&&JSON.parse(e)},qh=()=>{try{return QI()||WI()||e2()||t2()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},uS=i=>{var e,t;return(t=(e=qh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},n2=i=>{const e=uS(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},cS=()=>{var i;return(i=qh())===null||i===void 0?void 0:i.config},hS=i=>{var e;return(e=qh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(i){return i.endsWith(".cloudworkstations.dev")}async function fS(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},i);return[fh(JSON.stringify(t)),fh(JSON.stringify(h)),""].join(".")}const jl={};function s2(){const i={prod:[],emulator:[]};for(const e of Object.keys(jl))jl[e]?i.emulator.push(e):i.prod.push(e);return i}function a2(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let AE=!1;function Hh(i,e){if(typeof window>"u"||typeof document>"u"||!ou(window.location.host)||jl[i]===e||jl[i]||AE)return;jl[i]=e;function t(S){return`__firebase__banner__${S}`}const s="__firebase__banner",l=s2().prod.length>0;function h(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,I){S.setAttribute("width","24"),S.setAttribute("id",I),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function p(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{AE=!0,h()},S}function _(S,I){S.setAttribute("id",I),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=a2(s),I=t("text"),R=document.getElementById(I)||document.createElement("span"),k=t("learnmore"),O=document.getElementById(k)||document.createElement("a"),q=t("preprendIcon"),J=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const H=S.element;m(H),_(O,k);const re=p();g(J,q),H.append(J,R,O,re),document.body.appendChild(H)}l?(R.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function o2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function l2(){var i;const e=(i=qh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function u2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function c2(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function h2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function f2(){const i=rn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function d2(){return!l2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function m2(){try{return typeof indexedDB=="object"}catch{return!1}}function p2(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2="FirebaseError";class lr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=g2,Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lu.prototype.create)}}class lu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?y2(l,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new lr(o,m,s)}}function y2(i,e){return i.replace(_2,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const _2=/\{\$([^}]+)}/g;function v2(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function $s(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=i[o],h=e[o];if(wE(l)&&wE(h)){if(!$s(l,h))return!1}else if(l!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function wE(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function E2(i,e){const t=new T2(i,e);return t.subscribe.bind(t)}class T2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");S2(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=bm),o.error===void 0&&(o.error=bm),o.complete===void 0&&(o.complete=bm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function S2(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function bm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(i){return i&&i._delegate?i._delegate:i}class Ks{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new i2;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(w2(e))try{this.getOrInitializeService({instanceIdentifier:js})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=js){return this.instances.has(e)}getOptions(e=js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);s===m&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:A2(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=js){return this.component?this.component.multipleInstances?e:js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function A2(i){return i===js?void 0:i}function w2(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new b2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ke||(ke={}));const C2={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},I2=ke.INFO,O2={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},D2=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=O2[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kp{constructor(e){this.name=e,this._logLevel=I2,this._logHandler=D2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?C2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const N2=(i,e)=>e.some(t=>i instanceof t);let RE,CE;function x2(){return RE||(RE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function M2(){return CE||(CE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dS=new WeakMap,Qm=new WeakMap,mS=new WeakMap,Am=new WeakMap,Up=new WeakMap;function V2(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",l),i.removeEventListener("error",h)},l=()=>{t(Hr(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",l),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&dS.set(t,i)}).catch(()=>{}),Up.set(e,i),e}function P2(i){if(Qm.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",h),i.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",l),i.addEventListener("error",h),i.addEventListener("abort",h)});Qm.set(i,e)}let Ym={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Qm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||mS.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Hr(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function k2(i){Ym=i(Ym)}function U2(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(wm(this),e,...t);return mS.set(s,e.sort?e.sort():[e]),Hr(s)}:M2().includes(i)?function(...e){return i.apply(wm(this),e),Hr(dS.get(this))}:function(...e){return Hr(i.apply(wm(this),e))}}function L2(i){return typeof i=="function"?U2(i):(i instanceof IDBTransaction&&P2(i),N2(i,x2())?new Proxy(i,Ym):i)}function Hr(i){if(i instanceof IDBRequest)return V2(i);if(Am.has(i))return Am.get(i);const e=L2(i);return e!==i&&(Am.set(i,e),Up.set(e,i)),e}const wm=i=>Up.get(i);function j2(i,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const h=indexedDB.open(i,e),m=Hr(h);return s&&h.addEventListener("upgradeneeded",g=>{s(Hr(h.result),g.oldVersion,g.newVersion,Hr(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),m.then(g=>{l&&g.addEventListener("close",()=>l()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const B2=["get","getKey","getAll","getAllKeys","count"],z2=["put","add","delete","clear"],Rm=new Map;function IE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Rm.get(e))return Rm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=z2.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||B2.includes(t)))return;const l=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let p=g.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[t](...m),o&&g.done]))[0]};return Rm.set(e,l),l}k2(i=>({...i,get:(e,t,s)=>IE(e,t)||i.get(e,t,s),has:(e,t)=>!!IE(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(H2(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function H2(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xm="@firebase/app",OE="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr=new kp("@firebase/app"),F2="@firebase/app-compat",G2="@firebase/analytics-compat",$2="@firebase/analytics",K2="@firebase/app-check-compat",Q2="@firebase/app-check",Y2="@firebase/auth",X2="@firebase/auth-compat",J2="@firebase/database",Z2="@firebase/data-connect",W2="@firebase/database-compat",eO="@firebase/functions",tO="@firebase/functions-compat",nO="@firebase/installations",iO="@firebase/installations-compat",rO="@firebase/messaging",sO="@firebase/messaging-compat",aO="@firebase/performance",oO="@firebase/performance-compat",lO="@firebase/remote-config",uO="@firebase/remote-config-compat",cO="@firebase/storage",hO="@firebase/storage-compat",fO="@firebase/firestore",dO="@firebase/vertexai",mO="@firebase/firestore-compat",pO="firebase",gO="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm="[DEFAULT]",yO={[Xm]:"fire-core",[F2]:"fire-core-compat",[$2]:"fire-analytics",[G2]:"fire-analytics-compat",[Q2]:"fire-app-check",[K2]:"fire-app-check-compat",[Y2]:"fire-auth",[X2]:"fire-auth-compat",[J2]:"fire-rtdb",[Z2]:"fire-data-connect",[W2]:"fire-rtdb-compat",[eO]:"fire-fn",[tO]:"fire-fn-compat",[nO]:"fire-iid",[iO]:"fire-iid-compat",[rO]:"fire-fcm",[sO]:"fire-fcm-compat",[aO]:"fire-perf",[oO]:"fire-perf-compat",[lO]:"fire-rc",[uO]:"fire-rc-compat",[cO]:"fire-gcs",[hO]:"fire-gcs-compat",[fO]:"fire-fst",[mO]:"fire-fst-compat",[dO]:"fire-vertex","fire-js":"fire-js",[pO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new Map,_O=new Map,Zm=new Map;function DE(i,e){try{i.container.addComponent(e)}catch(t){rr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function to(i){const e=i.name;if(Zm.has(e))return rr.debug(`There were multiple attempts to register component ${e}.`),!1;Zm.set(e,i);for(const t of dh.values())DE(t,i);for(const t of _O.values())DE(t,i);return!0}function Lp(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function Qn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fr=new lu("app","Firebase",vO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=gO;function pS(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Jm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Fr.create("bad-app-name",{appName:String(o)});if(t||(t=cS()),!t)throw Fr.create("no-options");const l=dh.get(o);if(l){if($s(t,l.options)&&$s(s,l.config))return l;throw Fr.create("duplicate-app",{appName:o})}const h=new R2(o);for(const g of Zm.values())h.addComponent(g);const m=new EO(t,s,h);return dh.set(o,m),m}function gS(i=Jm){const e=dh.get(i);if(!e&&i===Jm&&cS())return pS();if(!e)throw Fr.create("no-app",{appName:i});return e}function Gr(i,e,t){var s;let o=(s=yO[i])!==null&&s!==void 0?s:i;t&&(o+=`-${t}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const m=[`Unable to register library "${o}" with version "${e}":`];l&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rr.warn(m.join(" "));return}to(new Ks(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO="firebase-heartbeat-database",SO=1,Kl="firebase-heartbeat-store";let Cm=null;function yS(){return Cm||(Cm=j2(TO,SO,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Kl)}catch(t){console.warn(t)}}}}).catch(i=>{throw Fr.create("idb-open",{originalErrorMessage:i.message})})),Cm}async function bO(i){try{const t=(await yS()).transaction(Kl),s=await t.objectStore(Kl).get(_S(i));return await t.done,s}catch(e){if(e instanceof lr)rr.warn(e.message);else{const t=Fr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rr.warn(t.message)}}}async function NE(i,e){try{const s=(await yS()).transaction(Kl,"readwrite");await s.objectStore(Kl).put(e,_S(i)),await s.done}catch(t){if(t instanceof lr)rr.warn(t.message);else{const s=Fr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});rr.warn(s.message)}}}function _S(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=1024,wO=30;class RO{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new IO(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=xE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>wO){const h=OO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){rr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=xE(),{heartbeatsToSend:s,unsentEntries:o}=CO(this._heartbeatsCache.heartbeats),l=fh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return rr.warn(t),""}}}function xE(){return new Date().toISOString().substring(0,10)}function CO(i,e=AO){const t=[];let s=i.slice();for(const o of i){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),ME(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),ME(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class IO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return m2()?p2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await bO(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return NE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return NE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function ME(i){return fh(JSON.stringify({version:2,heartbeats:i})).length}function OO(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(i){to(new Ks("platform-logger",e=>new q2(e),"PRIVATE")),to(new Ks("heartbeat",e=>new RO(e),"PRIVATE")),Gr(Xm,OE,i),Gr(Xm,OE,"esm2017"),Gr("fire-js","")}DO("");var NO="firebase",xO="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gr(NO,xO,"app");function jp(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t}function vS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MO=vS,ES=new lu("auth","Firebase",vS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh=new kp("@firebase/auth");function VO(i,...e){mh.logLevel<=ke.WARN&&mh.warn(`Auth (${po}): ${i}`,...e)}function eh(i,...e){mh.logLevel<=ke.ERROR&&mh.error(`Auth (${po}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(i,...e){throw zp(i,...e)}function Xn(i,...e){return zp(i,...e)}function Bp(i,e,t){const s=Object.assign(Object.assign({},MO()),{[e]:t});return new lu("auth","Firebase",s).create(e,{appName:i.name})}function Fs(i){return Bp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function PO(i,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&bi(i,"argument-error"),Bp(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function zp(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return ES.create(i,...e)}function be(i,e,...t){if(!i)throw zp(e,...t)}function er(i){const e="INTERNAL ASSERTION FAILED: "+i;throw eh(e),new Error(e)}function sr(i,e){i||er(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function kO(){return VE()==="http:"||VE()==="https:"}function VE(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kO()||c2()||"connection"in navigator)?navigator.onLine:!0}function LO(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,t){this.shortDelay=e,this.longDelay=t,sr(t>e,"Short delay should be less than long delay!"),this.isMobile=o2()||h2()}get(){return UO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(i,e){sr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zO=new cu(3e4,6e4);function Hp(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function go(i,e,t,s,o={}){return SS(i,o,async()=>{let l={},h={};s&&(e==="GET"?h=s:l={body:JSON.stringify(s)});const m=uu(Object.assign({key:i.config.apiKey},h)).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const p=Object.assign({method:e,headers:g},l);return u2()||(p.referrerPolicy="no-referrer"),i.emulatorConfig&&ou(i.emulatorConfig.host)&&(p.credentials="include"),TS.fetch()(await bS(i,i.config.apiHost,t,m),p)})}async function SS(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},jO),e);try{const o=new HO(i),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw Hc(i,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const m=l.ok?h.errorMessage:h.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hc(i,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw Hc(i,"email-already-in-use",h);if(g==="USER_DISABLED")throw Hc(i,"user-disabled",h);const _=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Bp(i,_,p);bi(i,_)}}catch(o){if(o instanceof lr)throw o;bi(i,"network-request-failed",{message:String(o)})}}async function qO(i,e,t,s,o={}){const l=await go(i,e,t,s,o);return"mfaPendingCredential"in l&&bi(i,"multi-factor-auth-required",{_serverResponse:l}),l}async function bS(i,e,t,s){const o=`${e}${t}?${s}`,l=i,h=l.config.emulator?qp(i.config,o):`${i.config.apiScheme}://${o}`;return BO.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(h).toString():h}class HO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Xn(this.auth,"network-request-failed")),zO.get())})}}function Hc(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Xn(i,e,s);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FO(i,e){return go(i,"POST","/v1/accounts:delete",e)}async function ph(i,e){return go(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function GO(i,e=!1){const t=un(i),s=await t.getIdToken(e),o=Fp(s);be(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:o,token:s,authTime:Bl(Im(o.auth_time)),issuedAtTime:Bl(Im(o.iat)),expirationTime:Bl(Im(o.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Im(i){return Number(i)*1e3}function Fp(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return eh("JWT malformed, contained fewer than 3 sections"),null;try{const o=lS(t);return o?JSON.parse(o):(eh("Failed to decode base64 JWT payload"),null)}catch(o){return eh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function PE(i){const e=Fp(i);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof lr&&$O(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function $O({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bl(this.lastLoginAt),this.creationTime=Bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gh(i){var e;const t=i.auth,s=await i.getIdToken(),o=await Ql(i,ph(t,{idToken:s}));be(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];i._notifyReloadListener(l);const h=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?AS(l.providerUserInfo):[],m=YO(i.providerData,h),g=i.isAnonymous,p=!(i.email&&l.passwordHash)&&!(m!=null&&m.length),_=g?p:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:m,metadata:new ep(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(i,T)}async function QO(i){const e=un(i);await gh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function YO(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function AS(i){return i.map(e=>{var{providerId:t}=e,s=jp(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XO(i,e){const t=await SS(i,{},async()=>{const s=uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=i.config,h=await bS(i,o,"/v1/token",`key=${l}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",TS.fetch()(h,{method:"POST",headers:m,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function JO(i,e){return go(i,"POST","/v2/accounts:revokeToken",Hp(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):PE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){be(e.length!==0,"internal-error");const t=PE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await XO(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,h=new Ja;return s&&(be(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(be(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(be(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ja,this.toJSON())}_performRefresh(){return er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(i,e){be(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Yn{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,l=jp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new KO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new ep(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Ql(this,this.stsTokenManager.getToken(this.auth,e));return be(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return GO(this,e)}reload(){return QO(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Yn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await gh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qn(this.auth.app))return Promise.reject(Fs(this.auth));const e=await this.getIdToken();return await Ql(this,FO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,l,h,m,g,p,_;const T=(s=t.displayName)!==null&&s!==void 0?s:void 0,S=(o=t.email)!==null&&o!==void 0?o:void 0,I=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,R=(h=t.photoURL)!==null&&h!==void 0?h:void 0,k=(m=t.tenantId)!==null&&m!==void 0?m:void 0,O=(g=t._redirectEventId)!==null&&g!==void 0?g:void 0,q=(p=t.createdAt)!==null&&p!==void 0?p:void 0,J=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:H,emailVerified:re,isAnonymous:ee,providerData:ae,stsTokenManager:D}=t;be(H&&D,e,"internal-error");const w=Ja.fromJSON(this.name,D);be(typeof H=="string",e,"internal-error"),Lr(T,e.name),Lr(S,e.name),be(typeof re=="boolean",e,"internal-error"),be(typeof ee=="boolean",e,"internal-error"),Lr(I,e.name),Lr(R,e.name),Lr(k,e.name),Lr(O,e.name),Lr(q,e.name),Lr(J,e.name);const C=new Yn({uid:H,auth:e,email:S,emailVerified:re,displayName:T,isAnonymous:ee,photoURL:R,phoneNumber:I,tenantId:k,stsTokenManager:w,createdAt:q,lastLoginAt:J});return ae&&Array.isArray(ae)&&(C.providerData=ae.map(V=>Object.assign({},V))),O&&(C._redirectEventId=O),C}static async _fromIdTokenResponse(e,t,s=!1){const o=new Ja;o.updateFromServerResponse(t);const l=new Yn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await gh(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];be(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?AS(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),m=new Ja;m.updateFromIdToken(s);const g=new Yn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new ep(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(g,p),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=new Map;function tr(i){sr(i instanceof Function,"Expected a class definition");let e=kE.get(i);return e?(sr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,kE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}wS.type="NONE";const UE=wS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(i,e,t){return`firebase:${i}:${e}:${t}`}class Za{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=th(this.userKey,o.apiKey,l),this.fullPersistenceKey=th("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await ph(this.auth,{idToken:e}).catch(()=>{});return t?Yn._fromGetAccountInfoResponse(this.auth,t,e):null}return Yn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Za(tr(UE),e,s);const o=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=o[0]||tr(UE);const h=th(s,e.config.apiKey,e.name);let m=null;for(const p of t)try{const _=await p._get(h);if(_){let T;if(typeof _=="string"){const S=await ph(e,{idToken:_}).catch(()=>{});if(!S)break;T=await Yn._fromGetAccountInfoResponse(e,S,_)}else T=Yn._fromJSON(e,_);p!==l&&(m=T),l=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!g.length?new Za(l,e,s):(l=g[0],m&&await l._set(h,m.toJSON()),await Promise.all(t.map(async p=>{if(p!==l)try{await p._remove(h)}catch{}})),new Za(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(OS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(RS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(NS(e))return"Blackberry";if(xS(e))return"Webos";if(CS(e))return"Safari";if((e.includes("chrome/")||IS(e))&&!e.includes("edge/"))return"Chrome";if(DS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function RS(i=rn()){return/firefox\//i.test(i)}function CS(i=rn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IS(i=rn()){return/crios\//i.test(i)}function OS(i=rn()){return/iemobile/i.test(i)}function DS(i=rn()){return/android/i.test(i)}function NS(i=rn()){return/blackberry/i.test(i)}function xS(i=rn()){return/webos/i.test(i)}function Gp(i=rn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function ZO(i=rn()){var e;return Gp(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function WO(){return f2()&&document.documentMode===10}function MS(i=rn()){return Gp(i)||DS(i)||xS(i)||NS(i)||/windows phone/i.test(i)||OS(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(i,e=[]){let t;switch(i){case"Browser":t=LE(rn());break;case"Worker":t=`${LE(rn())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${po}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((h,m)=>{try{const g=e(l);h(g)}catch(g){m(g)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tD(i,e={}){return go(i,"GET","/v2/passwordPolicy",Hp(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=6;class iD{constructor(e){var t,s,o,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:nD,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,l,h,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(t=g.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(l=g.containsUppercaseLetter)!==null&&l!==void 0?l:!0),g.isValid&&(g.isValid=(h=g.containsNumericCharacter)!==null&&h!==void 0?h:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jE(this),this.idTokenSubscription=new jE(this),this.beforeStateQueue=new eD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ES,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=tr(t)),this._initializationPromise=this.queue(async()=>{var s,o,l;if(!this._deleted&&(this.persistenceManager=await Za.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ph(this,{idToken:e}),s=await Yn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Qn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!h||h===m)&&(g!=null&&g.user)&&(o=g.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await gh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qn(this.app))return Promise.reject(Fs(this));const t=e?un(e):null;return t&&be(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qn(this.app)?Promise.reject(Fs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qn(this.app)?Promise.reject(Fs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(tr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tD(this),t=new iD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new lu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await JO(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&tr(e)||this._popupRedirectResolver;be(t,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[tr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(m,this,"internal-error"),m.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(t);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&VO(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Fh(i){return un(i)}class jE{constructor(e){this.auth=e,this.observer=null,this.addObserver=E2(t=>this.observer=t)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $p={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sD(i){$p=i}function aD(i){return $p.loadJS(i)}function oD(){return $p.gapiScript}function lD(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(i,e){const t=Lp(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if($s(l,e??{}))return o;bi(o,"already-initialized")}return t.initialize({options:e})}function cD(i,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(tr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function hD(i,e,t){const s=Fh(i);be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=PS(e),{host:h,port:m}=fD(e),g=m===null?"":`:${m}`,p={url:`${l}//${h}${g}/`},_=Object.freeze({host:h,port:m,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),be($s(p,s.config.emulator)&&$s(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,ou(h)?(Hh("Auth",!0),fS(`${l}//${h}${g}`)):dD()}function PS(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function fD(i){const e=PS(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:BE(s.substr(l.length+1))}}else{const[l,h]=s.split(":");return{host:l,port:BE(h)}}}function BE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function dD(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return er("not implemented")}_getIdTokenResponse(e){return er("not implemented")}_linkToIdToken(e,t){return er("not implemented")}_getReauthenticationResolver(e){return er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wa(i,e){return qO(i,"POST","/v1/accounts:signInWithIdp",Hp(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD="http://localhost";class Qs extends kS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):bi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,l=jp(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new Qs(s,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Wa(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Wa(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Wa(e,t)}buildRequest(){const e={requestUri:mD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=uu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu extends Kp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends hu{constructor(){super("facebook.com")}static credential(e){return Qs._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jr.credential(e.oauthAccessToken)}catch{return null}}}jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";jr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends hu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Qs._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Wi.credential(t,s)}catch{return null}}}Wi.GOOGLE_SIGN_IN_METHOD="google.com";Wi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends hu{constructor(){super("github.com")}static credential(e){return Qs._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Br.credential(e.oauthAccessToken)}catch{return null}}}Br.GITHUB_SIGN_IN_METHOD="github.com";Br.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends hu{constructor(){super("twitter.com")}static credential(e,t){return Qs._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return zr.credential(t,s)}catch{return null}}}zr.TWITTER_SIGN_IN_METHOD="twitter.com";zr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await Yn._fromIdTokenResponse(e,s,o),h=zE(s);return new no({user:l,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=zE(s);return new no({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function zE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh extends lr{constructor(e,t,s,o){var l;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,yh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new yh(e,t,s,o)}}function US(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?yh._fromErrorAndOperation(i,l,e,s):l})}async function pD(i,e,t=!1){const s=await Ql(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return no._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gD(i,e,t=!1){const{auth:s}=i;if(Qn(s.app))return Promise.reject(Fs(s));const o="reauthenticate";try{const l=await Ql(i,US(s,o,e,i),t);be(l.idToken,s,"internal-error");const h=Fp(l.idToken);be(h,s,"internal-error");const{sub:m}=h;return be(i.uid===m,s,"user-mismatch"),no._forOperation(i,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&bi(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yD(i,e,t=!1){if(Qn(i.app))return Promise.reject(Fs(i));const s="signIn",o=await US(i,s,e),l=await no._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(l.user),l}function _D(i,e,t,s){return un(i).onIdTokenChanged(e,t,s)}function vD(i,e,t){return un(i).beforeAuthStateChanged(e,t)}function Gh(i,e,t,s){return un(i).onAuthStateChanged(e,t,s)}function ED(i){return un(i).signOut()}const _h="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(_h,"1"),this.storage.removeItem(_h),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=1e3,SD=10;class jS extends LS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=MS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},l=this.storage.getItem(s);WO()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,SD):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},TD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}jS.type="LOCAL";const bD=jS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS extends LS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}BS.type="SESSION";const zS=BS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new $h(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async p=>p(t.origin,l)),g=await AD(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$h.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((m,g)=>{const p=Qp("",20);o.port1.start();const _=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const S=T;if(S.data.eventId===p)switch(S.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(S.data.response);break;default:clearTimeout(_),clearTimeout(l),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(){return window}function RD(i){_i().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(){return typeof _i().WorkerGlobalScope<"u"&&typeof _i().importScripts=="function"}async function CD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ID(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function OD(){return qS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS="firebaseLocalStorageDb",DD=1,vh="firebaseLocalStorage",FS="fbase_key";class fu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Kh(i,e){return i.transaction([vh],e?"readwrite":"readonly").objectStore(vh)}function ND(){const i=indexedDB.deleteDatabase(HS);return new fu(i).toPromise()}function tp(){const i=indexedDB.open(HS,DD);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(vh,{keyPath:FS})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(vh)?e(s):(s.close(),await ND(),e(await tp()))})})}async function qE(i,e,t){const s=Kh(i,!0).put({[FS]:e,value:t});return new fu(s).toPromise()}async function xD(i,e){const t=Kh(i,!1).get(e),s=await new fu(t).toPromise();return s===void 0?null:s.value}function HE(i,e){const t=Kh(i,!0).delete(e);return new fu(t).toPromise()}const MD=800,VD=3;class GS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>VD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$h._getInstance(OD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await CD(),!this.activeServiceWorker)return;this.sender=new wD(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ID()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tp();return await qE(e,_h,"1"),await HE(e,_h),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>qE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>xD(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>HE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Kh(o,!1).getAll();return new fu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),MD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GS.type="LOCAL";const PD=GS;new cu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(i,e){return e?tr(e):(be(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp extends kS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Wa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Wa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function kD(i){return yD(i.auth,new Yp(i),i.bypassAuthState)}function UD(i){const{auth:e,user:t}=i;return be(t,e,"internal-error"),gD(t,new Yp(i),i.bypassAuthState)}async function LD(i){const{auth:e,user:t}=i;return be(t,e,"internal-error"),pD(t,new Yp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kD;case"linkViaPopup":case"linkViaRedirect":return LD;case"reauthViaPopup":case"reauthViaRedirect":return UD;default:bi(this.auth,"internal-error")}}resolve(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD=new cu(2e3,1e4);async function BD(i,e,t){if(Qn(i.app))return Promise.reject(Xn(i,"operation-not-supported-in-this-environment"));const s=Fh(i);PO(i,e,Kp);const o=$S(s,t);return new zs(s,"signInViaPopup",e,o).executeNotNull()}class zs extends KS{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,zs.currentPopupAction&&zs.currentPopupAction.cancel(),zs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){sr(this.filter.length===1,"Popup operations only handle one event");const e=Qp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Xn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Xn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jD.get())};e()}}zs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD="pendingRedirect",nh=new Map;class qD extends KS{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=nh.get(this.auth._key());if(!e){try{const s=await HD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}nh.set(this.auth._key(),e)}return this.bypassAuthState||nh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HD(i,e){const t=$D(e),s=GD(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function FD(i,e){nh.set(i._key(),e)}function GD(i){return tr(i._redirectPersistence)}function $D(i){return th(zD,i.config.apiKey,i.name)}async function KD(i,e,t=!1){if(Qn(i.app))return Promise.reject(Fs(i));const s=Fh(i),o=$S(s,e),h=await new qD(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=10*60*1e3;class YD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!XD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!QS(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Xn(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QD&&this.cachedEventUids.clear(),this.cachedEventUids.has(FE(e))}saveEventToCache(e){this.cachedEventUids.add(FE(e)),this.lastProcessedEventTime=Date.now()}}function FE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function QS({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function XD(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QS(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JD(i,e={}){return go(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WD=/^https?/;async function eN(i){if(i.config.emulator)return;const{authorizedDomains:e}=await JD(i);for(const t of e)try{if(tN(t))return}catch{}bi(i,"unauthorized-domain")}function tN(i){const e=Wm(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!WD.test(t))return!1;if(ZD.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=new cu(3e4,6e4);function GE(){const i=_i().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function iN(i){return new Promise((e,t)=>{var s,o,l;function h(){GE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{GE(),t(Xn(i,"network-request-failed"))},timeout:nN.get()})}if(!((o=(s=_i().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=_i().gapi)===null||l===void 0)&&l.load)h();else{const m=lD("iframefcb");return _i()[m]=()=>{gapi.load?h():t(Xn(i,"network-request-failed"))},aD(`${oD()}?onload=${m}`).catch(g=>t(g))}}).catch(e=>{throw ih=null,e})}let ih=null;function rN(i){return ih=ih||iN(i),ih}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=new cu(5e3,15e3),aN="__/auth/iframe",oN="emulator/auth/iframe",lN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cN(i){const e=i.config;be(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?qp(e,oN):`https://${i.config.authDomain}/${aN}`,s={apiKey:e.apiKey,appName:i.name,v:po},o=uN.get(i.config.apiHost);o&&(s.eid=o);const l=i._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${uu(s).slice(1)}`}async function hN(i){const e=await rN(i),t=_i().gapi;return be(t,i,"internal-error"),e.open({where:document.body,url:cN(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lN,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const h=Xn(i,"network-request-failed"),m=_i().setTimeout(()=>{l(h)},sN.get());function g(){_i().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dN=500,mN=600,pN="_blank",gN="http://localhost";class $E{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yN(i,e,t,s=dN,o=mN){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g=Object.assign(Object.assign({},fN),{width:s.toString(),height:o.toString(),top:l,left:h}),p=rn().toLowerCase();t&&(m=IS(p)?pN:t),RS(p)&&(e=e||gN,g.scrollbars="yes");const _=Object.entries(g).reduce((S,[I,R])=>`${S}${I}=${R},`,"");if(ZO(p)&&m!=="_self")return _N(e||"",m),new $E(null);const T=window.open(e||"",m,_);be(T,i,"popup-blocked");try{T.focus()}catch{}return new $E(T)}function _N(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="__/auth/handler",EN="emulator/auth/handler",TN=encodeURIComponent("fac");async function KE(i,e,t,s,o,l){be(i.config.authDomain,i,"auth-domain-config-required"),be(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:po,eventId:o};if(e instanceof Kp){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",v2(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))h[_]=T}if(e instanceof hu){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(h.scopes=_.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const g=await i._getAppCheckToken(),p=g?`#${TN}=${encodeURIComponent(g)}`:"";return`${SN(i)}?${uu(m).slice(1)}${p}`}function SN({config:i}){return i.emulator?qp(i,EN):`https://${i.authDomain}/${vN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="webStorageSupport";class bN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zS,this._completeRedirectFn=KD,this._overrideRedirectResult=FD}async _openPopup(e,t,s,o){var l;sr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await KE(e,t,s,Wm(),o);return yN(e,h,Qp())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await KE(e,t,s,Wm(),o);return RD(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(sr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await hN(e),s=new YD(e);return t.register("authEvent",o=>(be(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Om,{type:Om},o=>{var l;const h=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Om];h!==void 0&&t(!!h),bi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=eN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return MS()||CS()||Gp()}}const AN=bN;var QE="@firebase/auth",YE="1.10.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CN(i){to(new Ks("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;be(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VS(i)},p=new rD(s,o,l,g);return cD(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),to(new Ks("auth-internal",e=>{const t=Fh(e.getProvider("auth").getImmediate());return(s=>new wN(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gr(QE,YE,RN(i)),Gr(QE,YE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=5*60,ON=hS("authIdTokenMaxAge")||IN;let XE=null;const DN=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>ON)return;const o=t==null?void 0:t.token;XE!==o&&(XE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function YS(i=gS()){const e=Lp(i,"auth");if(e.isInitialized())return e.getImmediate();const t=uD(i,{popupRedirectResolver:AN,persistence:[PD,bD,zS]}),s=hS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const h=DN(l.toString());vD(t,h,()=>h(t.currentUser)),_D(t,m=>h(m))}}const o=uS("auth");return o?hD(t,`http://${o}`):Hh("Auth",!1),t}function NN(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}sD({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const l=Xn("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",NN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CN("Browser");var JE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $r,XS;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,w){function C(){}C.prototype=w.prototype,D.D=w.prototype,D.prototype=new C,D.prototype.constructor=D,D.C=function(V,L,B){for(var M=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)M[ot-2]=arguments[ot];return w.prototype[L].apply(V,M)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,w,C){C||(C=0);var V=Array(16);if(typeof w=="string")for(var L=0;16>L;++L)V[L]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(L=0;16>L;++L)V[L]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=D.g[0],C=D.g[1],L=D.g[2];var B=D.g[3],M=w+(B^C&(L^B))+V[0]+3614090360&4294967295;w=C+(M<<7&4294967295|M>>>25),M=B+(L^w&(C^L))+V[1]+3905402710&4294967295,B=w+(M<<12&4294967295|M>>>20),M=L+(C^B&(w^C))+V[2]+606105819&4294967295,L=B+(M<<17&4294967295|M>>>15),M=C+(w^L&(B^w))+V[3]+3250441966&4294967295,C=L+(M<<22&4294967295|M>>>10),M=w+(B^C&(L^B))+V[4]+4118548399&4294967295,w=C+(M<<7&4294967295|M>>>25),M=B+(L^w&(C^L))+V[5]+1200080426&4294967295,B=w+(M<<12&4294967295|M>>>20),M=L+(C^B&(w^C))+V[6]+2821735955&4294967295,L=B+(M<<17&4294967295|M>>>15),M=C+(w^L&(B^w))+V[7]+4249261313&4294967295,C=L+(M<<22&4294967295|M>>>10),M=w+(B^C&(L^B))+V[8]+1770035416&4294967295,w=C+(M<<7&4294967295|M>>>25),M=B+(L^w&(C^L))+V[9]+2336552879&4294967295,B=w+(M<<12&4294967295|M>>>20),M=L+(C^B&(w^C))+V[10]+4294925233&4294967295,L=B+(M<<17&4294967295|M>>>15),M=C+(w^L&(B^w))+V[11]+2304563134&4294967295,C=L+(M<<22&4294967295|M>>>10),M=w+(B^C&(L^B))+V[12]+1804603682&4294967295,w=C+(M<<7&4294967295|M>>>25),M=B+(L^w&(C^L))+V[13]+4254626195&4294967295,B=w+(M<<12&4294967295|M>>>20),M=L+(C^B&(w^C))+V[14]+2792965006&4294967295,L=B+(M<<17&4294967295|M>>>15),M=C+(w^L&(B^w))+V[15]+1236535329&4294967295,C=L+(M<<22&4294967295|M>>>10),M=w+(L^B&(C^L))+V[1]+4129170786&4294967295,w=C+(M<<5&4294967295|M>>>27),M=B+(C^L&(w^C))+V[6]+3225465664&4294967295,B=w+(M<<9&4294967295|M>>>23),M=L+(w^C&(B^w))+V[11]+643717713&4294967295,L=B+(M<<14&4294967295|M>>>18),M=C+(B^w&(L^B))+V[0]+3921069994&4294967295,C=L+(M<<20&4294967295|M>>>12),M=w+(L^B&(C^L))+V[5]+3593408605&4294967295,w=C+(M<<5&4294967295|M>>>27),M=B+(C^L&(w^C))+V[10]+38016083&4294967295,B=w+(M<<9&4294967295|M>>>23),M=L+(w^C&(B^w))+V[15]+3634488961&4294967295,L=B+(M<<14&4294967295|M>>>18),M=C+(B^w&(L^B))+V[4]+3889429448&4294967295,C=L+(M<<20&4294967295|M>>>12),M=w+(L^B&(C^L))+V[9]+568446438&4294967295,w=C+(M<<5&4294967295|M>>>27),M=B+(C^L&(w^C))+V[14]+3275163606&4294967295,B=w+(M<<9&4294967295|M>>>23),M=L+(w^C&(B^w))+V[3]+4107603335&4294967295,L=B+(M<<14&4294967295|M>>>18),M=C+(B^w&(L^B))+V[8]+1163531501&4294967295,C=L+(M<<20&4294967295|M>>>12),M=w+(L^B&(C^L))+V[13]+2850285829&4294967295,w=C+(M<<5&4294967295|M>>>27),M=B+(C^L&(w^C))+V[2]+4243563512&4294967295,B=w+(M<<9&4294967295|M>>>23),M=L+(w^C&(B^w))+V[7]+1735328473&4294967295,L=B+(M<<14&4294967295|M>>>18),M=C+(B^w&(L^B))+V[12]+2368359562&4294967295,C=L+(M<<20&4294967295|M>>>12),M=w+(C^L^B)+V[5]+4294588738&4294967295,w=C+(M<<4&4294967295|M>>>28),M=B+(w^C^L)+V[8]+2272392833&4294967295,B=w+(M<<11&4294967295|M>>>21),M=L+(B^w^C)+V[11]+1839030562&4294967295,L=B+(M<<16&4294967295|M>>>16),M=C+(L^B^w)+V[14]+4259657740&4294967295,C=L+(M<<23&4294967295|M>>>9),M=w+(C^L^B)+V[1]+2763975236&4294967295,w=C+(M<<4&4294967295|M>>>28),M=B+(w^C^L)+V[4]+1272893353&4294967295,B=w+(M<<11&4294967295|M>>>21),M=L+(B^w^C)+V[7]+4139469664&4294967295,L=B+(M<<16&4294967295|M>>>16),M=C+(L^B^w)+V[10]+3200236656&4294967295,C=L+(M<<23&4294967295|M>>>9),M=w+(C^L^B)+V[13]+681279174&4294967295,w=C+(M<<4&4294967295|M>>>28),M=B+(w^C^L)+V[0]+3936430074&4294967295,B=w+(M<<11&4294967295|M>>>21),M=L+(B^w^C)+V[3]+3572445317&4294967295,L=B+(M<<16&4294967295|M>>>16),M=C+(L^B^w)+V[6]+76029189&4294967295,C=L+(M<<23&4294967295|M>>>9),M=w+(C^L^B)+V[9]+3654602809&4294967295,w=C+(M<<4&4294967295|M>>>28),M=B+(w^C^L)+V[12]+3873151461&4294967295,B=w+(M<<11&4294967295|M>>>21),M=L+(B^w^C)+V[15]+530742520&4294967295,L=B+(M<<16&4294967295|M>>>16),M=C+(L^B^w)+V[2]+3299628645&4294967295,C=L+(M<<23&4294967295|M>>>9),M=w+(L^(C|~B))+V[0]+4096336452&4294967295,w=C+(M<<6&4294967295|M>>>26),M=B+(C^(w|~L))+V[7]+1126891415&4294967295,B=w+(M<<10&4294967295|M>>>22),M=L+(w^(B|~C))+V[14]+2878612391&4294967295,L=B+(M<<15&4294967295|M>>>17),M=C+(B^(L|~w))+V[5]+4237533241&4294967295,C=L+(M<<21&4294967295|M>>>11),M=w+(L^(C|~B))+V[12]+1700485571&4294967295,w=C+(M<<6&4294967295|M>>>26),M=B+(C^(w|~L))+V[3]+2399980690&4294967295,B=w+(M<<10&4294967295|M>>>22),M=L+(w^(B|~C))+V[10]+4293915773&4294967295,L=B+(M<<15&4294967295|M>>>17),M=C+(B^(L|~w))+V[1]+2240044497&4294967295,C=L+(M<<21&4294967295|M>>>11),M=w+(L^(C|~B))+V[8]+1873313359&4294967295,w=C+(M<<6&4294967295|M>>>26),M=B+(C^(w|~L))+V[15]+4264355552&4294967295,B=w+(M<<10&4294967295|M>>>22),M=L+(w^(B|~C))+V[6]+2734768916&4294967295,L=B+(M<<15&4294967295|M>>>17),M=C+(B^(L|~w))+V[13]+1309151649&4294967295,C=L+(M<<21&4294967295|M>>>11),M=w+(L^(C|~B))+V[4]+4149444226&4294967295,w=C+(M<<6&4294967295|M>>>26),M=B+(C^(w|~L))+V[11]+3174756917&4294967295,B=w+(M<<10&4294967295|M>>>22),M=L+(w^(B|~C))+V[2]+718787259&4294967295,L=B+(M<<15&4294967295|M>>>17),M=C+(B^(L|~w))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+w&4294967295,D.g[1]=D.g[1]+(L+(M<<21&4294967295|M>>>11))&4294967295,D.g[2]=D.g[2]+L&4294967295,D.g[3]=D.g[3]+B&4294967295}s.prototype.u=function(D,w){w===void 0&&(w=D.length);for(var C=w-this.blockSize,V=this.B,L=this.h,B=0;B<w;){if(L==0)for(;B<=C;)o(this,D,B),B+=this.blockSize;if(typeof D=="string"){for(;B<w;)if(V[L++]=D.charCodeAt(B++),L==this.blockSize){o(this,V),L=0;break}}else for(;B<w;)if(V[L++]=D[B++],L==this.blockSize){o(this,V),L=0;break}}this.h=L,this.o+=w},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var w=1;w<D.length-8;++w)D[w]=0;var C=8*this.o;for(w=D.length-8;w<D.length;++w)D[w]=C&255,C/=256;for(this.u(D),D=Array(16),w=C=0;4>w;++w)for(var V=0;32>V;V+=8)D[C++]=this.g[w]>>>V&255;return D};function l(D,w){var C=m;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=w(D)}function h(D,w){this.h=w;for(var C=[],V=!0,L=D.length-1;0<=L;L--){var B=D[L]|0;V&&B==w||(C[L]=B,V=!1)}this.g=C}var m={};function g(D){return-128<=D&&128>D?l(D,function(w){return new h([w|0],0>w?-1:0)}):new h([D|0],0>D?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return T;if(0>D)return O(p(-D));for(var w=[],C=1,V=0;D>=C;V++)w[V]=D/C|0,C*=4294967296;return new h(w,0)}function _(D,w){if(D.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(D.charAt(0)=="-")return O(_(D.substring(1),w));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=p(Math.pow(w,8)),V=T,L=0;L<D.length;L+=8){var B=Math.min(8,D.length-L),M=parseInt(D.substring(L,L+B),w);8>B?(B=p(Math.pow(w,B)),V=V.j(B).add(p(M))):(V=V.j(C),V=V.add(p(M)))}return V}var T=g(0),S=g(1),I=g(16777216);i=h.prototype,i.m=function(){if(k(this))return-O(this).m();for(var D=0,w=1,C=0;C<this.g.length;C++){var V=this.i(C);D+=(0<=V?V:4294967296+V)*w,w*=4294967296}return D},i.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(R(this))return"0";if(k(this))return"-"+O(this).toString(D);for(var w=p(Math.pow(D,6)),C=this,V="";;){var L=re(C,w).g;C=q(C,L.j(w));var B=((0<C.g.length?C.g[0]:C.h)>>>0).toString(D);if(C=L,R(C))return B+V;for(;6>B.length;)B="0"+B;V=B+V}},i.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function R(D){if(D.h!=0)return!1;for(var w=0;w<D.g.length;w++)if(D.g[w]!=0)return!1;return!0}function k(D){return D.h==-1}i.l=function(D){return D=q(this,D),k(D)?-1:R(D)?0:1};function O(D){for(var w=D.g.length,C=[],V=0;V<w;V++)C[V]=~D.g[V];return new h(C,~D.h).add(S)}i.abs=function(){return k(this)?O(this):this},i.add=function(D){for(var w=Math.max(this.g.length,D.g.length),C=[],V=0,L=0;L<=w;L++){var B=V+(this.i(L)&65535)+(D.i(L)&65535),M=(B>>>16)+(this.i(L)>>>16)+(D.i(L)>>>16);V=M>>>16,B&=65535,M&=65535,C[L]=M<<16|B}return new h(C,C[C.length-1]&-2147483648?-1:0)};function q(D,w){return D.add(O(w))}i.j=function(D){if(R(this)||R(D))return T;if(k(this))return k(D)?O(this).j(O(D)):O(O(this).j(D));if(k(D))return O(this.j(O(D)));if(0>this.l(I)&&0>D.l(I))return p(this.m()*D.m());for(var w=this.g.length+D.g.length,C=[],V=0;V<2*w;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(var L=0;L<D.g.length;L++){var B=this.i(V)>>>16,M=this.i(V)&65535,ot=D.i(L)>>>16,tt=D.i(L)&65535;C[2*V+2*L]+=M*tt,J(C,2*V+2*L),C[2*V+2*L+1]+=B*tt,J(C,2*V+2*L+1),C[2*V+2*L+1]+=M*ot,J(C,2*V+2*L+1),C[2*V+2*L+2]+=B*ot,J(C,2*V+2*L+2)}for(V=0;V<w;V++)C[V]=C[2*V+1]<<16|C[2*V];for(V=w;V<2*w;V++)C[V]=0;return new h(C,0)};function J(D,w){for(;(D[w]&65535)!=D[w];)D[w+1]+=D[w]>>>16,D[w]&=65535,w++}function H(D,w){this.g=D,this.h=w}function re(D,w){if(R(w))throw Error("division by zero");if(R(D))return new H(T,T);if(k(D))return w=re(O(D),w),new H(O(w.g),O(w.h));if(k(w))return w=re(D,O(w)),new H(O(w.g),w.h);if(30<D.g.length){if(k(D)||k(w))throw Error("slowDivide_ only works with positive integers.");for(var C=S,V=w;0>=V.l(D);)C=ee(C),V=ee(V);var L=ae(C,1),B=ae(V,1);for(V=ae(V,2),C=ae(C,2);!R(V);){var M=B.add(V);0>=M.l(D)&&(L=L.add(C),B=M),V=ae(V,1),C=ae(C,1)}return w=q(D,L.j(w)),new H(L,w)}for(L=T;0<=D.l(w);){for(C=Math.max(1,Math.floor(D.m()/w.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),B=p(C),M=B.j(w);k(M)||0<M.l(D);)C-=V,B=p(C),M=B.j(w);R(B)&&(B=S),L=L.add(B),D=q(D,M)}return new H(L,D)}i.A=function(D){return re(this,D).h},i.and=function(D){for(var w=Math.max(this.g.length,D.g.length),C=[],V=0;V<w;V++)C[V]=this.i(V)&D.i(V);return new h(C,this.h&D.h)},i.or=function(D){for(var w=Math.max(this.g.length,D.g.length),C=[],V=0;V<w;V++)C[V]=this.i(V)|D.i(V);return new h(C,this.h|D.h)},i.xor=function(D){for(var w=Math.max(this.g.length,D.g.length),C=[],V=0;V<w;V++)C[V]=this.i(V)^D.i(V);return new h(C,this.h^D.h)};function ee(D){for(var w=D.g.length+1,C=[],V=0;V<w;V++)C[V]=D.i(V)<<1|D.i(V-1)>>>31;return new h(C,D.h)}function ae(D,w){var C=w>>5;w%=32;for(var V=D.g.length-C,L=[],B=0;B<V;B++)L[B]=0<w?D.i(B+C)>>>w|D.i(B+C+1)<<32-w:D.i(B+C);return new h(L,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,XS=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=p,h.fromString=_,$r=h}).apply(typeof JE<"u"?JE:typeof self<"u"?self:typeof window<"u"?window:{});var Fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var JS,kl,ZS,rh,np,WS,eb,tb;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fc=="object"&&Fc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var F=c[A];if(!(F in v))break e;v=v[F]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function l(c,y){c instanceof String&&(c+="");var v=0,A=!1,F={next:function(){if(!A&&v<c.length){var Y=v++;return{value:y(Y,c[Y]),done:!1}}return A=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(c){return c||function(){return l(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function g(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function _(c,y,v){return c.call.apply(c.bind,arguments)}function T(c,y,v){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,A),c.apply(y,F)}}return function(){return c.apply(y,arguments)}}function S(c,y,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:T,S.apply(null,arguments)}function I(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function R(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(A,F,Y){for(var ue=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)ue[Le-2]=arguments[Le];return y.prototype[F].apply(A,ue)}}function k(c){const y=c.length;if(0<y){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function O(c,y){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(g(A)){const F=c.length||0,Y=A.length||0;c.length=F+Y;for(let ue=0;ue<Y;ue++)c[F+ue]=A[ue]}else c.push(A)}}class q{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function J(c){return/^[\s\xa0]*$/.test(c)}function H(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function re(c){return re[" "](c),c}re[" "]=function(){};var ee=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function ae(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function D(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function w(c){const y={};for(const v in c)y[v]=c[v];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,y){let v,A;for(let F=1;F<arguments.length;F++){A=arguments[F];for(v in A)c[v]=A[v];for(let Y=0;Y<C.length;Y++)v=C[Y],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function L(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function B(c){m.setTimeout(()=>{throw c},0)}function M(){var c=He;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ot{constructor(){this.h=this.g=null}add(y,v){const A=tt.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var tt=new q(()=>new Z,c=>c.reset());class Z{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,pe=!1,He=new ot,P=()=>{const c=m.Promise.resolve(void 0);ce=()=>{c.then(se)}};var se=()=>{for(var c;c=M();){try{c.h.call(c.g)}catch(v){B(v)}var y=tt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}pe=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function Ne(c,y){if(le.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ee){e:{try{re(y.nodeName);var F=!0;break e}catch{}F=!1}F||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ae[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ne.aa.h.call(this)}}R(Ne,le);var Ae={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Mt="closure_listenable_"+(1e6*Math.random()|0),it=0;function Wn(c,y,v,A,F){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=F,this.key=++it,this.da=this.fa=!1}function ur(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ci(c){this.src=c,this.g={},this.h=0}Ci.prototype.add=function(c,y,v,A,F){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var ue=is(c,y,A,F);return-1<ue?(y=c[ue],v||(y.fa=!1)):(y=new Wn(y,this.src,Y,!!A,F),y.fa=v,c.push(y)),y};function ns(c,y){var v=y.type;if(v in c.g){var A=c.g[v],F=Array.prototype.indexOf.call(A,y,void 0),Y;(Y=0<=F)&&Array.prototype.splice.call(A,F,1),Y&&(ur(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function is(c,y,v,A){for(var F=0;F<c.length;++F){var Y=c[F];if(!Y.da&&Y.listener==y&&Y.capture==!!v&&Y.ha==A)return F}return-1}var rs="closure_lm_"+(1e6*Math.random()|0),bo={};function _u(c,y,v,A,F){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)_u(c,y[Y],v,A,F);return null}return v=vu(v),c&&c[Mt]?c.K(y,v,p(A)?!!A.capture:!1,F):In(c,y,v,!1,A,F)}function In(c,y,v,A,F,Y){if(!y)throw Error("Invalid event type");var ue=p(F)?!!F.capture:!!F,Le=na(c);if(Le||(c[rs]=Le=new Ci(c)),v=Le.add(y,v,A,ue,Y),v.proxy)return v;if(A=hf(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)ge||(F=ue),F===void 0&&(F=!1),c.addEventListener(y.toString(),A,F);else if(c.attachEvent)c.attachEvent(ss(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function hf(){function c(v){return y.call(c.src,c.listener,v)}const y=ff;return c}function Ao(c,y,v,A,F){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)Ao(c,y[Y],v,A,F);else A=p(A)?!!A.capture:!!A,v=vu(v),c&&c[Mt]?(c=c.i,y=String(y).toString(),y in c.g&&(Y=c.g[y],v=is(Y,v,A,F),-1<v&&(ur(Y[v]),Array.prototype.splice.call(Y,v,1),Y.length==0&&(delete c.g[y],c.h--)))):c&&(c=na(c))&&(y=c.g[y.toString()],c=-1,y&&(c=is(y,v,A,F)),(v=-1<c?y[c]:null)&&ta(v))}function ta(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Mt])ns(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(ss(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=na(y))?(ns(v,c),v.h==0&&(v.src=null,y[rs]=null)):ur(c)}}}function ss(c){return c in bo?bo[c]:bo[c]="on"+c}function ff(c,y){if(c.da)c=!0;else{y=new Ne(y,this);var v=c.listener,A=c.ha||c.src;c.fa&&ta(c),c=v.call(A,y)}return c}function na(c){return c=c[rs],c instanceof Ci?c:null}var wo="__closure_events_fn_"+(1e9*Math.random()>>>0);function vu(c){return typeof c=="function"?c:(c[wo]||(c[wo]=function(y){return c.handleEvent(y)}),c[wo])}function ht(){he.call(this),this.i=new Ci(this),this.M=this,this.F=null}R(ht,he),ht.prototype[Mt]=!0,ht.prototype.removeEventListener=function(c,y,v,A){Ao(this,c,y,v,A)};function Ke(c,y){var v,A=c.F;if(A)for(v=[];A;A=A.F)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new le(y,c);else if(y instanceof le)y.target=y.target||c;else{var F=y;y=new le(A,c),V(y,F)}if(F=!0,v)for(var Y=v.length-1;0<=Y;Y--){var ue=y.g=v[Y];F=yn(ue,A,!0,y)&&F}if(ue=y.g=c,F=yn(ue,A,!0,y)&&F,F=yn(ue,A,!1,y)&&F,v)for(Y=0;Y<v.length;Y++)ue=y.g=v[Y],F=yn(ue,A,!1,y)&&F}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],A=0;A<v.length;A++)ur(v[A]);delete c.g[y],c.h--}}this.F=null},ht.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},ht.prototype.L=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function yn(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var F=!0,Y=0;Y<y.length;++Y){var ue=y[Y];if(ue&&!ue.da&&ue.capture==v){var Le=ue.listener,wt=ue.ha||ue.src;ue.fa&&ns(c.i,ue),F=Le.call(wt,A)!==!1&&F}}return F&&!A.defaultPrevented}function Yt(c,y,v){if(typeof c=="function")v&&(c=S(c,v));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Eu(c){c.g=Yt(()=>{c.g=null,c.i&&(c.i=!1,Eu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class df extends he{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Eu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function as(c){he.call(this),this.h=c,this.g={}}R(as,he);var os=[];function ls(c){ae(c.g,function(y,v){this.g.hasOwnProperty(v)&&ta(y)},c),c.g={}}as.prototype.N=function(){as.aa.N.call(this),ls(this)},as.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qn=m.JSON.stringify,ia=m.JSON.parse,us=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Ro(){}Ro.prototype.h=null;function Co(c){return c.h||(c.h=c.i())}function Io(){}var Ii={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Oi(){le.call(this,"d")}R(Oi,le);function Oo(){le.call(this,"c")}R(Oo,le);var ei={},Do=null;function cr(){return Do=Do||new ht}ei.La="serverreachability";function ra(c){le.call(this,ei.La,c)}R(ra,le);function hr(c){const y=cr();Ke(y,new ra(y))}ei.STAT_EVENT="statevent";function Tu(c,y){le.call(this,ei.STAT_EVENT,c),this.stat=y}R(Tu,le);function st(c){const y=cr();Ke(y,new Tu(y,c))}ei.Ma="timingevent";function At(c,y){le.call(this,ei.Ma,c),this.size=y}R(At,le);function vt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function On(){this.g=!0}On.prototype.xa=function(){this.g=!1};function No(c,y,v,A,F,Y){c.info(function(){if(c.g)if(Y)for(var ue="",Le=Y.split("&"),wt=0;wt<Le.length;wt++){var je=Le[wt].split("=");if(1<je.length){var Pt=je[0];je=je[1];var Rt=Pt.split("_");ue=2<=Rt.length&&Rt[1]=="type"?ue+(Pt+"="+je+"&"):ue+(Pt+"=redacted&")}}else ue=null;else ue=Y;return"XMLHTTP REQ ("+A+") [attempt "+F+"]: "+y+`
`+v+`
`+ue})}function mf(c,y,v,A,F,Y,ue){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+F+"]: "+y+`
`+v+`
`+Y+" "+ue})}function fr(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+cs(c,v)+(A?" "+A:"")})}function Su(c,y){c.info(function(){return"TIMEOUT: "+y})}On.prototype.info=function(){};function cs(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var A=v[c];if(!(2>A.length)){var F=A[1];if(Array.isArray(F)&&!(1>F.length)){var Y=F[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ue=1;ue<F.length;ue++)F[ue]=""}}}}return qn(v)}catch{return y}}var dr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Di={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ti;function ni(){}R(ni,Ro),ni.prototype.g=function(){return new XMLHttpRequest},ni.prototype.i=function(){return{}},ti=new ni;function sn(c,y,v,A){this.j=c,this.i=y,this.l=v,this.R=A||1,this.U=new as(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pt}function pt(){this.i=null,this.g="",this.h=!1}var xo={},sa={};function Hn(c,y,v){c.L=1,c.v=ps(_n(y)),c.m=v,c.P=!0,Ni(c,null)}function Ni(c,y){c.F=Date.now(),hs(c),c.A=_n(c.v);var v=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Lo(v.i,"t",A),c.C=0,v=c.j.J,c.h=new pt,c.g=Lu(c.j,v?y:null,!c.m),0<c.O&&(c.M=new df(S(c.Y,c,c.g),c.O)),y=c.U,v=c.g,A=c.ca;var F="readystatechange";Array.isArray(F)||(F&&(os[0]=F.toString()),F=os);for(var Y=0;Y<F.length;Y++){var ue=_u(v,F[Y],A||y.handleEvent,!1,y.h||y);if(!ue)break;y.g[ue.key]=ue}y=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),hr(),No(c.i,c.u,c.A,c.l,c.R,c.m)}sn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Mn(c)==3?y.j():this.Y(c)},sn.prototype.Y=function(c){try{if(c==this.g)e:{const Rt=Mn(this.g);var y=this.g.Ba();const ji=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||Du(this.g)))){this.J||Rt!=4||y==7||(y==8||0>=ji?hr(3):hr(2)),mr(this);var v=this.g.Z();this.X=v;t:if(bu(this)){var A=Du(this.g);c="";var F=A.length,Y=Mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bt(this),ii(this);var ue="";break t}this.h.i=new m.TextDecoder}for(y=0;y<F;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(Y&&y==F-1)});A.length=0,this.h.g+=c,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=v==200,mf(this.i,this.u,this.A,this.l,this.R,Rt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,wt=this.g;if((Le=wt.g?wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(Le)){var je=Le;break t}}je=null}if(v=je)fr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fs(this,v);else{this.o=!1,this.s=3,st(12),Bt(this),ii(this);break e}}if(this.P){v=!0;let zt;for(;!this.J&&this.C<ue.length;)if(zt=Au(this,ue),zt==sa){Rt==4&&(this.s=4,st(14),v=!1),fr(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==xo){this.s=4,st(15),fr(this.i,this.l,ue,"[Invalid Chunk]"),v=!1;break}else fr(this.i,this.l,zt,null),fs(this,zt);if(bu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||ue.length!=0||this.h.h||(this.s=1,st(16),v=!1),this.o=this.o&&v,!v)fr(this.i,this.l,ue,"[Invalid Chunked Response]"),Bt(this),ii(this);else if(0<ue.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),bs(Pt),Pt.M=!0,st(11))}}else fr(this.i,this.l,ue,null),fs(this,ue);Rt==4&&Bt(this),this.o&&!this.J&&(Rt==4?Pu(this.j,this):(this.o=!1,hs(this)))}else vf(this.g),v==400&&0<ue.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),Bt(this),ii(this)}}}catch{}finally{}};function bu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Au(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?sa:(v=Number(y.substring(v,A)),isNaN(v)?xo:(A+=1,A+v>y.length?sa:(y=y.slice(A,A+v),c.C=A+v,y)))}sn.prototype.cancel=function(){this.J=!0,Bt(this)};function hs(c){c.S=Date.now()+c.I,wu(c,c.I)}function wu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=vt(S(c.ba,c),y)}function mr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}sn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Su(this.i,this.A),this.L!=2&&(hr(),st(17)),Bt(this),this.s=2,ii(this)):wu(this,this.S-c)};function ii(c){c.j.G==0||c.J||Pu(c.j,c)}function Bt(c){mr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,ls(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function fs(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Mo(v.h,c))){if(!c.K&&Mo(v.h,c)&&v.G==3){try{var A=v.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var F=A;if(F[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)ya(v),pa(v);else break e;Ho(v),st(18)}}else v.za=F[1],0<v.za-v.T&&37500>F[2]&&v.F&&v.v==0&&!v.C&&(v.C=vt(S(v.Za,v),6e3));if(1>=oa(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Li(v,11)}else if((c.K||v.g==c)&&ya(v),!J(y))for(F=v.Da.g.parse(y),y=0;y<F.length;y++){let je=F[y];if(v.T=je[0],je=je[1],v.G==2)if(je[0]=="c"){v.K=je[1],v.ia=je[2];const Pt=je[3];Pt!=null&&(v.la=Pt,v.j.info("VER="+v.la));const Rt=je[4];Rt!=null&&(v.Aa=Rt,v.j.info("SVER="+v.Aa));const ji=je[5];ji!=null&&typeof ji=="number"&&0<ji&&(A=1.5*ji,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const zt=c.g;if(zt){const ci=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ci){var Y=A.h;Y.g||ci.indexOf("spdy")==-1&&ci.indexOf("quic")==-1&&ci.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(la(Y,Y.h),Y.h=null))}if(A.D){const Go=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Go&&(A.ya=Go,Xe(A.I,A.D,Go))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var ue=c;if(A.qa=Uu(A,A.J?A.ia:null,A.W),ue.K){an(A.h,ue);var Le=ue,wt=A.L;wt&&(Le.I=wt),Le.B&&(mr(Le),hs(Le)),A.g=ue}else Mu(A);0<v.i.length&&ga(v)}else je[0]!="stop"&&je[0]!="close"||Li(v,7);else v.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?Li(v,7):zo(v):je[0]!="noop"&&v.l&&v.l.ta(je),v.v=0)}}hr(4)}catch{}}var Ru=class{constructor(c,y){this.g=c,this.map=y}};function xi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function aa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function oa(c){return c.h?1:c.g?c.g.size:0}function Mo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function la(c,y){c.g?c.g.add(y):c.h=y}function an(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}xi.prototype.cancel=function(){if(this.i=Vo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Vo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return k(c.i)}function pf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var y=[],v=c.length,A=0;A<v;A++)y.push(c[A]);return y}y=[],v=0;for(A in c)y[v++]=c[A];return y}function ua(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const A in c)y[v++]=A;return y}}}function Po(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=ua(c),A=pf(c),F=A.length,Y=0;Y<F;Y++)y.call(void 0,A[Y],v&&v[Y],c)}var ds=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gf(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var A=c[v].indexOf("="),F=null;if(0<=A){var Y=c[v].substring(0,A);F=c[v].substring(A+1)}else Y=c[v];y(Y,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Et(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Et){this.h=c.h,ms(this,c.j),this.o=c.o,this.g=c.g,pr(this,c.s),this.l=c.l;var y=c.i,v=new Vi;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Mi(this,v),this.m=c.m}else c&&(y=String(c).match(ds))?(this.h=!1,ms(this,y[1]||"",!0),this.o=Dn(y[2]||""),this.g=Dn(y[3]||"",!0),pr(this,y[4]),this.l=Dn(y[5]||"",!0),Mi(this,y[6]||"",!0),this.m=Dn(y[7]||"")):(this.h=!1,this.i=new Vi(null,this.h))}Et.prototype.toString=function(){var c=[],y=this.j;y&&c.push(gs(y,ko,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(gs(y,ko,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(gs(v,v.charAt(0)=="/"?yf:Uo,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",gs(v,ca)),c.join("")};function _n(c){return new Et(c)}function ms(c,y,v){c.j=v?Dn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function pr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Mi(c,y,v){y instanceof Vi?(c.i=y,Iu(c.i,c.h)):(v||(y=gs(y,_f)),c.i=new Vi(y,c.h))}function Xe(c,y,v){c.i.set(y,v)}function ps(c){return Xe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Dn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function gs(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Cu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Cu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ko=/[#\/\?@]/g,Uo=/[#\?:]/g,yf=/[#\?]/g,_f=/[#\?@]/g,ca=/#/g;function Vi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Nn(c){c.g||(c.g=new Map,c.h=0,c.i&&gf(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=Vi.prototype,i.add=function(c,y){Nn(this),this.i=null,c=ri(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Pi(c,y){Nn(c),y=ri(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function ki(c,y){return Nn(c),y=ri(c,y),c.g.has(y)}i.forEach=function(c,y){Nn(this),this.g.forEach(function(v,A){v.forEach(function(F){c.call(y,F,A,this)},this)},this)},i.na=function(){Nn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let A=0;A<y.length;A++){const F=c[A];for(let Y=0;Y<F.length;Y++)v.push(y[A])}return v},i.V=function(c){Nn(this);let y=[];if(typeof c=="string")ki(this,c)&&(y=y.concat(this.g.get(ri(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},i.set=function(c,y){return Nn(this),this.i=null,c=ri(this,c),ki(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Lo(c,y,v){Pi(c,y),0<v.length&&(c.i=null,c.g.set(ri(c,y),k(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var A=y[v];const Y=encodeURIComponent(String(A)),ue=this.V(A);for(A=0;A<ue.length;A++){var F=Y;ue[A]!==""&&(F+="="+encodeURIComponent(String(ue[A]))),c.push(F)}}return this.i=c.join("&")};function ri(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Iu(c,y){y&&!c.j&&(Nn(c),c.i=null,c.g.forEach(function(v,A){var F=A.toLowerCase();A!=F&&(Pi(this,A),Lo(this,F,v))},c)),c.j=y}function ys(c,y){const v=new On;if(m.Image){const A=new Image;A.onload=I(xn,v,"TestLoadImage: loaded",!0,y,A),A.onerror=I(xn,v,"TestLoadImage: error",!1,y,A),A.onabort=I(xn,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=I(xn,v,"TestLoadImage: timeout",!1,y,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Fn(c,y){const v=new On,A=new AbortController,F=setTimeout(()=>{A.abort(),xn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(Y=>{clearTimeout(F),Y.ok?xn(v,"TestPingServer: ok",!0,y):xn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),xn(v,"TestPingServer: error",!1,y)})}function xn(c,y,v,A,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),A(v)}catch{}}function _s(){this.g=new us}function si(c,y,v){const A=v||"";try{Po(c,function(F,Y){let ue=F;p(F)&&(ue=qn(F)),y.push(A+Y+"="+encodeURIComponent(ue))})}catch(F){throw y.push(A+"type="+encodeURIComponent("_badmap")),F}}function gr(c){this.l=c.Ub||null,this.j=c.eb||!1}R(gr,Ro),gr.prototype.g=function(){return new Ui(this.l,this.j)},gr.prototype.i=function(c){return function(){return c}}({});function Ui(c,y){ht.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(Ui,ht),i=Ui.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,oi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ai(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function jo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ai(this):oi(this),this.readyState==3&&jo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,ai(this))},i.Qa=function(c){this.g&&(this.response=c,ai(this))},i.ga=function(){this.g&&ai(this)};function ai(c){c.readyState=4,c.l=null,c.j=null,c.v=null,oi(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function oi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ui.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Bo(c){let y="";return ae(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function Vt(c,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Bo(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Xe(c,y,v))}function Ge(c){ht.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(Ge,ht);var ha=/^https?$/i,vs=["POST","PUT"];i=Ge.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ti.g(),this.v=this.o?Co(this.o):Co(ti),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){Ou(this,Y);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var F in A)v.set(F,A[F]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())v.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(Y=>Y.toLowerCase()=="content-type"),F=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(vs,y,void 0))||A||F||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ue]of v)this.g.setRequestHeader(Y,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Es(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){Ou(this,Y)}};function Ou(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,fa(c),li(c)}function fa(c){c.A||(c.A=!0,Ke(c,"complete"),Ke(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ke(this,"complete"),Ke(this,"abort"),li(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),li(this,!0)),Ge.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?da(this):this.bb())},i.bb=function(){da(this)};function da(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Mn(c)!=4||c.Z()!=2)){if(c.u&&Mn(c)==4)Yt(c.Ea,0,c);else if(Ke(c,"readystatechange"),Mn(c)==4){c.h=!1;try{const ue=c.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=ue===0){var F=String(c.D).match(ds)[1]||null;!F&&m.self&&m.self.location&&(F=m.self.location.protocol.slice(0,-1)),A=!ha.test(F?F.toLowerCase():"")}v=A}if(v)Ke(c,"complete"),Ke(c,"success");else{c.m=6;try{var Y=2<Mn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",fa(c)}}finally{li(c)}}}}function li(c,y){if(c.g){Es(c);const v=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ke(c,"ready");try{v.onreadystatechange=A}catch{}}}function Es(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Mn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Mn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ia(y)}};function Du(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function vf(c){const y={};c=(c.g&&2<=Mn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(J(c[A]))continue;var v=L(c[A]);const F=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Y=y[F]||[];y[F]=Y,Y.push(v)}D(y,function(A){return A.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ts(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function ma(c){this.Aa=0,this.i=[],this.j=new On,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ts("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ts("baseRetryDelayMs",5e3,c),this.cb=Ts("retryDelaySeedMs",1e4,c),this.Wa=Ts("forwardChannelMaxRetries",2,c),this.wa=Ts("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new xi(c&&c.concurrentRequestLimit),this.Da=new _s,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=ma.prototype,i.la=8,i.G=1,i.connect=function(c,y,v,A){st(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=Uu(this,null,this.W),ga(this)};function zo(c){if(Nu(c),c.G==3){var y=c.U++,v=_n(c.I);if(Xe(v,"SID",c.K),Xe(v,"RID",y),Xe(v,"TYPE","terminate"),Ss(c,v),y=new sn(c,c.j,y),y.L=2,y.v=ps(_n(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=Lu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),hs(y)}ku(c)}function pa(c){c.g&&(bs(c),c.g.cancel(),c.g=null)}function Nu(c){pa(c),c.u&&(m.clearTimeout(c.u),c.u=null),ya(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ga(c){if(!aa(c.h)&&!c.s){c.s=!0;var y=c.Ga;ce||P(),pe||(ce(),pe=!0),He.add(y,c),c.B=0}}function Ef(c,y){return oa(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=vt(S(c.Ga,c,y),Fo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const F=new sn(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=w(Y),V(Y,this.S)):Y=this.S),this.m!==null||this.O||(F.H=Y,Y=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=xu(this,F,y),v=_n(this.I),Xe(v,"RID",c),Xe(v,"CVER",22),this.D&&Xe(v,"X-HTTP-Session-Id",this.D),Ss(this,v),Y&&(this.O?y="headers="+encodeURIComponent(String(Bo(Y)))+"&"+y:this.m&&Vt(v,this.m,Y)),la(this.h,F),this.Ua&&Xe(v,"TYPE","init"),this.P?(Xe(v,"$req",y),Xe(v,"SID","null"),F.T=!0,Hn(F,v,null)):Hn(F,v,y),this.G=2}}else this.G==3&&(c?qo(this,c):this.i.length==0||aa(this.h)||qo(this))};function qo(c,y){var v;y?v=y.l:v=c.U++;const A=_n(c.I);Xe(A,"SID",c.K),Xe(A,"RID",v),Xe(A,"AID",c.T),Ss(c,A),c.m&&c.o&&Vt(A,c.m,c.o),v=new sn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=xu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),la(c.h,v),Hn(v,A,y)}function Ss(c,y){c.H&&ae(c.H,function(v,A){Xe(y,A,v)}),c.l&&Po({},function(v,A){Xe(y,A,v)})}function xu(c,y,v){v=Math.min(c.i.length,v);var A=c.l?S(c.l.Na,c.l,c):null;e:{var F=c.i;let Y=-1;for(;;){const ue=["count="+v];Y==-1?0<v?(Y=F[0].g,ue.push("ofs="+Y)):Y=0:ue.push("ofs="+Y);let Le=!0;for(let wt=0;wt<v;wt++){let je=F[wt].g;const Pt=F[wt].map;if(je-=Y,0>je)Y=Math.max(0,F[wt].g-100),Le=!1;else try{si(Pt,ue,"req"+je+"_")}catch{A&&A(Pt)}}if(Le){A=ue.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,A}function Mu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ce||P(),pe||(ce(),pe=!0),He.add(y,c),c.v=0}}function Ho(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=vt(S(c.Fa,c),Fo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Vu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=vt(S(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),pa(this),Vu(this))};function bs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Vu(c){c.g=new sn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=_n(c.qa);Xe(y,"RID","rpc"),Xe(y,"SID",c.K),Xe(y,"AID",c.T),Xe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Xe(y,"TO",c.ja),Xe(y,"TYPE","xmlhttp"),Ss(c,y),c.m&&c.o&&Vt(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=ps(_n(y)),v.m=null,v.P=!0,Ni(v,c)}i.Za=function(){this.C!=null&&(this.C=null,pa(this),Ho(this),st(19))};function ya(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Pu(c,y){var v=null;if(c.g==y){ya(c),bs(c),c.g=null;var A=2}else if(Mo(c.h,y))v=y.D,an(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var F=c.B;A=cr(),Ke(A,new At(A,v)),ga(c)}else Mu(c);else if(F=y.s,F==3||F==0&&0<y.X||!(A==1&&Ef(c,y)||A==2&&Ho(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),F){case 1:Li(c,5);break;case 4:Li(c,10);break;case 3:Li(c,6);break;default:Li(c,2)}}}function Fo(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Li(c,y){if(c.j.info("Error code "+y),y==2){var v=S(c.fb,c),A=c.Xa;const F=!A;A=new Et(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ms(A,"https"),ps(A),F?ys(A.toString(),v):Fn(A.toString(),v)}else st(2);c.G=0,c.l&&c.l.sa(y),ku(c),Nu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function ku(c){if(c.G=0,c.ka=[],c.l){const y=Vo(c.h);(y.length!=0||c.i.length!=0)&&(O(c.ka,y),O(c.ka,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.ra()}}function Uu(c,y,v){var A=v instanceof Et?_n(v):new Et(v);if(A.g!="")y&&(A.g=y+"."+A.g),pr(A,A.s);else{var F=m.location;A=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;var Y=new Et(null);A&&ms(Y,A),y&&(Y.g=y),F&&pr(Y,F),v&&(Y.l=v),A=Y}return v=c.D,y=c.ya,v&&y&&Xe(A,v,y),Xe(A,"VER",c.la),Ss(c,A),A}function Lu(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ge(new gr({eb:v})):new Ge(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function ju(){}i=ju.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function _a(){}_a.prototype.g=function(c,y){return new on(c,y)};function on(c,y){ht.call(this),this.g=new ma(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!J(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!J(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ui(this)}R(on,ht),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){zo(this.g)},on.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=qn(c),c=v);y.i.push(new Ru(y.Ya++,c)),y.G==3&&ga(y)},on.prototype.N=function(){this.g.l=null,delete this.j,zo(this.g),delete this.g,on.aa.N.call(this)};function Bu(c){Oi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}R(Bu,Oi);function zu(){Oo.call(this),this.status=1}R(zu,Oo);function ui(c){this.g=c}R(ui,ju),ui.prototype.ua=function(){Ke(this.g,"a")},ui.prototype.ta=function(c){Ke(this.g,new Bu(c))},ui.prototype.sa=function(c){Ke(this.g,new zu)},ui.prototype.ra=function(){Ke(this.g,"b")},_a.prototype.createWebChannel=_a.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,tb=function(){return new _a},eb=function(){return cr()},WS=ei,np={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},dr.NO_ERROR=0,dr.TIMEOUT=8,dr.HTTP_ERROR=6,rh=dr,Di.COMPLETE="complete",ZS=Di,Io.EventType=Ii,Ii.OPEN="a",Ii.CLOSE="b",Ii.ERROR="c",Ii.MESSAGE="d",ht.prototype.listen=ht.prototype.K,kl=Io,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,JS=Ge}).apply(typeof Fc<"u"?Fc:typeof self<"u"?self:typeof window<"u"?window:{});const ZE="@firebase/firestore",WE="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yo="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys=new kp("@firebase/firestore");function Ka(){return Ys.logLevel}function fe(i,...e){if(Ys.logLevel<=ke.DEBUG){const t=e.map(Xp);Ys.debug(`Firestore (${yo}): ${i}`,...t)}}function ar(i,...e){if(Ys.logLevel<=ke.ERROR){const t=e.map(Xp);Ys.error(`Firestore (${yo}): ${i}`,...t)}}function io(i,...e){if(Ys.logLevel<=ke.WARN){const t=e.map(Xp);Ys.warn(`Firestore (${yo}): ${i}`,...t)}}function Xp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,nb(i,s,t)}function nb(i,e,t){let s=`FIRESTORE (${yo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw ar(s),new Error(s)}function $e(i,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,i||nb(e,o,s)}function Re(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends lr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(en.UNAUTHENTICATED))}shutdown(){}}class MN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class VN{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){$e(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let l=new Kr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Kr,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const g=l;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Kr)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($e(typeof s.accessToken=="string",31837,{l:s}),new ib(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new en(e)}}class PN{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class kN{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new PN(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class e0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UN{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){$e(this.o===void 0,3512);const s=l=>{l.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.m;return this.m=l.token,fe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const o=l=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new e0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?($e(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new e0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=LN(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%62))}return s}}function De(i,e){return i<e?-1:i>e?1:0}function ip(i,e){let t=0;for(;t<i.length&&t<e.length;){const s=i.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return De(s,o);{const l=rb(),h=jN(l.encode(t0(i,t)),l.encode(t0(e,t)));return h!==0?h:De(s,o)}}t+=s>65535?2:1}return De(i.length,e.length)}function t0(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function jN(i,e){for(let t=0;t<i.length&&t<e.length;++t)if(i[t]!==e[t])return De(i[t],e[t]);return De(i.length,e.length)}function ro(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0=-62135596800,i0=1e6;class Dt{static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*i0);return new Dt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<n0)throw new ye(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/i0}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-n0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new Dt(0,0))}static max(){return new we(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="__name__";class yi{constructor(e,t,s){t===void 0?t=0:t>e.length&&Se(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Se(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return yi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof yi?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=yi.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return De(e.length,t.length)}static compareSegments(e,t){const s=yi.isNumericId(e),o=yi.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?yi.extractNumericId(e).compare(yi.extractNumericId(t)):ip(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $r.fromString(e.substring(4,e.length-2))}}class mt extends yi{construct(e,t,s){return new mt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ye(oe.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new mt(t)}static emptyPath(){return new mt([])}}const BN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends yi{construct(e,t,s){return new $t(e,t,s)}static isValidIdentifier(e){return BN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===r0}static keyField(){return new $t([r0])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new ye(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ye(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ye(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(l(),o++)}if(l(),h)throw new ye(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(t)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(mt.fromString(e))}static fromName(e){return new ve(mt.fromString(e).popFirst(5))}static empty(){return new ve(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return mt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new mt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=-1;function zN(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new Dt(t+1,0):new Dt(t,s));return new Qr(o,ve.empty(),e)}function qN(i){return new Qr(i.readTime,i.key,Yl)}class Qr{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Qr(we.min(),ve.empty(),Yl)}static max(){return new Qr(we.max(),ve.empty(),Yl)}}function HN(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(i.documentKey,e.documentKey),t!==0?t:De(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(i){if(i.code!==oe.FAILED_PRECONDITION||i.message!==FN)throw i;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.reject(t)}static resolve(e){return new ie((t,s)=>{t(e)})}static reject(e){return new ie((t,s)=>{s(e)})}static waitFor(e){return new ie((t,s)=>{let o=0,l=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++l,h&&l===o&&t()},g=>s(g))}),h=!0,l===o&&t()})}static or(e){let t=ie.resolve(!1);for(const s of e)t=t.next(o=>o?ie.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,l)=>{s.push(t.call(this,o,l))}),this.waitFor(s)}static mapArray(e,t){return new ie((s,o)=>{const l=e.length,h=new Array(l);let m=0;for(let g=0;g<l;g++){const p=g;t(e[p]).next(_=>{h[p]=_,++m,m===l&&s(h)},_=>o(_))}})}static doWhile(e,t){return new ie((s,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):s()};l()})}}function $N(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function vo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>t.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Qh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp=-1;function Yh(i){return i==null}function Eh(i){return i===0&&1/i==-1/0}function KN(i){return typeof i=="number"&&Number.isInteger(i)&&!Eh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab="";function QN(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=s0(e)),e=YN(i.get(t),e);return s0(e)}function YN(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const l=i.charAt(o);switch(l){case"\0":t+="";break;case ab:t+="";break;default:t+=l}}return t}function s0(i){return i+ab+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function es(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function ob(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,t){this.comparator=e,this.root=t||Gt.EMPTY}insert(e,t){return new ct(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gc(this.root,e,this.comparator,!0)}}class Gc{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??Gt.RED,this.left=o??Gt.EMPTY,this.right=l??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new Gt(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,t,s,o,l){return this}insert(e,t,s){return new Gt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new o0(this.data.getIterator())}getIteratorFrom(e){return new o0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Nt(this.comparator);return t.data=e,t}}class o0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new Rn([])}unionWith(e){let t=new Nt($t.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Rn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ro(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new lb("Invalid base64 string: "+l):l}}(e);return new Kt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(e);return new Kt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const XN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(i){if($e(!!i,39018),typeof i=="string"){let e=0;const t=XN.exec(i);if($e(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(i.seconds),nanos:_t(i.nanos)}}function _t(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Xr(i){return typeof i=="string"?Kt.fromBase64String(i):Kt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="server_timestamp",cb="__type__",hb="__previous_value__",fb="__local_write_time__";function Zp(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[cb])===null||t===void 0?void 0:t.stringValue)===ub}function Xh(i){const e=i.mapValue.fields[hb];return Zp(e)?Xh(e):e}function Xl(i){const e=Yr(i.mapValue.fields[fb].timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e,t,s,o,l,h,m,g,p,_){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=_}}const Th="(default)";class Jl{constructor(e,t){this.projectId=e,this.database=t||Th}static empty(){return new Jl("","")}get isDefaultDatabase(){return this.database===Th}isEqual(e){return e instanceof Jl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="__type__",ZN="__max__",$c={mapValue:{}},mb="__vector__",Sh="value";function Jr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Zp(i)?4:ex(i)?9007199254740991:WN(i)?10:11:Se(28295,{value:i})}function Ai(i,e){if(i===e)return!0;const t=Jr(i);if(t!==Jr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Xl(i).isEqual(Xl(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=Yr(o.timestampValue),m=Yr(l.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,l){return Xr(o.bytesValue).isEqual(Xr(l.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,l){return _t(o.geoPointValue.latitude)===_t(l.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(l.geoPointValue.longitude)}(i,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return _t(o.integerValue)===_t(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=_t(o.doubleValue),m=_t(l.doubleValue);return h===m?Eh(h)===Eh(m):isNaN(h)&&isNaN(m)}return!1}(i,e);case 9:return ro(i.arrayValue.values||[],e.arrayValue.values||[],Ai);case 10:case 11:return function(o,l){const h=o.mapValue.fields||{},m=l.mapValue.fields||{};if(a0(h)!==a0(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!Ai(h[g],m[g])))return!1;return!0}(i,e);default:return Se(52216,{left:i})}}function Zl(i,e){return(i.values||[]).find(t=>Ai(t,e))!==void 0}function so(i,e){if(i===e)return 0;const t=Jr(i),s=Jr(e);if(t!==s)return De(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return De(i.booleanValue,e.booleanValue);case 2:return function(l,h){const m=_t(l.integerValue||l.doubleValue),g=_t(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(i,e);case 3:return l0(i.timestampValue,e.timestampValue);case 4:return l0(Xl(i),Xl(e));case 5:return ip(i.stringValue,e.stringValue);case 6:return function(l,h){const m=Xr(l),g=Xr(h);return m.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(l,h){const m=l.split("/"),g=h.split("/");for(let p=0;p<m.length&&p<g.length;p++){const _=De(m[p],g[p]);if(_!==0)return _}return De(m.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,h){const m=De(_t(l.latitude),_t(h.latitude));return m!==0?m:De(_t(l.longitude),_t(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return u0(i.arrayValue,e.arrayValue);case 10:return function(l,h){var m,g,p,_;const T=l.fields||{},S=h.fields||{},I=(m=T[Sh])===null||m===void 0?void 0:m.arrayValue,R=(g=S[Sh])===null||g===void 0?void 0:g.arrayValue,k=De(((p=I==null?void 0:I.values)===null||p===void 0?void 0:p.length)||0,((_=R==null?void 0:R.values)===null||_===void 0?void 0:_.length)||0);return k!==0?k:u0(I,R)}(i.mapValue,e.mapValue);case 11:return function(l,h){if(l===$c.mapValue&&h===$c.mapValue)return 0;if(l===$c.mapValue)return 1;if(h===$c.mapValue)return-1;const m=l.fields||{},g=Object.keys(m),p=h.fields||{},_=Object.keys(p);g.sort(),_.sort();for(let T=0;T<g.length&&T<_.length;++T){const S=ip(g[T],_[T]);if(S!==0)return S;const I=so(m[g[T]],p[_[T]]);if(I!==0)return I}return De(g.length,_.length)}(i.mapValue,e.mapValue);default:throw Se(23264,{Pe:t})}}function l0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return De(i,e);const t=Yr(i),s=Yr(e),o=De(t.seconds,s.seconds);return o!==0?o:De(t.nanos,s.nanos)}function u0(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=so(t[o],s[o]);if(l)return l}return De(t.length,s.length)}function ao(i){return rp(i)}function rp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=Yr(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return Xr(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return ve.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=rp(l);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of s)l?l=!1:o+=",",o+=`${h}:${rp(t.fields[h])}`;return o+"}"}(i.mapValue):Se(61005,{value:i})}function sh(i){switch(Jr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xh(i);return e?16+sh(e):16;case 5:return 2*i.stringValue.length;case 6:return Xr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,l)=>o+sh(l),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return es(s.fields,(l,h)=>{o+=l.length+sh(h)}),o}(i.mapValue);default:throw Se(13486,{value:i})}}function sp(i){return!!i&&"integerValue"in i}function Wp(i){return!!i&&"arrayValue"in i}function c0(i){return!!i&&"nullValue"in i}function h0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ah(i){return!!i&&"mapValue"in i}function WN(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[db])===null||t===void 0?void 0:t.stringValue)===mb}function zl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return es(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=zl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=zl(i.arrayValue.values[t]);return e}return Object.assign({},i)}function ex(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===ZN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!ah(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=zl(t)}setAll(e){let t=$t.emptyPath(),s={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const g=this.getFieldsMap(t);this.applyChanges(g,s,o),s={},o=[],t=m.popLast()}h?s[m.lastSegment()]=zl(h):o.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());ah(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ai(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];ah(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){es(t,(o,l)=>e[o]=l);for(const o of s)delete e[o]}clone(){return new mn(zl(this.value))}}function pb(i){const e=[];return es(i.fields,(t,s)=>{const o=new $t([t]);if(ah(s)){const l=pb(s.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,t,s,o,l,h,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=h,this.documentState=m}static newInvalidDocument(e){return new tn(e,0,we.min(),we.min(),we.min(),mn.empty(),0)}static newFoundDocument(e,t,s,o){return new tn(e,1,t,we.min(),s,o,0)}static newNoDocument(e,t){return new tn(e,2,t,we.min(),we.min(),mn.empty(),0)}static newUnknownDocument(e,t){return new tn(e,3,t,we.min(),we.min(),mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,t){this.position=e,this.inclusive=t}}function f0(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const l=e[o],h=i.position[o];if(l.field.isKeyField()?s=ve.comparator(ve.fromName(h.referenceValue),t.key):s=so(h,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function d0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Ai(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,t="asc"){this.field=e,this.dir=t}}function tx(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{}class Ot extends gb{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new ix(e,t,s):t==="array-contains"?new ax(e,s):t==="in"?new ox(e,s):t==="not-in"?new lx(e,s):t==="array-contains-any"?new ux(e,s):new Ot(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new rx(e,s):new sx(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(so(t,this.value)):t!==null&&Jr(this.value)===Jr(t)&&this.matchesComparison(so(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wi extends gb{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new wi(e,t)}matches(e){return yb(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function yb(i){return i.op==="and"}function _b(i){return nx(i)&&yb(i)}function nx(i){for(const e of i.filters)if(e instanceof wi)return!1;return!0}function ap(i){if(i instanceof Ot)return i.field.canonicalString()+i.op.toString()+ao(i.value);if(_b(i))return i.filters.map(e=>ap(e)).join(",");{const e=i.filters.map(t=>ap(t)).join(",");return`${i.op}(${e})`}}function vb(i,e){return i instanceof Ot?function(s,o){return o instanceof Ot&&s.op===o.op&&s.field.isEqual(o.field)&&Ai(s.value,o.value)}(i,e):i instanceof wi?function(s,o){return o instanceof wi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,h,m)=>l&&vb(h,o.filters[m]),!0):!1}(i,e):void Se(19439)}function Eb(i){return i instanceof Ot?function(t){return`${t.field.canonicalString()} ${t.op} ${ao(t.value)}`}(i):i instanceof wi?function(t){return t.op.toString()+" {"+t.getFilters().map(Eb).join(" ,")+"}"}(i):"Filter"}class ix extends Ot{constructor(e,t,s){super(e,t,s),this.key=ve.fromName(s.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class rx extends Ot{constructor(e,t){super(e,"in",t),this.keys=Tb("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class sx extends Ot{constructor(e,t){super(e,"not-in",t),this.keys=Tb("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Tb(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>ve.fromName(s.referenceValue))}class ax extends Ot{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Wp(t)&&Zl(t.arrayValue,this.value)}}class ox extends Ot{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Zl(this.value.arrayValue,t)}}class lx extends Ot{constructor(e,t){super(e,"not-in",t)}matches(e){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Zl(this.value.arrayValue,t)}}class ux extends Ot{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Wp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Zl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,t=null,s=[],o=[],l=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=h,this.endAt=m,this.Ie=null}}function m0(i,e=null,t=[],s=[],o=null,l=null,h=null){return new cx(i,e,t,s,o,l,h)}function eg(i){const e=Re(i);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>ap(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),Yh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>ao(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>ao(s)).join(",")),e.Ie=t}return e.Ie}function tg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!tx(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!vb(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!d0(i.startAt,e.startAt)&&d0(i.endAt,e.endAt)}function op(i){return ve.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,t=null,s=[],o=[],l=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=h,this.startAt=m,this.endAt=g,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function hx(i,e,t,s,o,l,h,m){return new Jh(i,e,t,s,o,l,h,m)}function ng(i){return new Jh(i)}function p0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function fx(i){return i.collectionGroup!==null}function ql(i){const e=Re(i);if(e.Ee===null){e.Ee=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Nt($t.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(p=>{p.isInequality()&&(m=m.add(p.field))})}),m})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new Ah(l,s))}),t.has($t.keyField().canonicalString())||e.Ee.push(new Ah($t.keyField(),s))}return e.Ee}function vi(i){const e=Re(i);return e.de||(e.de=dx(e,ql(i))),e.de}function dx(i,e){if(i.limitType==="F")return m0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Ah(o.field,l)});const t=i.endAt?new bh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new bh(i.startAt.position,i.startAt.inclusive):null;return m0(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function lp(i,e,t){return new Jh(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Zh(i,e){return tg(vi(i),vi(e))&&i.limitType===e.limitType}function Sb(i){return`${eg(vi(i))}|lt:${i.limitType}`}function Qa(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>Eb(o)).join(", ")}]`),Yh(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>ao(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>ao(o)).join(",")),`Target(${s})`}(vi(i))}; limitType=${i.limitType})`}function Wh(i,e){return e.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ve.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(i,e)&&function(s,o){for(const l of ql(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,m,g){const p=f0(h,m,g);return h.inclusive?p<=0:p<0}(s.startAt,ql(s),o)||s.endAt&&!function(h,m,g){const p=f0(h,m,g);return h.inclusive?p>=0:p>0}(s.endAt,ql(s),o))}(i,e)}function mx(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function bb(i){return(e,t)=>{let s=!1;for(const o of ql(i)){const l=px(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function px(i,e,t){const s=i.field.isKeyField()?ve.comparator(e.key,t.key):function(l,h,m){const g=h.data.field(l),p=m.data.field(l);return g!==null&&p!==null?so(g,p):Se(42886)}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Se(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){es(this.inner,(t,s)=>{for(const[o,l]of s)e(o,l)})}isEmpty(){return ob(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx=new ct(ve.comparator);function or(){return gx}const Ab=new ct(ve.comparator);function Ul(...i){let e=Ab;for(const t of i)e=e.insert(t.key,t);return e}function wb(i){let e=Ab;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function qs(){return Hl()}function Rb(){return Hl()}function Hl(){return new Ws(i=>i.toString(),(i,e)=>i.isEqual(e))}const yx=new ct(ve.comparator),_x=new Nt(ve.comparator);function Ue(...i){let e=_x;for(const t of i)e=e.add(t);return e}const vx=new Nt(De);function Ex(){return vx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eh(e)?"-0":e}}function Cb(i){return{integerValue:""+i}}function Tx(i,e){return KN(e)?Cb(e):ig(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(){this._=void 0}}function Sx(i,e,t){return i instanceof wh?function(o,l){const h={fields:{[cb]:{stringValue:ub},[fb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Zp(l)&&(l=Xh(l)),l&&(h.fields[hb]=l),{mapValue:h}}(t,e):i instanceof Wl?Ob(i,e):i instanceof eu?Db(i,e):function(o,l){const h=Ib(o,l),m=g0(h)+g0(o.Re);return sp(h)&&sp(o.Re)?Cb(m):ig(o.serializer,m)}(i,e)}function bx(i,e,t){return i instanceof Wl?Ob(i,e):i instanceof eu?Db(i,e):t}function Ib(i,e){return i instanceof Rh?function(s){return sp(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class wh extends ef{}class Wl extends ef{constructor(e){super(),this.elements=e}}function Ob(i,e){const t=Nb(e);for(const s of i.elements)t.some(o=>Ai(o,s))||t.push(s);return{arrayValue:{values:t}}}class eu extends ef{constructor(e){super(),this.elements=e}}function Db(i,e){let t=Nb(e);for(const s of i.elements)t=t.filter(o=>!Ai(o,s));return{arrayValue:{values:t}}}class Rh extends ef{constructor(e,t){super(),this.serializer=e,this.Re=t}}function g0(i){return _t(i.integerValue||i.doubleValue)}function Nb(i){return Wp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function Ax(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof Wl&&o instanceof Wl||s instanceof eu&&o instanceof eu?ro(s.elements,o.elements,Ai):s instanceof Rh&&o instanceof Rh?Ai(s.Re,o.Re):s instanceof wh&&o instanceof wh}(i.transform,e.transform)}class wx{constructor(e,t){this.version=e,this.transformResults=t}}class Ei{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ei}static exists(e){return new Ei(void 0,e)}static updateTime(e){return new Ei(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class tf{}function xb(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Vb(i.key,Ei.none()):new du(i.key,i.data,Ei.none());{const t=i.data,s=mn.empty();let o=new Nt($t.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?s.delete(l):s.set(l,h),o=o.add(l)}return new ts(i.key,s,new Rn(o.toArray()),Ei.none())}}function Rx(i,e,t){i instanceof du?function(o,l,h){const m=o.value.clone(),g=_0(o.fieldTransforms,l,h.transformResults);m.setAll(g),l.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,t):i instanceof ts?function(o,l,h){if(!oh(o.precondition,l))return void l.convertToUnknownDocument(h.version);const m=_0(o.fieldTransforms,l,h.transformResults),g=l.data;g.setAll(Mb(o)),g.setAll(m),l.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(i,e,t):function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function Fl(i,e,t,s){return i instanceof du?function(l,h,m,g){if(!oh(l.precondition,h))return m;const p=l.value.clone(),_=v0(l.fieldTransforms,g,h);return p.setAll(_),h.convertToFoundDocument(h.version,p).setHasLocalMutations(),null}(i,e,t,s):i instanceof ts?function(l,h,m,g){if(!oh(l.precondition,h))return m;const p=v0(l.fieldTransforms,g,h),_=h.data;return _.setAll(Mb(l)),_.setAll(p),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(i,e,t,s):function(l,h,m){return oh(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,e,t)}function Cx(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),l=Ib(s.transform,o||null);l!=null&&(t===null&&(t=mn.empty()),t.set(s.field,l))}return t||null}function y0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ro(s,o,(l,h)=>Ax(l,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class du extends tf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ts extends tf{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Mb(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function _0(i,e,t){const s=new Map;$e(i.length===t.length,32656,{Ve:t.length,me:i.length});for(let o=0;o<t.length;o++){const l=i[o],h=l.transform,m=e.data.field(l.field);s.set(l.field,bx(h,m,t[o]))}return s}function v0(i,e,t){const s=new Map;for(const o of i){const l=o.transform,h=t.data.field(o.field);s.set(o.field,Sx(l,h,e))}return s}class Vb extends tf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ix extends tf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&Rx(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Fl(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Fl(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Rb();return this.mutations.forEach(o=>{const l=e.get(o.key),h=l.overlayedDocument;let m=this.applyToLocalView(h,l.mutatedFields);m=t.has(o.key)?null:m;const g=xb(h,m);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(we.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ue())}isEqual(e){return this.batchId===e.batchId&&ro(this.mutations,e.mutations,(t,s)=>y0(t,s))&&ro(this.baseMutations,e.baseMutations,(t,s)=>y0(t,s))}}class rg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){$e(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return yx}();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,s[h].version);return new rg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,ze;function xx(i){switch(i){case oe.OK:return Se(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Se(15467,{code:i})}}function Pb(i){if(i===void 0)return ar("GRPC error has no .code"),oe.UNKNOWN;switch(i){case bt.OK:return oe.OK;case bt.CANCELLED:return oe.CANCELLED;case bt.UNKNOWN:return oe.UNKNOWN;case bt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case bt.INTERNAL:return oe.INTERNAL;case bt.UNAVAILABLE:return oe.UNAVAILABLE;case bt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case bt.NOT_FOUND:return oe.NOT_FOUND;case bt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case bt.ABORTED:return oe.ABORTED;case bt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case bt.DATA_LOSS:return oe.DATA_LOSS;default:return Se(39323,{code:i})}}(ze=bt||(bt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=new $r([4294967295,4294967295],0);function E0(i){const e=rb().encode(i),t=new XS;return t.update(e),new Uint8Array(t.digest())}function T0(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new $r([t,s],0),new $r([o,l],0)]}class sg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Ll(`Invalid padding: ${t}`);if(s<0)throw new Ll(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ll(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Ll(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=$r.fromNumber(this.pe)}we(e,t,s){let o=e.add(t.multiply($r.fromNumber(s)));return o.compare(Mx)===1&&(o=new $r([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=E0(e),[s,o]=T0(t);for(let l=0;l<this.hashCount;l++){const h=this.we(s,o,l);if(!this.be(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new sg(l,o,t);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.pe===0)return;const t=E0(e),[s,o]=T0(t);for(let l=0;l<this.hashCount;l++){const h=this.we(s,o,l);this.Se(h)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,mu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new nf(we.min(),o,new ct(De),or(),Ue())}}class mu{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new mu(s,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,t,s,o){this.De=e,this.removedTargetIds=t,this.key=s,this.ve=o}}class kb{constructor(e,t){this.targetId=e,this.Ce=t}}class Ub{constructor(e,t,s=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class S0{constructor(){this.Fe=0,this.Me=b0(),this.xe=Kt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ue(),t=Ue(),s=Ue();return this.Me.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Se(38017,{changeType:l})}}),new mu(this.xe,this.Oe,e,t,s)}Qe(){this.Ne=!1,this.Me=b0()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,$e(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Vx{constructor(e){this.ze=e,this.je=new Map,this.He=or(),this.Je=Kc(),this.Ye=Kc(),this.Ze=new ct(De)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const s=this.rt(t);switch(e.state){case 0:this.it(t)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(t);break;case 3:this.it(t)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),s.ke(e.resumeToken));break;default:Se(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((s,o)=>{this.it(o)&&t(o)})}ot(e){const t=e.targetId,s=e.Ce.count,o=this._t(t);if(o){const l=o.target;if(op(l))if(s===0){const h=new ve(l.path);this.tt(t,h,tn.newNoDocument(h,we.min()))}else $e(s===1,20013,{expectedCount:s});else{const h=this.ut(t);if(h!==s){const m=this.ct(e),g=m?this.lt(m,e,h):1;if(g!==0){this.st(t);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let h,m;try{h=Xr(s).toUint8Array()}catch(g){if(g instanceof lb)return io("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new sg(h,o,l)}catch(g){return io(g instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.pe===0?null:m}lt(e,t,s){return t.Ce.count===s-this.Tt(e,t.targetId)?0:2}Tt(e,t){const s=this.ze.getRemoteKeysForTarget(t);let o=0;return s.forEach(l=>{const h=this.ze.Pt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(m)||(this.tt(t,l,null),o++)}),o}It(e){const t=new Map;this.je.forEach((l,h)=>{const m=this._t(h);if(m){if(l.current&&op(m.target)){const g=new ve(m.target.path);this.Et(g).has(h)||this.dt(h,g)||this.tt(h,g,tn.newNoDocument(g,e))}l.Le&&(t.set(h,l.qe()),l.Qe())}});let s=Ue();this.Ye.forEach((l,h)=>{let m=!0;h.forEachWhile(g=>{const p=this._t(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(l))}),this.He.forEach((l,h)=>h.setReadTime(e));const o=new nf(e,t,this.Ze,this.He,s);return this.He=or(),this.Je=Kc(),this.Ye=Kc(),this.Ze=new ct(De),o}et(e,t){if(!this.it(e))return;const s=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,s),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,t)?o.$e(t,1):o.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),s&&(this.He=this.He.insert(t,s))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new S0,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Nt(De),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Nt(De),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new S0),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Kc(){return new ct(ve.comparator)}function b0(){return new ct(ve.comparator)}const Px={asc:"ASCENDING",desc:"DESCENDING"},kx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ux={and:"AND",or:"OR"};class Lx{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function up(i,e){return i.useProto3Json||Yh(e)?e:{value:e}}function Ch(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Lb(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function jx(i,e){return Ch(i,e.toTimestamp())}function Ti(i){return $e(!!i,49232),we.fromTimestamp(function(t){const s=Yr(t);return new Dt(s.seconds,s.nanos)}(i))}function ag(i,e){return cp(i,e).canonicalString()}function cp(i,e){const t=function(o){return new mt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function jb(i){const e=mt.fromString(i);return $e(Fb(e),10190,{key:e.toString()}),e}function hp(i,e){return ag(i.databaseId,e.path)}function Dm(i,e){const t=jb(e);if(t.get(1)!==i.databaseId.projectId)throw new ye(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new ye(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ve(zb(t))}function Bb(i,e){return ag(i.databaseId,e)}function Bx(i){const e=jb(i);return e.length===4?mt.emptyPath():zb(e)}function fp(i){return new mt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function zb(i){return $e(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function A0(i,e,t){return{name:hp(i,e),fields:t.value.mapValue.fields}}function zx(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Se(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(p,_){return p.useProto3Json?($e(_===void 0||typeof _=="string",58123),Kt.fromBase64String(_||"")):($e(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Kt.fromUint8Array(_||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(p){const _=p.code===void 0?oe.UNKNOWN:Pb(p.code);return new ye(_,p.message||"")}(h);t=new Ub(s,o,l,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Dm(i,s.document.name),l=Ti(s.document.updateTime),h=s.document.createTime?Ti(s.document.createTime):we.min(),m=new mn({mapValue:{fields:s.document.fields}}),g=tn.newFoundDocument(o,l,h,m),p=s.targetIds||[],_=s.removedTargetIds||[];t=new lh(p,_,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Dm(i,s.document),l=s.readTime?Ti(s.readTime):we.min(),h=tn.newNoDocument(o,l),m=s.removedTargetIds||[];t=new lh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Dm(i,s.document),l=s.removedTargetIds||[];t=new lh([],l,o,null)}else{if(!("filter"in e))return Se(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,h=new Nx(o,l),m=s.targetId;t=new kb(m,h)}}return t}function qx(i,e){let t;if(e instanceof du)t={update:A0(i,e.key,e.value)};else if(e instanceof Vb)t={delete:hp(i,e.key)};else if(e instanceof ts)t={update:A0(i,e.key,e.data),updateMask:Jx(e.fieldMask)};else{if(!(e instanceof Ix))return Se(16599,{ft:e.type});t={verify:hp(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,h){const m=h.transform;if(m instanceof wh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Wl)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof eu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Rh)return{fieldPath:h.field.canonicalString(),increment:m.Re};throw Se(20930,{transform:h.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:jx(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Se(27497)}(i,e.precondition)),t}function Hx(i,e){return i&&i.length>0?($e(e!==void 0,14353),i.map(t=>function(o,l){let h=o.updateTime?Ti(o.updateTime):Ti(l);return h.isEqual(we.min())&&(h=Ti(l)),new wx(h,o.transformResults||[])}(t,e))):[]}function Fx(i,e){return{documents:[Bb(i,e.path)]}}function Gx(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Bb(i,o);const l=function(p){if(p.length!==0)return Hb(wi.create(p,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(p){if(p.length!==0)return p.map(_=>function(S){return{field:Ya(S.field),direction:Qx(S.dir)}}(_))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=up(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:t,parent:o}}function $x(i){let e=Bx(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){$e(s===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(T){const S=qb(T);return S instanceof wi&&_b(S)?S.getFilters():[S]}(t.where));let h=[];t.orderBy&&(h=function(T){return T.map(S=>function(R){return new Ah(Xa(R.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(S))}(t.orderBy));let m=null;t.limit&&(m=function(T){let S;return S=typeof T=="object"?T.value:T,Yh(S)?null:S}(t.limit));let g=null;t.startAt&&(g=function(T){const S=!!T.before,I=T.values||[];return new bh(I,S)}(t.startAt));let p=null;return t.endAt&&(p=function(T){const S=!T.before,I=T.values||[];return new bh(I,S)}(t.endAt)),hx(e,o,h,l,m,"F",g,p)}function Kx(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function qb(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Xa(t.unaryFilter.field);return Ot.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Xa(t.unaryFilter.field);return Ot.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Xa(t.unaryFilter.field);return Ot.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Xa(t.unaryFilter.field);return Ot.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}}(i):i.fieldFilter!==void 0?function(t){return Ot.create(Xa(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return wi.create(t.compositeFilter.filters.map(s=>qb(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}}(t.compositeFilter.op))}(i):Se(30097,{filter:i})}function Qx(i){return Px[i]}function Yx(i){return kx[i]}function Xx(i){return Ux[i]}function Ya(i){return{fieldPath:i.canonicalString()}}function Xa(i){return $t.fromServerFormat(i.fieldPath)}function Hb(i){return i instanceof Ot?function(t){if(t.op==="=="){if(h0(t.value))return{unaryFilter:{field:Ya(t.field),op:"IS_NAN"}};if(c0(t.value))return{unaryFilter:{field:Ya(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(h0(t.value))return{unaryFilter:{field:Ya(t.field),op:"IS_NOT_NAN"}};if(c0(t.value))return{unaryFilter:{field:Ya(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ya(t.field),op:Yx(t.op),value:t.value}}}(i):i instanceof wi?function(t){const s=t.getFilters().map(o=>Hb(o));return s.length===1?s[0]:{compositeFilter:{op:Xx(t.op),filters:s}}}(i):Se(54877,{filter:i})}function Jx(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Fb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,t,s,o,l=we.min(),h=we.min(),m=Kt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new qr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e){this.wt=e}}function Wx(i){const e=$x({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?lp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(){this.yn=new t4}addToCollectionParentIndex(e,t){return this.yn.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(Qr.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(Qr.min())}updateCollectionGroup(e,t,s){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class t4{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Nt(mt.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Nt(mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Gb=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(Gb,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new oo(0)}static ir(){return new oo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="LruGarbageCollector",n4=1048576;function C0([i,e],[t,s]){const o=De(i,t);return o===0?De(e,s):o}class i4{constructor(e){this.cr=e,this.buffer=new Nt(C0),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();C0(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class r4{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){fe(R0,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){vo(t)?fe(R0,"Ignoring IndexedDB error during garbage collection: ",t):await _o(t)}await this.Ir(3e5)})}}class s4{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return ie.resolve(Qh.le);const s=new i4(t);return this.Er.forEachTarget(e,o=>s.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(e,o=>s.Pr(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Er.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(w0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),w0):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let s,o,l,h,m,g,p;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(s=T,m=Date.now(),this.removeTargets(e,s,t))).next(T=>(l=T,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(p=Date.now(),Ka()<=ke.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${l} targets in `+(g-m)+`ms
	Removed ${T} documents in `+(p-g)+`ms
Total Duration: ${p-_}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T})))}}function a4(i,e){return new s4(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(){this.changes=new Ws(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ie.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&Fl(s.mutation,o,Rn.empty(),Dt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Ue()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Ue()){const o=qs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(l=>{let h=Ul();return l.forEach((m,g)=>{h=h.insert(m,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=qs();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Ue()))}populateOverlays(e,t,s){const o=[];return s.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,s,o){let l=or();const h=Hl(),m=function(){return Hl()}();return t.forEach((g,p)=>{const _=s.get(p.key);o.has(p.key)&&(_===void 0||_.mutation instanceof ts)?l=l.insert(p.key,p):_!==void 0?(h.set(p.key,_.mutation.getFieldMask()),Fl(_.mutation,p,_.mutation.getFieldMask(),Dt.now())):h.set(p.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,l).next(g=>(g.forEach((p,_)=>h.set(p,_)),t.forEach((p,_)=>{var T;return m.set(p,new l4(_,(T=h.get(p))!==null&&T!==void 0?T:null))}),m))}recalculateAndSaveOverlays(e,t){const s=Hl();let o=new ct((h,m)=>h-m),l=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(g=>{const p=t.get(g);if(p===null)return;let _=s.get(g)||Rn.empty();_=m.applyToLocalView(p,_),s.set(g,_);const T=(o.get(m.batchId)||Ue()).add(g);o=o.insert(m.batchId,T)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,_=g.value,T=Rb();_.forEach(S=>{if(!l.has(S)){const I=xb(t.get(S),s.get(S));I!==null&&T.set(S,I),l=l.add(S)}}),h.push(this.documentOverlayCache.saveOverlays(e,p,T))}return ie.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return ve.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):fx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):ie.resolve(qs());let m=Yl,g=l;return h.next(p=>ie.forEach(p,(_,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),l.get(_)?ie.resolve():this.remoteDocumentCache.getEntry(e,_).next(S=>{g=g.insert(_,S)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,g,p,Ue())).next(_=>({batchId:m,changes:wb(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(s=>{let o=Ul();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let h=Ul();return this.indexManager.getCollectionParents(e,l).next(m=>ie.forEach(m,g=>{const p=function(T,S){return new Jh(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,g.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next(_=>{_.forEach((T,S)=>{h=h.insert(T,S)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o))).next(h=>{l.forEach((g,p)=>{const _=p.getKey();h.get(_)===null&&(h=h.insert(_,tn.newInvalidDocument(_)))});let m=Ul();return h.forEach((g,p)=>{const _=l.get(g);_!==void 0&&Fl(_.mutation,p,Rn.empty(),Dt.now()),Wh(t,p)&&(m=m.insert(g,p))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return ie.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Ti(o.createTime)}}(t)),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(o){return{name:o.name,query:Wx(o.bundledQuery),readTime:Ti(o.readTime)}}(t)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(){this.overlays=new ct(ve.comparator),this.Or=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const s=qs();return ie.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,l)=>{this.St(e,t,l)}),ie.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Or.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Or.delete(s)),ie.resolve()}getOverlaysForCollection(e,t,s){const o=qs(),l=t.length+1,h=new ve(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new ct((p,_)=>p-_);const h=this.overlays.getIterator();for(;h.hasNext();){const p=h.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>s){let _=l.get(p.largestBatchId);_===null&&(_=qs(),l=l.insert(p.largestBatchId,_)),_.set(p.getKey(),p)}}const m=qs(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((p,_)=>m.set(p,_)),!(m.size()>=o)););return ie.resolve(m)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Or.get(o.largestBatchId).delete(s.key);this.Or.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new Dx(t,s));let l=this.Or.get(t);l===void 0&&(l=Ue(),this.Or.set(t,l)),this.Or.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(){this.Nr=new Nt(jt.Br),this.Lr=new Nt(jt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const s=new jt(e,t);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Qr(new jt(e,t))}$r(e,t){e.forEach(s=>this.removeReference(s,t))}Ur(e){const t=new ve(new mt([])),s=new jt(t,e),o=new jt(t,e+1),l=[];return this.Lr.forEachInRange([s,o],h=>{this.Qr(h),l.push(h.key)}),l}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new ve(new mt([])),s=new jt(t,e),o=new jt(t,e+1);let l=Ue();return this.Lr.forEachInRange([s,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new jt(e,0),s=this.Nr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return ve.comparator(e.key,t.key)||De(e.Gr,t.Gr)}static kr(e,t){return De(e.Gr,t.Gr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new Nt(jt.Br)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new Ox(l,t,s,o);this.mutationQueue.push(h);for(const m of o)this.zr=this.zr.add(new jt(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(h)}lookupMutationBatch(e,t){return ie.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Hr(s),l=o<0?0:o;return ie.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Jp:this.Jn-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new jt(t,0),o=new jt(t,Number.POSITIVE_INFINITY),l=[];return this.zr.forEachInRange([s,o],h=>{const m=this.jr(h.Gr);l.push(m)}),ie.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Nt(De);return t.forEach(o=>{const l=new jt(o,0),h=new jt(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([l,h],m=>{s=s.add(m.Gr)})}),ie.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;ve.isDocumentKey(l)||(l=l.child(""));const h=new jt(new ve(l),0);let m=new Nt(De);return this.zr.forEachWhile(g=>{const p=g.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Gr)),!0)},h),ie.resolve(this.Jr(m))}Jr(e){const t=[];return e.forEach(s=>{const o=this.jr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){$e(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return ie.forEach(t.mutations,o=>{const l=new jt(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.zr=s})}Xn(e){}containsKey(e,t){const s=new jt(t,0),o=this.zr.firstAfterOrEqual(s);return ie.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e){this.Zr=e,this.docs=function(){return new ct(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,h=this.Zr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ie.resolve(s?s.document.mutableCopy():tn.newInvalidDocument(t))}getEntries(e,t){let s=or();return t.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():tn.newInvalidDocument(o))}),ie.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=or();const h=t.path,m=new ve(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:_}}=g.getNext();if(!h.isPrefixOf(p.path))break;p.path.length>h.length+1||HN(qN(_),s)<=0||(o.has(_.key)||Wh(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return ie.resolve(l)}getAllFromCollectionGroup(e,t,s,o){Se(9500)}Xr(e,t){return ie.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new p4(this)}getSize(e){return ie.resolve(this.size)}}class p4 extends o4{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.vr.addEntry(e,o)):this.vr.removeEntry(s)}),ie.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e){this.persistence=e,this.ei=new Ws(t=>eg(t),tg),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.ti=0,this.ni=new og,this.targetCount=0,this.ri=oo.rr()}forEachTarget(e,t){return this.ei.forEach((s,o)=>t(o)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.ti&&(this.ti=t),ie.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new oo(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.ar(t),ie.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.ei.forEach((h,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.ei.delete(h),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ie.waitFor(l).next(()=>o)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const s=this.ei.get(t)||null;return ie.resolve(s)}addMatchingKeys(e,t,s){return this.ni.qr(t,s),ie.resolve()}removeMatchingKeys(e,t,s){this.ni.$r(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),ie.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ni.Wr(t);return ie.resolve(s)}containsKey(e,t){return ie.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,t){this.ii={},this.overlays={},this.si=new Qh(0),this.oi=!1,this.oi=!0,this._i=new f4,this.referenceDelegate=e(this),this.ai=new g4(this),this.indexManager=new e4,this.remoteDocumentCache=function(o){return new m4(o)}(s=>this.referenceDelegate.ui(s)),this.serializer=new Zx(t),this.ci=new c4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new h4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ii[e.toKey()];return s||(s=new d4(t,this.referenceDelegate),this.ii[e.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,s){fe("MemoryPersistence","Starting transaction:",e);const o=new y4(this.si.next());return this.referenceDelegate.li(),s(o).next(l=>this.referenceDelegate.hi(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Pi(e,t){return ie.or(Object.values(this.ii).map(s=>()=>s.containsKey(e,t)))}}class y4 extends GN{constructor(e){super(),this.currentSequenceNumber=e}}class lg{constructor(e){this.persistence=e,this.Ti=new og,this.Ii=null}static Ei(e){return new lg(e)}get di(){if(this.Ii)return this.Ii;throw Se(60996)}addReference(e,t,s){return this.Ti.addReference(s,t),this.di.delete(s.toString()),ie.resolve()}removeReference(e,t,s){return this.Ti.removeReference(s,t),this.di.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),ie.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(o=>this.di.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.di.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.di,s=>{const o=ve.fromPath(s);return this.Ai(e,o).next(l=>{l||t.removeEntry(o,we.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(s=>{s?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return ie.or([()=>ie.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class Ih{constructor(e,t){this.persistence=e,this.Ri=new Ws(s=>QN(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=a4(this,t)}static Ei(e,t){return new Ih(e,t)}li(){}hi(e){return ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}Vr(e){let t=0;return this.Ar(e,s=>{t++}).next(()=>t)}Ar(e,t){return ie.forEach(this.Ri,(s,o)=>this.gr(e,s,o).next(l=>l?ie.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.Xr(e,h=>this.gr(e,h,t).next(m=>{m||(s++,l.removeEntry(h,we.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),ie.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.Ri.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,t,s){return this.Ri.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),ie.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=sh(e.data.value)),t}gr(e,t,s){return ie.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.Ri.get(t);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.ls=s,this.hs=o}static Ps(e,t){let s=Ue(),o=Ue();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new ug(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return d2()?8:$N(rn())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.Rs(e,t).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.Vs(e,t,o,s).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new _4;return this.fs(e,t,h).next(m=>{if(l.result=m,this.Is)return this.gs(e,t,h,m.size)})}).next(()=>l.result)}gs(e,t,s,o){return s.documentReadCount<this.Es?(Ka()<=ke.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Qa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),ie.resolve()):(Ka()<=ke.DEBUG&&fe("QueryEngine","Query:",Qa(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Ka()<=ke.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Qa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vi(t))):ie.resolve())}Rs(e,t){if(p0(t))return ie.resolve(null);let s=vi(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=lp(t,null,"F"),s=vi(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const h=Ue(...l);return this.As.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(g=>{const p=this.ps(t,m);return this.ys(t,p,h,g.readTime)?this.Rs(e,lp(t,null,"F")):this.ws(e,p,t,g)}))})))}Vs(e,t,s,o){return p0(t)||o.isEqual(we.min())?ie.resolve(null):this.As.getDocuments(e,s).next(l=>{const h=this.ps(t,l);return this.ys(t,h,s,o)?ie.resolve(null):(Ka()<=ke.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Qa(t)),this.ws(e,h,t,zN(o,Yl)).next(m=>m))})}ps(e,t){let s=new Nt(bb(e));return t.forEach((o,l)=>{Wh(e,l)&&(s=s.add(l))}),s}ys(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}fs(e,t,s){return Ka()<=ke.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Qa(t)),this.As.getDocumentsMatchingQuery(e,t,Qr.min(),s)}ws(e,t,s,o){return this.As.getDocumentsMatchingQuery(e,s,o).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg="LocalStore",E4=3e8;class T4{constructor(e,t,s,o){this.persistence=e,this.bs=t,this.serializer=o,this.Ss=new ct(De),this.Ds=new Ws(l=>eg(l),tg),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(s)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new u4(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function S4(i,e,t,s){return new T4(i,e,t,s)}async function Kb(i,e){const t=Re(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,t.Fs(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const h=[],m=[];let g=Ue();for(const p of o){h.push(p.batchId);for(const _ of p.mutations)g=g.add(_.key)}for(const p of l){m.push(p.batchId);for(const _ of p.mutations)g=g.add(_.key)}return t.localDocuments.getDocuments(s,g).next(p=>({Ms:p,removedBatchIds:h,addedBatchIds:m}))})})}function b4(i,e){const t=Re(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),l=t.Cs.newChangeBuffer({trackRemovals:!0});return function(m,g,p,_){const T=p.batch,S=T.keys();let I=ie.resolve();return S.forEach(R=>{I=I.next(()=>_.getEntry(g,R)).next(k=>{const O=p.docVersions.get(R);$e(O!==null,48541),k.version.compareTo(O)<0&&(T.applyToRemoteDocument(k,p),k.isValidDocument()&&(k.setReadTime(p.commitVersion),_.addEntry(k)))})}),I.next(()=>m.mutationQueue.removeMutationBatch(g,T))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=Ue();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function Qb(i){const e=Re(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function A4(i,e){const t=Re(i),s=e.snapshotVersion;let o=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.Cs.newChangeBuffer({trackRemovals:!0});o=t.Ss;const m=[];e.targetChanges.forEach((_,T)=>{const S=o.get(T);if(!S)return;m.push(t.ai.removeMatchingKeys(l,_.removedDocuments,T).next(()=>t.ai.addMatchingKeys(l,_.addedDocuments,T)));let I=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?I=I.withResumeToken(Kt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):_.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(_.resumeToken,s)),o=o.insert(T,I),function(k,O,q){return k.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=E4?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(S,I,_)&&m.push(t.ai.updateTargetData(l,I))});let g=or(),p=Ue();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),m.push(w4(l,h,e.documentUpdates).next(_=>{g=_.xs,p=_.Os})),!s.isEqual(we.min())){const _=t.ai.getLastRemoteSnapshotVersion(l).next(T=>t.ai.setTargetsMetadata(l,l.currentSequenceNumber,s));m.push(_)}return ie.waitFor(m).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,g,p)).next(()=>g)}).then(l=>(t.Ss=o,l))}function w4(i,e,t){let s=Ue(),o=Ue();return t.forEach(l=>s=s.add(l)),e.getEntries(i,s).next(l=>{let h=or();return t.forEach((m,g)=>{const p=l.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(we.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):fe(cg,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)}),{xs:h,Os:o}})}function R4(i,e){const t=Re(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Jp),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function C4(i,e){const t=Re(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.ai.getTargetData(s,e).next(l=>l?(o=l,ie.resolve(o)):t.ai.allocateTargetId(s).next(h=>(o=new qr(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.ai.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ss.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(s.targetId,s),t.Ds.set(e,s.targetId)),s})}async function dp(i,e,t){const s=Re(i),o=s.Ss.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!vo(h))throw h;fe(cg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ss=s.Ss.remove(e),s.Ds.delete(o.target)}function I0(i,e,t){const s=Re(i);let o=we.min(),l=Ue();return s.persistence.runTransaction("Execute query","readwrite",h=>function(g,p,_){const T=Re(g),S=T.Ds.get(_);return S!==void 0?ie.resolve(T.Ss.get(S)):T.ai.getTargetData(p,_)}(s,h,vi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(h,m.targetId).next(g=>{l=g})}).next(()=>s.bs.getDocumentsMatchingQuery(h,e,t?o:we.min(),t?l:Ue())).next(m=>(I4(s,mx(e),m),{documents:m,Ns:l})))}function I4(i,e,t){let s=i.vs.get(e)||we.min();t.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),i.vs.set(e,s)}class O0{constructor(){this.activeTargetIds=Ex()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class O4{constructor(){this.So=new O0,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,s){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new O0,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="ConnectivityMonitor";class N0{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){fe(D0,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){fe(D0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qc=null;function mp(){return Qc===null?Qc=function(){return 268435456+Math.round(2147483648*Math.random())}():Qc++,"0x"+Qc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="RestConnection",N4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class x4{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${s}/databases/${o}`,this.qo=this.databaseId.database===Th?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Qo(e,t,s,o,l){const h=mp(),m=this.$o(e,t.toUriEncodedString());fe(Nm,`Sending RPC '${e}' ${h}:`,m,s);const g={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(g,o,l);const{host:p}=new URL(m),_=ou(p);return this.Ko(e,m,g,s,_).then(T=>(fe(Nm,`Received RPC '${e}' ${h}: `,T),T),T=>{throw io(Nm,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",s),T})}Wo(e,t,s,o,l,h){return this.Qo(e,t,s,o,l)}Uo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),s&&s.headers.forEach((o,l)=>e[l]=o)}$o(e,t){const s=N4[e];return`${this.Lo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class V4 extends x4{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,s,o,l){const h=mp();return new Promise((m,g)=>{const p=new JS;p.setWithCredentials(!0),p.listenOnce(ZS.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case rh.NO_ERROR:const T=p.getResponseJson();fe(Zt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case rh.TIMEOUT:fe(Zt,`RPC '${e}' ${h} timed out`),g(new ye(oe.DEADLINE_EXCEEDED,"Request time out"));break;case rh.HTTP_ERROR:const S=p.getStatus();if(fe(Zt,`RPC '${e}' ${h} failed with status:`,S,"response text:",p.getResponseText()),S>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const R=I==null?void 0:I.error;if(R&&R.status&&R.message){const k=function(q){const J=q.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(J)>=0?J:oe.UNKNOWN}(R.status);g(new ye(k,R.message))}else g(new ye(oe.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new ye(oe.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{s_:e,streamId:h,o_:p.getLastErrorCode(),__:p.getLastError()})}}finally{fe(Zt,`RPC '${e}' ${h} completed.`)}});const _=JSON.stringify(o);fe(Zt,`RPC '${e}' ${h} sending request:`,o),p.send(t,"POST",_,s,15)})}a_(e,t,s){const o=mp(),l=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=tb(),m=eb(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Uo(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const _=l.join("");fe(Zt,`Creating RPC '${e}' stream ${o}: ${_}`,g);const T=h.createWebChannel(_,g);let S=!1,I=!1;const R=new M4({Go:O=>{I?fe(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,O):(S||(fe(Zt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),fe(Zt,`RPC '${e}' stream ${o} sending:`,O),T.send(O))},zo:()=>T.close()}),k=(O,q,J)=>{O.listen(q,H=>{try{J(H)}catch(re){setTimeout(()=>{throw re},0)}})};return k(T,kl.EventType.OPEN,()=>{I||(fe(Zt,`RPC '${e}' stream ${o} transport opened.`),R.t_())}),k(T,kl.EventType.CLOSE,()=>{I||(I=!0,fe(Zt,`RPC '${e}' stream ${o} transport closed`),R.r_())}),k(T,kl.EventType.ERROR,O=>{I||(I=!0,io(Zt,`RPC '${e}' stream ${o} transport errored. Name:`,O.name,"Message:",O.message),R.r_(new ye(oe.UNAVAILABLE,"The operation could not be completed")))}),k(T,kl.EventType.MESSAGE,O=>{var q;if(!I){const J=O.data[0];$e(!!J,16349);const H=J,re=(H==null?void 0:H.error)||((q=H[0])===null||q===void 0?void 0:q.error);if(re){fe(Zt,`RPC '${e}' stream ${o} received error:`,re);const ee=re.status;let ae=function(C){const V=bt[C];if(V!==void 0)return Pb(V)}(ee),D=re.message;ae===void 0&&(ae=oe.INTERNAL,D="Unknown error status: "+ee+" with message "+re.message),I=!0,R.r_(new ye(ae,D)),T.close()}else fe(Zt,`RPC '${e}' stream ${o} received:`,J),R.i_(J)}}),k(m,WS.STAT_EVENT,O=>{O.stat===np.PROXY?fe(Zt,`RPC '${e}' stream ${o} detected buffering proxy`):O.stat===np.NOPROXY&&fe(Zt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{R.n_()},0),R}}function xm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(i){return new Lx(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,t,s=1e3,o=1.5,l=6e4){this.bi=e,this.timerId=t,this.u_=s,this.c_=o,this.l_=l,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),o=Math.max(0,t-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="PersistentStream";class Xb{constructor(e,t,s,o,l,h,m,g){this.bi=e,this.R_=s,this.V_=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new Yb(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(ar(t.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.m_===t&&this.B_(s,o)},s=>{e(()=>{const o=new ye(oe.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(o)})})}B_(e,t){const s=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{s(()=>this.L_(o))}),this.stream.onMessage(o=>{s(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return fe(x0,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(fe(x0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class P4 extends Xb{constructor(e,t,s,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=zx(this.serializer,e),s=function(l){if(!("targetChange"in l))return we.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?we.min():h.readTime?Ti(h.readTime):we.min()}(e);return this.listener.Q_(t,s)}U_(e){const t={};t.database=fp(this.serializer),t.addTarget=function(l,h){let m;const g=h.target;if(m=op(g)?{documents:Fx(l,g)}:{query:Gx(l,g).gt},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=Lb(l,h.resumeToken);const p=up(l,h.expectedCount);p!==null&&(m.expectedCount=p)}else if(h.snapshotVersion.compareTo(we.min())>0){m.readTime=Ch(l,h.snapshotVersion.toTimestamp());const p=up(l,h.expectedCount);p!==null&&(m.expectedCount=p)}return m}(this.serializer,e);const s=Kx(this.serializer,e);s&&(t.labels=s),this.F_(t)}K_(e){const t={};t.database=fp(this.serializer),t.removeTarget=e,this.F_(t)}}class k4 extends Xb{constructor(e,t,s,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=Hx(e.writeResults,e.commitTime),s=Ti(e.commitTime);return this.listener.j_(s,t)}H_(){const e={};e.database=fp(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>qx(this.serializer,s))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{}class L4 extends U4{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new ye(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,s,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.Qo(e,cp(t,s),o,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ye(oe.UNKNOWN,l.toString())})}Wo(e,t,s,o,l){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Wo(e,cp(t,s),o,h,m,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ye(oe.UNKNOWN,h.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class j4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(ar(t),this.ea=!1):fe("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="RemoteStore";class B4{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=l,this.ca.vo(h=>{s.enqueueAndForget(async()=>{ea(this)&&(fe(Xs,"Restarting streams for network reachability change."),await async function(g){const p=Re(g);p.aa.add(4),await pu(p),p.la.set("Unknown"),p.aa.delete(4),await sf(p)}(this))})}),this.la=new j4(s,o)}}async function sf(i){if(ea(i))for(const e of i.ua)await e(!0)}async function pu(i){for(const e of i.ua)await e(!1)}function Jb(i,e){const t=Re(i);t._a.has(e.targetId)||(t._a.set(e.targetId,e),mg(t)?dg(t):Eo(t).b_()&&fg(t,e))}function hg(i,e){const t=Re(i),s=Eo(t);t._a.delete(e),s.b_()&&Zb(t,e),t._a.size===0&&(s.b_()?s.v_():ea(t)&&t.la.set("Unknown"))}function fg(i,e){if(i.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Eo(i).U_(e)}function Zb(i,e){i.ha.Ke(e),Eo(i).K_(e)}function dg(i){i.ha=new Vx({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>i._a.get(e)||null,Pt:()=>i.datastore.serializer.databaseId}),Eo(i).start(),i.la.ta()}function mg(i){return ea(i)&&!Eo(i).w_()&&i._a.size>0}function ea(i){return Re(i).aa.size===0}function Wb(i){i.ha=void 0}async function z4(i){i.la.set("Online")}async function q4(i){i._a.forEach((e,t)=>{fg(i,e)})}async function H4(i,e){Wb(i),mg(i)?(i.la.ia(e),dg(i)):i.la.set("Unknown")}async function F4(i,e,t){if(i.la.set("Online"),e instanceof Ub&&e.state===2&&e.cause)try{await async function(o,l){const h=l.cause;for(const m of l.targetIds)o._a.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o._a.delete(m),o.ha.removeTarget(m))}(i,e)}catch(s){fe(Xs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Oh(i,s)}else if(e instanceof lh?i.ha.Xe(e):e instanceof kb?i.ha.ot(e):i.ha.nt(e),!t.isEqual(we.min()))try{const s=await Qb(i.localStore);t.compareTo(s)>=0&&await function(l,h){const m=l.ha.It(h);return m.targetChanges.forEach((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const _=l._a.get(p);_&&l._a.set(p,_.withResumeToken(g.resumeToken,h))}}),m.targetMismatches.forEach((g,p)=>{const _=l._a.get(g);if(!_)return;l._a.set(g,_.withResumeToken(Kt.EMPTY_BYTE_STRING,_.snapshotVersion)),Zb(l,g);const T=new qr(_.target,g,p,_.sequenceNumber);fg(l,T)}),l.remoteSyncer.applyRemoteEvent(m)}(i,t)}catch(s){fe(Xs,"Failed to raise snapshot:",s),await Oh(i,s)}}async function Oh(i,e,t){if(!vo(e))throw e;i.aa.add(1),await pu(i),i.la.set("Offline"),t||(t=()=>Qb(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{fe(Xs,"Retrying IndexedDB access"),await t(),i.aa.delete(1),await sf(i)})}function eA(i,e){return e().catch(t=>Oh(i,t,e))}async function af(i){const e=Re(i),t=Zr(e);let s=e.oa.length>0?e.oa[e.oa.length-1].batchId:Jp;for(;G4(e);)try{const o=await R4(e.localStore,s);if(o===null){e.oa.length===0&&t.v_();break}s=o.batchId,$4(e,o)}catch(o){await Oh(e,o)}tA(e)&&nA(e)}function G4(i){return ea(i)&&i.oa.length<10}function $4(i,e){i.oa.push(e);const t=Zr(i);t.b_()&&t.W_&&t.G_(e.mutations)}function tA(i){return ea(i)&&!Zr(i).w_()&&i.oa.length>0}function nA(i){Zr(i).start()}async function K4(i){Zr(i).H_()}async function Q4(i){const e=Zr(i);for(const t of i.oa)e.G_(t.mutations)}async function Y4(i,e,t){const s=i.oa.shift(),o=rg.from(s,e,t);await eA(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await af(i)}async function X4(i,e){e&&Zr(i).W_&&await async function(s,o){if(function(h){return xx(h)&&h!==oe.ABORTED}(o.code)){const l=s.oa.shift();Zr(s).D_(),await eA(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await af(s)}}(i,e),tA(i)&&nA(i)}async function M0(i,e){const t=Re(i);t.asyncQueue.verifyOperationInProgress(),fe(Xs,"RemoteStore received new credentials");const s=ea(t);t.aa.add(3),await pu(t),s&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await sf(t)}async function J4(i,e){const t=Re(i);e?(t.aa.delete(2),await sf(t)):e||(t.aa.add(2),await pu(t),t.la.set("Unknown"))}function Eo(i){return i.Pa||(i.Pa=function(t,s,o){const l=Re(t);return l.Y_(),new P4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(i.datastore,i.asyncQueue,{jo:z4.bind(null,i),Jo:q4.bind(null,i),Zo:H4.bind(null,i),Q_:F4.bind(null,i)}),i.ua.push(async e=>{e?(i.Pa.D_(),mg(i)?dg(i):i.la.set("Unknown")):(await i.Pa.stop(),Wb(i))})),i.Pa}function Zr(i){return i.Ta||(i.Ta=function(t,s,o){const l=Re(t);return l.Y_(),new k4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(i.datastore,i.asyncQueue,{jo:()=>Promise.resolve(),Jo:K4.bind(null,i),Zo:X4.bind(null,i),z_:Q4.bind(null,i),j_:Y4.bind(null,i)}),i.ua.push(async e=>{e?(i.Ta.D_(),await af(i)):(await i.Ta.stop(),i.oa.length>0&&(fe(Xs,`Stopping write stream with ${i.oa.length} pending writes`),i.oa=[]))})),i.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new Kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const h=Date.now()+s,m=new pg(e,t,h,o,l);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gg(i,e){if(ar("AsyncQueue",`${e}: ${i}`),vo(i))return new ye(oe.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{static emptySet(e){return new eo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ve.comparator(t.key,s.key):(t,s)=>ve.comparator(t.key,s.key),this.keyedMap=Ul(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof eo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new eo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(){this.Ia=new ct(ve.comparator)}track(e){const t=e.doc.key,s=this.Ia.get(t);s?e.type!==0&&s.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&s.type!==1?this.Ia=this.Ia.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Ia=this.Ia.remove(t):e.type===1&&s.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Se(63341,{Vt:e,Ea:s}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,s)=>{e.push(s)}),e}}class lo{constructor(e,t,s,o,l,h,m,g,p){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,t,s,o,l){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new lo(e,t,eo.emptySet(t),h,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class W4{constructor(){this.queries=P0(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,s){const o=Re(t),l=o.queries;o.queries=P0(),l.forEach((h,m)=>{for(const g of m.Ra)g.onError(s)})})(this,new ye(oe.ABORTED,"Firestore shutting down"))}}function P0(){return new Ws(i=>Sb(i),Zh)}async function eM(i,e){const t=Re(i);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.Va()&&e.ma()&&(s=2):(l=new Z4,s=e.ma()?0:1);try{switch(s){case 0:l.Aa=await t.onListen(o,!0);break;case 1:l.Aa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const m=gg(h,`Initialization of query '${Qa(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,l),l.Ra.push(e),e.ga(t.onlineState),l.Aa&&e.pa(l.Aa)&&yg(t)}async function tM(i,e){const t=Re(i),s=e.query;let o=3;const l=t.queries.get(s);if(l){const h=l.Ra.indexOf(e);h>=0&&(l.Ra.splice(h,1),l.Ra.length===0?o=e.ma()?0:1:!l.Va()&&e.ma()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function nM(i,e){const t=Re(i);let s=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const m of h.Ra)m.pa(o)&&(s=!0);h.Aa=o}}s&&yg(t)}function iM(i,e,t){const s=Re(i),o=s.queries.get(e);if(o)for(const l of o.Ra)l.onError(t);s.queries.delete(e)}function yg(i){i.fa.forEach(e=>{e.next()})}var pp,k0;(k0=pp||(pp={})).ya="default",k0.Cache="cache";class rM{constructor(e,t,s){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new lo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const s=t!=="Offline";return(!this.options.Fa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=lo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==pp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e){this.key=e}}class rA{constructor(e){this.key=e}}class sM{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Ue(),this.mutatedKeys=Ue(),this.Ua=bb(e),this.Ka=new eo(this.Ua)}get Wa(){return this.qa}Ga(e,t){const s=t?t.za:new V0,o=t?t.Ka:this.Ka;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,T)=>{const S=o.get(_),I=Wh(this.query,T)?T:null,R=!!S&&this.mutatedKeys.has(S.key),k=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let O=!1;S&&I?S.data.isEqual(I.data)?R!==k&&(s.track({type:3,doc:I}),O=!0):this.ja(S,I)||(s.track({type:2,doc:I}),O=!0,(g&&this.Ua(I,g)>0||p&&this.Ua(I,p)<0)&&(m=!0)):!S&&I?(s.track({type:0,doc:I}),O=!0):S&&!I&&(s.track({type:1,doc:S}),O=!0,(g||p)&&(m=!0)),O&&(I?(h=h.add(I),l=k?l.add(_):l.delete(_)):(h=h.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),l=l.delete(_.key),s.track({type:1,doc:_})}return{Ka:h,za:s,ys:m,mutatedKeys:l}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const h=e.za.da();h.sort((_,T)=>function(I,R){const k=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Vt:O})}};return k(I)-k(R)}(_.type,T.type)||this.Ua(_.doc,T.doc)),this.Ha(s),o=o!=null&&o;const m=t&&!o?this.Ja():[],g=this.$a.size===0&&this.current&&!o?1:0,p=g!==this.Qa;return this.Qa=g,h.length!==0||p?{snapshot:new lo(this.query,e.Ka,l,h,e.mutatedKeys,g===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:m}:{Ya:m}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new V0,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Ue(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const t=[];return e.forEach(s=>{this.$a.has(s)||t.push(new rA(s))}),this.$a.forEach(s=>{e.has(s)||t.push(new iA(s))}),t}Xa(e){this.qa=e.Ns,this.$a=Ue();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return lo.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const _g="SyncEngine";class aM{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class oM{constructor(e){this.key=e,this.tu=!1}}class lM{constructor(e,t,s,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.nu={},this.ru=new Ws(m=>Sb(m),Zh),this.iu=new Map,this.su=new Set,this.ou=new ct(ve.comparator),this._u=new Map,this.au=new og,this.uu={},this.cu=new Map,this.lu=oo.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function uM(i,e,t=!0){const s=cA(i);let o;const l=s.ru.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.eu()):o=await sA(s,e,t,!0),o}async function cM(i,e){const t=cA(i);await sA(t,e,!0,!1)}async function sA(i,e,t,s){const o=await C4(i.localStore,vi(e)),l=o.targetId,h=i.sharedClientState.addLocalQueryTarget(l,t);let m;return s&&(m=await hM(i,e,l,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&Jb(i.remoteStore,o),m}async function hM(i,e,t,s,o){i.Pu=(T,S,I)=>async function(k,O,q,J){let H=O.view.Ga(q);H.ys&&(H=await I0(k.localStore,O.query,!1).then(({documents:D})=>O.view.Ga(D,H)));const re=J&&J.targetChanges.get(O.targetId),ee=J&&J.targetMismatches.get(O.targetId)!=null,ae=O.view.applyChanges(H,k.isPrimaryClient,re,ee);return L0(k,O.targetId,ae.Ya),ae.snapshot}(i,T,S,I);const l=await I0(i.localStore,e,!0),h=new sM(e,l.Ns),m=h.Ga(l.documents),g=mu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),p=h.applyChanges(m,i.isPrimaryClient,g);L0(i,t,p.Ya);const _=new aM(e,t,h);return i.ru.set(e,_),i.iu.has(t)?i.iu.get(t).push(e):i.iu.set(t,[e]),p.snapshot}async function fM(i,e,t){const s=Re(i),o=s.ru.get(e),l=s.iu.get(o.targetId);if(l.length>1)return s.iu.set(o.targetId,l.filter(h=>!Zh(h,e))),void s.ru.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await dp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&hg(s.remoteStore,o.targetId),gp(s,o.targetId)}).catch(_o)):(gp(s,o.targetId),await dp(s.localStore,o.targetId,!0))}async function dM(i,e){const t=Re(i),s=t.ru.get(e),o=t.iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),hg(t.remoteStore,s.targetId))}async function mM(i,e,t){const s=TM(i);try{const o=await function(h,m){const g=Re(h),p=Dt.now(),_=m.reduce((I,R)=>I.add(R.key),Ue());let T,S;return g.persistence.runTransaction("Locally write mutations","readwrite",I=>{let R=or(),k=Ue();return g.Cs.getEntries(I,_).next(O=>{R=O,R.forEach((q,J)=>{J.isValidDocument()||(k=k.add(q))})}).next(()=>g.localDocuments.getOverlayedDocuments(I,R)).next(O=>{T=O;const q=[];for(const J of m){const H=Cx(J,T.get(J.key).overlayedDocument);H!=null&&q.push(new ts(J.key,H,pb(H.value.mapValue),Ei.exists(!0)))}return g.mutationQueue.addMutationBatch(I,p,q,m)}).next(O=>{S=O;const q=O.applyToLocalDocumentSet(T,k);return g.documentOverlayCache.saveOverlays(I,O.batchId,q)})}).then(()=>({batchId:S.batchId,changes:wb(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,g){let p=h.uu[h.currentUser.toKey()];p||(p=new ct(De)),p=p.insert(m,g),h.uu[h.currentUser.toKey()]=p}(s,o.batchId,t),await gu(s,o.changes),await af(s.remoteStore)}catch(o){const l=gg(o,"Failed to persist write");t.reject(l)}}async function aA(i,e){const t=Re(i);try{const s=await A4(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t._u.get(l);h&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.tu=!0:o.modifiedDocuments.size>0?$e(h.tu,14607):o.removedDocuments.size>0&&($e(h.tu,42227),h.tu=!1))}),await gu(t,s,e)}catch(s){await _o(s)}}function U0(i,e,t){const s=Re(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ru.forEach((l,h)=>{const m=h.view.ga(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const g=Re(h);g.onlineState=m;let p=!1;g.queries.forEach((_,T)=>{for(const S of T.Ra)S.ga(m)&&(p=!0)}),p&&yg(g)}(s.eventManager,e),o.length&&s.nu.Q_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function pM(i,e,t){const s=Re(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s._u.get(e),l=o&&o.key;if(l){let h=new ct(ve.comparator);h=h.insert(l,tn.newNoDocument(l,we.min()));const m=Ue().add(l),g=new nf(we.min(),new Map,new ct(De),h,m);await aA(s,g),s.ou=s.ou.remove(l),s._u.delete(e),vg(s)}else await dp(s.localStore,e,!1).then(()=>gp(s,e,t)).catch(_o)}async function gM(i,e){const t=Re(i),s=e.batch.batchId;try{const o=await b4(t.localStore,e);lA(t,s,null),oA(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await gu(t,o)}catch(o){await _o(o)}}async function yM(i,e,t){const s=Re(i);try{const o=await function(h,m){const g=Re(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return g.mutationQueue.lookupMutationBatch(p,m).next(T=>($e(T!==null,37113),_=T.keys(),g.mutationQueue.removeMutationBatch(p,T))).next(()=>g.mutationQueue.performConsistencyCheck(p)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(p,_,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_)).next(()=>g.localDocuments.getDocuments(p,_))})}(s.localStore,e);lA(s,e,t),oA(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await gu(s,o)}catch(o){await _o(o)}}function oA(i,e){(i.cu.get(e)||[]).forEach(t=>{t.resolve()}),i.cu.delete(e)}function lA(i,e,t){const s=Re(i);let o=s.uu[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.uu[s.currentUser.toKey()]=o}}function gp(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.iu.get(e))i.ru.delete(s),t&&i.nu.Tu(s,t);i.iu.delete(e),i.isPrimaryClient&&i.au.Ur(e).forEach(s=>{i.au.containsKey(s)||uA(i,s)})}function uA(i,e){i.su.delete(e.path.canonicalString());const t=i.ou.get(e);t!==null&&(hg(i.remoteStore,t),i.ou=i.ou.remove(e),i._u.delete(t),vg(i))}function L0(i,e,t){for(const s of t)s instanceof iA?(i.au.addReference(s.key,e),_M(i,s)):s instanceof rA?(fe(_g,"Document no longer in limbo: "+s.key),i.au.removeReference(s.key,e),i.au.containsKey(s.key)||uA(i,s.key)):Se(19791,{Iu:s})}function _M(i,e){const t=e.key,s=t.path.canonicalString();i.ou.get(t)||i.su.has(s)||(fe(_g,"New document in limbo: "+t),i.su.add(s),vg(i))}function vg(i){for(;i.su.size>0&&i.ou.size<i.maxConcurrentLimboResolutions;){const e=i.su.values().next().value;i.su.delete(e);const t=new ve(mt.fromString(e)),s=i.lu.next();i._u.set(s,new oM(t)),i.ou=i.ou.insert(t,s),Jb(i.remoteStore,new qr(vi(ng(t.path)),s,"TargetPurposeLimboResolution",Qh.le))}}async function gu(i,e,t){const s=Re(i),o=[],l=[],h=[];s.ru.isEmpty()||(s.ru.forEach((m,g)=>{h.push(s.Pu(g,e,t).then(p=>{var _;if((p||t)&&s.isPrimaryClient){const T=p?!p.fromCache:(_=t==null?void 0:t.targetChanges.get(g.targetId))===null||_===void 0?void 0:_.current;s.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(p){o.push(p);const T=ug.Ps(g.targetId,p);l.push(T)}}))}),await Promise.all(h),s.nu.Q_(o),await async function(g,p){const _=Re(g);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ie.forEach(p,S=>ie.forEach(S.ls,I=>_.persistence.referenceDelegate.addReference(T,S.targetId,I)).next(()=>ie.forEach(S.hs,I=>_.persistence.referenceDelegate.removeReference(T,S.targetId,I)))))}catch(T){if(!vo(T))throw T;fe(cg,"Failed to update sequence numbers: "+T)}for(const T of p){const S=T.targetId;if(!T.fromCache){const I=_.Ss.get(S),R=I.snapshotVersion,k=I.withLastLimboFreeSnapshotVersion(R);_.Ss=_.Ss.insert(S,k)}}}(s.localStore,l))}async function vM(i,e){const t=Re(i);if(!t.currentUser.isEqual(e)){fe(_g,"User change. New user:",e.toKey());const s=await Kb(t.localStore,e);t.currentUser=e,function(l,h){l.cu.forEach(m=>{m.forEach(g=>{g.reject(new ye(oe.CANCELLED,h))})}),l.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await gu(t,s.Ms)}}function EM(i,e){const t=Re(i),s=t._u.get(e);if(s&&s.tu)return Ue().add(s.key);{let o=Ue();const l=t.iu.get(e);if(!l)return o;for(const h of l){const m=t.ru.get(h);o=o.unionWith(m.view.Wa)}return o}}function cA(i){const e=Re(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=aA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pM.bind(null,e),e.nu.Q_=nM.bind(null,e.eventManager),e.nu.Tu=iM.bind(null,e.eventManager),e}function TM(i){const e=Re(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yM.bind(null,e),e}class Dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rf(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return S4(this.persistence,new v4,e.initialUser,this.serializer)}Ru(e){return new $b(lg.Ei,this.serializer)}Au(e){return new O4}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dh.provider={build:()=>new Dh};class SM extends Dh{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){$e(this.persistence.referenceDelegate instanceof Ih,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new r4(s,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new $b(s=>Ih.Ei(s,t),this.serializer)}}class yp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>U0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=vM.bind(null,this.syncEngine),await J4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new W4}()}createDatastore(e){const t=rf(e.databaseInfo.databaseId),s=function(l){return new V4(l)}(e.databaseInfo);return function(l,h,m,g){return new L4(l,h,m,g)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,l,h,m){return new B4(s,o,l,h,m)}(this.localStore,this.datastore,e.asyncQueue,t=>U0(this.syncEngine,t,0),function(){return N0.C()?new N0:new D4}())}createSyncEngine(e,t){return function(o,l,h,m,g,p,_){const T=new lM(o,l,h,m,g,p);return _&&(T.hu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Re(o);fe(Xs,"RemoteStore shutting down."),l.aa.add(5),await pu(l),l.ca.shutdown(),l.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}yp.provider={build:()=>new yp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):ar("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr="FirestoreClient";class AM{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=sb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async h=>{fe(Wr,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(fe(Wr,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=gg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Mm(i,e){i.asyncQueue.verifyOperationInProgress(),fe(Wr,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Kb(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function j0(i,e){i.asyncQueue.verifyOperationInProgress();const t=await wM(i);fe(Wr,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>M0(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>M0(e.remoteStore,o)),i._onlineComponents=e}async function wM(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){fe(Wr,"Using user provided OfflineComponentProvider");try{await Mm(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===oe.FAILED_PRECONDITION||o.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;io("Error using user provided cache. Falling back to memory cache: "+t),await Mm(i,new Dh)}}else fe(Wr,"Using default OfflineComponentProvider"),await Mm(i,new SM(void 0));return i._offlineComponents}async function hA(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(fe(Wr,"Using user provided OnlineComponentProvider"),await j0(i,i._uninitializedComponentsProvider._online)):(fe(Wr,"Using default OnlineComponentProvider"),await j0(i,new yp))),i._onlineComponents}function RM(i){return hA(i).then(e=>e.syncEngine)}async function CM(i){const e=await hA(i),t=e.eventManager;return t.onListen=uM.bind(null,e.syncEngine),t.onUnlisten=fM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=cM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=dM.bind(null,e.syncEngine),t}function IM(i,e,t={}){const s=new Kr;return i.asyncQueue.enqueueAndForget(async()=>function(l,h,m,g,p){const _=new bM({next:S=>{_.yu(),h.enqueueAndForget(()=>tM(l,T));const I=S.docs.has(m);!I&&S.fromCache?p.reject(new ye(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&S.fromCache&&g&&g.source==="server"?p.reject(new ye(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(S)},error:S=>p.reject(S)}),T=new rM(ng(m.path),_,{includeMetadataChanges:!0,Fa:!0});return eM(l,T)}(await CM(i),i.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(i,e,t){if(!t)throw new ye(oe.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function DM(i,e,t,s){if(e===!0&&s===!0)throw new ye(oe.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function z0(i){if(!ve.isDocumentKey(i))throw new ye(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Eg(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Se(12329,{type:typeof i})}function Js(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ye(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Eg(i);throw new ye(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA="firestore.googleapis.com",q0=!0;class H0{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dA,this.ssl=q0}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:q0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Gb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<n4)throw new ye(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fA((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ye(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ye(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ye(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tg{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new H0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new H0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new xN;switch(s.type){case"firstParty":return new kN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ye(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,Hh("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=B0.get(t);s&&(fe("ComponentProvider","Removing Datastore"),B0.delete(t),s.terminate())}(this),Promise.resolve()}}function NM(i,e,t,s={}){var o;i=Js(i,Tg);const l=ou(e),h=i._getSettings(),m=Object.assign(Object.assign({},h),{emulatorOptions:i._getEmulatorOptions()}),g=`${e}:${t}`;h.host!==dA&&h.host!==g&&io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},h),{host:g,ssl:l,emulatorOptions:s});if(!$s(p,m)&&(i._setSettings(p),l&&(fS(`https://${g}`),Hh("Firestore",!0)),s.mockUserToken)){let _,T;if(typeof s.mockUserToken=="string")_=s.mockUserToken,T=en.MOCK_USER;else{_=r2(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ye(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new en(S)}i._authCredentials=new MN(new ib(_,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Sg(this.firestore,e,this._query)}}class Cn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Cn(this.firestore,e,this._key)}}class tu extends Sg{constructor(e,t,s){super(e,t,ng(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Cn(this.firestore,null,new ve(e))}withConverter(e){return new tu(this.firestore,e,this._path)}}function bg(i,e,...t){if(i=un(i),arguments.length===1&&(e=sb.newId()),OM("doc","path",e),i instanceof Tg){const s=mt.fromString(e,...t);return z0(s),new Cn(i,null,new ve(s))}{if(!(i instanceof Cn||i instanceof tu))throw new ye(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(mt.fromString(e,...t));return z0(s),new Cn(i.firestore,i instanceof tu?i.converter:null,new ve(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="AsyncQueue";class G0{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new Yb(this,"async_queue_retry"),this.ju=()=>{const s=xm();s&&fe(F0,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=e;const t=xm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=xm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new Kr;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!vo(e))throw e;fe(F0,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(s=>{throw this.Ku=s,this.Wu=!1,ar("INTERNAL UNHANDLED ERROR: ",$0(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=t,t}enqueueAfterDelay(e,t,s){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const o=pg.createAndSchedule(this,e,t,s,l=>this.Xu(l));return this.Uu.push(o),o}Ju(){this.Ku&&Se(47125,{ec:$0(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function $0(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class of extends Tg{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new G0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new G0(e),this._firestoreClient=void 0,await e}}}function xM(i,e){const t=typeof i=="object"?i:gS(),s=typeof i=="string"?i:Th,o=Lp(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=n2("firestore");l&&NM(o,...l)}return o}function mA(i){if(i._terminated)throw new ye(oe.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||MM(i),i._firestoreClient}function MM(i){var e,t,s;const o=i._freezeSettings(),l=function(m,g,p,_){return new JN(m,g,p,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,fA(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new AM(i._authCredentials,i._appCheckCredentials,i._queue,l,i._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new uo(Kt.fromBase64String(e))}catch(t){throw new ye(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new uo(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ye(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ye(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ye(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM=/^__.*__$/;class PM{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new ts(e,this.data,this.fieldMask,t,this.fieldTransforms):new du(e,this.data,t,this.fieldTransforms)}}class pA{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new ts(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function gA(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{oc:i})}}class Cg{constructor(e,t,s,o,l,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this._c(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Cg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ac({path:s,cc:!1});return o.lc(e),o}hc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ac({path:s,cc:!1});return o._c(),o}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Nh(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(gA(this.oc)&&VM.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class kM{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||rf(e)}dc(e,t,s,o=!1){return new Cg({oc:e,methodName:t,Ec:s,path:$t.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yA(i){const e=i._freezeSettings(),t=rf(i._databaseId);return new kM(i._databaseId,!!e.ignoreUndefinedProperties,t)}function UM(i,e,t,s,o,l={}){const h=i.dc(l.merge||l.mergeFields?2:0,e,t,o);Ig("Data must be an object, but it was:",h,s);const m=_A(s,h);let g,p;if(l.merge)g=new Rn(h.fieldMask),p=h.fieldTransforms;else if(l.mergeFields){const _=[];for(const T of l.mergeFields){const S=_p(e,T,t);if(!h.contains(S))throw new ye(oe.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);EA(_,S)||_.push(S)}g=new Rn(_),p=h.fieldTransforms.filter(T=>g.covers(T.field))}else g=null,p=h.fieldTransforms;return new PM(new mn(m),g,p)}class uf extends Ag{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof uf}}function LM(i,e,t,s){const o=i.dc(1,e,t);Ig("Data must be an object, but it was:",o,s);const l=[],h=mn.empty();es(s,(g,p)=>{const _=Og(e,g,t);p=un(p);const T=o.hc(_);if(p instanceof uf)l.push(_);else{const S=cf(p,T);S!=null&&(l.push(_),h.set(_,S))}});const m=new Rn(l);return new pA(h,m,o.fieldTransforms)}function jM(i,e,t,s,o,l){const h=i.dc(1,e,t),m=[_p(e,s,t)],g=[o];if(l.length%2!=0)throw new ye(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<l.length;S+=2)m.push(_p(e,l[S])),g.push(l[S+1]);const p=[],_=mn.empty();for(let S=m.length-1;S>=0;--S)if(!EA(p,m[S])){const I=m[S];let R=g[S];R=un(R);const k=h.hc(I);if(R instanceof uf)p.push(I);else{const O=cf(R,k);O!=null&&(p.push(I),_.set(I,O))}}const T=new Rn(p);return new pA(_,T,h.fieldTransforms)}function cf(i,e){if(vA(i=un(i)))return Ig("Unsupported field value:",e,i),_A(i,e);if(i instanceof Ag)return function(s,o){if(!gA(o.oc))throw o.Tc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(s,o){const l=[];let h=0;for(const m of s){let g=cf(m,o.Pc(h));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),h++}return{arrayValue:{values:l}}}(i,e)}return function(s,o){if((s=un(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Tx(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Dt.fromDate(s);return{timestampValue:Ch(o.serializer,l)}}if(s instanceof Dt){const l=new Dt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ch(o.serializer,l)}}if(s instanceof wg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof uo)return{bytesValue:Lb(o.serializer,s._byteString)};if(s instanceof Cn){const l=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(l))throw o.Tc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ag(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Rg)return function(h,m){return{mapValue:{fields:{[db]:{stringValue:mb},[Sh]:{arrayValue:{values:h.toArray().map(p=>{if(typeof p!="number")throw m.Tc("VectorValues must only contain numeric values.");return ig(m.serializer,p)})}}}}}}(s,o);throw o.Tc(`Unsupported field value: ${Eg(s)}`)}(i,e)}function _A(i,e){const t={};return ob(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):es(i,(s,o)=>{const l=cf(o,e.uc(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function vA(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Dt||i instanceof wg||i instanceof uo||i instanceof Cn||i instanceof Ag||i instanceof Rg)}function Ig(i,e,t){if(!vA(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=Eg(t);throw s==="an object"?e.Tc(i+" a custom object"):e.Tc(i+" "+s)}}function _p(i,e,t){if((e=un(e))instanceof lf)return e._internalPath;if(typeof e=="string")return Og(i,e);throw Nh("Field path arguments must be of type string or ",i,!1,void 0,t)}const BM=new RegExp("[~\\*/\\[\\]]");function Og(i,e,t){if(e.search(BM)>=0)throw Nh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new lf(...e.split("."))._internalPath}catch{throw Nh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Nh(i,e,t,s,o){const l=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(l||h)&&(g+=" (found",l&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new ye(oe.INVALID_ARGUMENT,m+i+g)}function EA(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(SA("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class zM extends TA{data(){return super.data()}}function SA(i,e){return typeof e=="string"?Og(i,e):e instanceof lf?e._internalPath:e._delegate._internalPath}class qM{convertValue(e,t="none"){switch(Jr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return es(e,(o,l)=>{s[o]=this.convertValue(l,t)}),s}convertVectorValue(e){var t,s,o;const l=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Sh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>_t(h.doubleValue));return new Rg(l)}convertGeoPoint(e){return new wg(_t(e.latitude),_t(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Xh(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Xl(e));default:return null}}convertTimestamp(e){const t=Yr(e);return new Dt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=mt.fromString(e);$e(Fb(s),9688,{name:e});const o=new Jl(s.get(1),s.get(3)),l=new ve(s.popFirst(5));return o.isEqual(t)||ar(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(i,e,t){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bA extends TA{constructor(e,t,s,o,l,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new GM(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(SA("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class GM extends bA{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(i){i=Js(i,Cn);const e=Js(i.firestore,of);return IM(mA(e),i._key).then(t=>KM(e,i,t))}class $M extends qM{constructor(e){super(),this.firestore=e}convertBytes(e){return new uo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Cn(this.firestore,null,t)}}function AA(i,e,t){i=Js(i,Cn);const s=Js(i.firestore,of),o=HM(i.converter,e);return RA(s,[UM(yA(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,Ei.none())])}function wA(i,e,t,...s){i=Js(i,Cn);const o=Js(i.firestore,of),l=yA(o);let h;return h=typeof(e=un(e))=="string"||e instanceof lf?jM(l,"updateDoc",i._key,e,t,s):LM(l,"updateDoc",i._key,e),RA(o,[h.toMutation(i._key,Ei.exists(!0))])}function RA(i,e){return function(s,o){const l=new Kr;return s.asyncQueue.enqueueAndForget(async()=>mM(await RM(s),o,l)),l.promise}(mA(i),e)}function KM(i,e,t){const s=t.docs.get(e._key),o=new $M(i);return new bA(i,o,e._key,s,new FM(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){yo=o})(po),to(new Ks("firestore",(s,{instanceIdentifier:o,options:l})=>{const h=s.getProvider("app").getImmediate(),m=new of(new VN(s.getProvider("auth-internal")),new UN(h,s.getProvider("app-check-internal")),function(p,_){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ye(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jl(p.options.projectId,_)}(h,o),h);return l=Object.assign({useFetchStreams:t},l),m._setSettings(l),m},"PUBLIC").setMultipleInstances(!0)),Gr(ZE,WE,e),Gr(ZE,WE,"esm2017")})();const QM={apiKey:"AIzaSyCaOXVQBInbDeEjRi_Lh9wNMDAUbzr5haI",authDomain:"pokemusic-66466.firebaseapp.com",projectId:"pokemusic-66466",storageBucket:"pokemusic-66466.firebasestorage.app",messagingSenderId:"314396825718",appId:void 0},CA=pS(QM),yu=YS(CA),Ng=xM(CA);async function YM(i){const e=bg(Ng,"users",i),t=await Dg(e);return console.log(t),t.exists()}function To(){const[i,e]=j.useState(null),[t,s]=j.useState(!0);return j.useEffect(()=>Gh(yu,l=>{e(l),s(!1)}),[]),{user:i,loading:t}}function XM(){const{user:i,loading:e}=To(),t=zn();et.useEffect(()=>{e||t(i?"/dashboard":"/login")},[i,e,t]);const s=async()=>{const o=new Wi;try{await BD(yu,o)}catch(l){console.error(l)}};return e?x.jsx("div",{children:"Loading..."}):x.jsx("div",{children:x.jsx("button",{onClick:s,children:"Login with Google"})})}const K0="c064b73182fe4b309592c4d6a2c10f26",Vm="https://pokemusic-66466.web.app/choose-username";function JM(i){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=window.crypto.getRandomValues(new Uint32Array(i));return Array.from(t).map(s=>e[s%e.length]).join("")}async function ZM(i){const e=await window.crypto.subtle.digest("SHA-256",new TextEncoder().encode(i));return btoa(String.fromCharCode(...new Uint8Array(e))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function So(){const[i,e]=j.useState(()=>localStorage.getItem("spotify_token")),t=j.useCallback(async()=>{const s=JM(128),o=await ZM(s);localStorage.setItem("spotify_code_verifier",s);const l=new URLSearchParams({client_id:K0,response_type:"code",redirect_uri:Vm,code_challenge_method:"S256",code_challenge:o,scope:"user-read-email playlist-read-private user-top-read user-read-recently-played playlist-read-collaborative user-follow-read user-follow-modify"});window.location.href=`https://accounts.spotify.com/authorize?${l}`},[]);return j.useEffect(()=>{const o=new URLSearchParams(window.location.search).get("code"),l=localStorage.getItem("spotify_code_verifier");o&&l&&(async()=>{var h;try{const m=new URLSearchParams({grant_type:"authorization_code",code:o,redirect_uri:Vm,client_id:K0,code_verifier:l}),{data:g}=await Me.post("https://accounts.spotify.com/api/token",m),p=g.access_token;localStorage.setItem("spotify_token",p),e(p);const _=await Me.get("https://api.spotify.com/v1/me",{headers:{Authorization:`Bearer ${p}`}}),T=_.data.id;Gh(yu,async S=>{if(!S)return;const I=bg(Ng,"users",S.uid),R=await Dg(I),k={spotifyId:T,spotifyToken:p,spotifyName:_.data.display_name,linkedAt:new Date};R.exists()?await wA(I,k):await AA(I,{username:"",...k})}),window.history.replaceState({},document.title,Vm)}catch(m){console.error("Error Spotify token:",m),((h=m.response)==null?void 0:h.status)===401&&(localStorage.removeItem("spotify_token"),t())}})()},[t]),{token:i,login:t}}const WM="/assets/gengar-CV58Ev6d.gif",eV="/assets/pokebutton-gwRWC3kt.png";function Pm(){const i=zn(),{user:e,loading:t}=To(),{token:s,login:o}=So();return t?x.jsx("p",{className:"text-center mt-5",children:"Cargando…"}):!!e&&!!s?x.jsx(Bm,{fluid:!0,className:"home-container",children:x.jsx(VT,{className:"home-row",children:x.jsx(wT,{md:{span:8,offset:2},children:x.jsxs("div",{className:"welcome-box d-flex align-items-center justify-content-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"welcome-text typing-container",children:"Bienvenido al cuartel del Equipo Rocket"}),x.jsx("p",{className:"welcome-subtext ",children:"¡Prepárate para capturar toda la música!"}),x.jsx("div",{className:"loader pokeball-loader",children:x.jsx(jm,{variant:"link",onClick:()=>i("/dashboard"),className:"pokeball-btn mt-3",children:x.jsx("img",{src:eV,alt:"Ir al Dashboard"})})})]}),x.jsx(aE,{className:"gengar-card",children:x.jsx(aE.Img,{className:"gengar-img",src:WM,alt:"Gengar animado"})})]})})})}):x.jsxs(Bm,{fluid:!0,className:"home-container",children:[x.jsx("h1",{children:"Bienvenido a RocketMusic"}),x.jsx("p",{children:"Inicia sesión para explorar y empezar a escuchar música."}),x.jsx(jm,{variant:"primary",onClick:o,className:"mt-3",children:"Iniciar sesión con Spotify"})]})}function tV(){const i=zn(),{user:e,loading:t}=To(),{token:s,login:o}=So(),[l,h]=et.useState(null),[m,g]=et.useState([]),[p,_]=et.useState(!0),[T,S]=et.useState(null);return et.useEffect(()=>{!t&&!e&&i("/login")},[t,e,i]),et.useEffect(()=>{if(!s){_(!1);return}_(!0);const I={Authorization:`Bearer ${s}`};(async()=>{var R;try{const{data:k}=await Me.get("https://api.spotify.com/v1/me",{headers:I});h(k);const{data:O}=await Me.get("https://api.spotify.com/v1/browse/new-releases?limit=5",{headers:I});g(O.albums.items||[])}catch(k){((R=k.response)==null?void 0:R.status)===401?(localStorage.removeItem("spotify_token"),o()):(console.error("Error al cargar datos de Spotify:",k),S(k))}finally{_(!1)}})()},[s,o]),t||p?x.jsx("p",{children:"Cargando dashboard…"}):s?T||!l?x.jsxs("div",{children:[x.jsx("p",{children:"Hubo un error al obtener tu perfil de Spotify."}),x.jsx("button",{onClick:o,children:"Reintentar Vinculación"})]}):x.jsxs("div",{children:[x.jsxs("h1",{children:["🎧 Bienvenido/a, ",l.display_name]}),x.jsx("button",{onClick:()=>i("/profile"),children:"👤 Mi perfil"}),x.jsx("h2",{children:"🎲 Playlists Destacadas"}),m.length===0?x.jsx("p",{children:"No hay playlists para mostrar."}):m.map(I=>{var R;return x.jsxs("div",{style:{marginBottom:20},children:[x.jsx("img",{src:(R=I.images[0])==null?void 0:R.url,alt:I.name,width:150,height:150}),x.jsx("h3",{children:I.name}),x.jsx("a",{href:I.external_urls.spotify,target:"_blank",rel:"noreferrer",children:"➕ Escuchar en Spotify"})]},I.id)})]}):x.jsxs("div",{children:[x.jsx("p",{children:"No tienes un token de Spotify."}),x.jsx("button",{onClick:o,children:"Vincular Spotify"})]})}function nV(){var H,re;const i=zn(),{user:e,loading:t}=To(),{token:s,login:o}=So(),[l,h]=et.useState(null),[m,g]=et.useState(null),[p,_]=et.useState([]),[T,S]=et.useState([]),[I,R]=et.useState([]),[k,O]=et.useState(!0),[q,J]=et.useState(null);return et.useEffect(()=>{!t&&!e&&i("/login")},[t,e,i]),et.useEffect(()=>{if(!s){O(!1);return}O(!0);const ee={Authorization:`Bearer ${s}`};(async()=>{var ae,D;try{const[w,C,V,L]=await Promise.all([Me.get("https://api.spotify.com/v1/me",{headers:ee}),Me.get("https://api.spotify.com/v1/me/playlists?limit=1",{headers:ee}),Me.get("https://api.spotify.com/v1/me/top/artists?limit=5",{headers:ee}),Me.get("https://api.spotify.com/v1/me/player/recently-played?limit=5",{headers:ee})]);h(w.data),g(C.data.total),_(V.data.items),S(L.data.items);const B={};V.data.items.forEach(ot=>ot.genres.forEach(tt=>B[tt]=(B[tt]||0)+1));const M=Object.entries(B).sort(([,ot],[,tt])=>tt-ot).slice(0,3).map(([ot])=>ot);R(M)}catch(w){((ae=w.response)==null?void 0:ae.status)===401||((D=w.response)==null?void 0:D.status)===403?(localStorage.removeItem("spotify_token"),o()):(console.error("Error Spotify:",w),J(w))}finally{O(!1)}})()},[s,o]),t||k?x.jsx("p",{children:"Cargando perfil…"}):s?q||!l?x.jsxs("div",{children:[x.jsx("p",{children:"Error al cargar tus datos de Spotify."}),x.jsx("button",{onClick:o,children:"Reintentar"})]}):x.jsxs("div",{children:[x.jsxs("h1",{children:["🎧 Hola, ",l.display_name]}),x.jsx("img",{src:((re=(H=l.images)==null?void 0:H[0])==null?void 0:re.url)||"https://www.pokemon.com/static-assets/content-assets/cms2/img/pokedex/full/001.png",alt:"Avatar",width:150,style:{borderRadius:"50%",margin:"1rem 0"}}),x.jsxs("p",{children:["📧 ",l.email]}),x.jsxs("p",{children:["🆔 ",l.id]}),x.jsxs("p",{children:["🎵 Playlists: ",m]}),x.jsx("h3",{children:"👩‍🎤 Tus artistas top"}),x.jsx("ul",{children:p.map(ee=>x.jsx("li",{children:ee.name},ee.id))}),x.jsx("h3",{children:"🎼 Géneros favoritos"}),x.jsx("ul",{children:I.map((ee,ae)=>x.jsx("li",{children:ee},ae))}),x.jsx("h3",{children:"🕘 Reproducciones recientes"}),x.jsx("ul",{children:T.map((ee,ae)=>{var D;return x.jsxs("li",{children:[ee.track.name," — ",(D=ee.track.artists[0])==null?void 0:D.name]},ae)})}),x.jsx("button",{onClick:()=>i("/my-playlists"),children:"📂 Ver mis playlists"}),x.jsx("br",{}),x.jsx("br",{}),x.jsx("a",{href:"https://www.spotify.com/account/profile/",target:"_blank",rel:"noreferrer",children:"✏️ Editar perfil en Spotify"})]}):x.jsxs("div",{children:[x.jsx("p",{children:"No estás vinculado a Spotify."}),x.jsx("button",{onClick:o,children:"Vincular cuenta"})]})}function iV(){const i=zn(),e=YS(),t=j.useCallback(async()=>{if(Object.keys(localStorage).filter(l=>l.startsWith("firebase")).forEach(l=>localStorage.removeItem(l)),sessionStorage.clear(),window.indexedDB){const l=indexedDB.deleteDatabase("firebaseLocalStorageDb");l.onsuccess=()=>console.log("✅ IndexedDB limpiada"),l.onerror=()=>console.warn("⚠️ No se pudo limpiar IndexedDB")}},[]),s=j.useCallback(()=>{const l=window.open("https://accounts.google.com/Logout","_blank","width=500,height=600"),h=window.open("https://accounts.spotify.com/logout","_blank","width=500,height=600");setTimeout(()=>{l==null||l.close(),h==null||h.close()},3e3)},[]);return j.useCallback(async()=>{try{await ED(e),await t(),s(),i("/login")}catch(l){console.error("❌ Error cerrando sesión:",l)}},[e,t,s,i])}function rV(){const[i,e]=j.useState(!0),t=iV();return i?x.jsxs("div",{children:[x.jsx("p",{children:"¿Cerrar sesión?"}),x.jsx("button",{onClick:()=>{e(!1),t()},children:"✅ Sí, cerrar sesión"}),x.jsx("button",{onClick:()=>window.location.href="/dashboard",children:"❌ No, volver"})]}):x.jsx("p",{children:"Cerrando sesión…"})}function sV(){return x.jsx("div",{children:"PublicProfileView"})}function aV({children:i,onUserLoggedIn:e,onUserNotLoggedIn:t,onUserNotRegistered:s}){const o=zn(),[l,h]=j.useState(null),[m,g]=j.useState(0);return j.useEffect(()=>{g(1),Gh(yu,async p=>{p?await YM(p.uid)?e(p):s(p):(t(),console.log("No user is signed in"))})},[o,e,t,s]),x.jsx("div",{children:i})}function oV(){const i=zn(),[e,t]=j.useState(0),[s,o]=j.useState(null),[l,h]=j.useState(""),[m,g]=j.useState(null);j.useEffect(()=>{const re=new URLSearchParams(window.location.search).get("code"),ee=localStorage.getItem("spotify_code_verifier");if(re&&ee)(async()=>{try{const D=new URLSearchParams({grant_type:"authorization_code",code:re,redirect_uri:_,client_id:p,code_verifier:ee}),{data:w}=await Me.post("https://accounts.spotify.com/api/token",D.toString(),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}),C=w.access_token;localStorage.setItem("spotify_token",C),g(C),console.log("✅ Access token obtenido:",C),S(C),window.history.replaceState({},document.title,_)}catch(D){console.error("❌ Error al intercambiar el código por el token:",D.response||D)}})();else{const ae=localStorage.getItem("spotify_token");ae&&g(ae)}},[]);const p="c064b73182fe4b309592c4d6a2c10f26",_="https://pokemusic-66466.web.app/choose-username";async function T(){const H=O(128),re=await q(H);localStorage.setItem("spotify_code_verifier",H);const ee=new URLSearchParams({client_id:p,response_type:"code",redirect_uri:_,code_challenge_method:"S256",code_challenge:re,scope:"user-read-email playlist-read-private user-top-read user-read-recently-played"});window.location.href=`https://accounts.spotify.com/authorize?${ee.toString()}`}async function S(H){var re;console.log("🚀 Entrando a saveSpotifyToken con token:",H);try{const ee=await Me.get("https://api.spotify.com/v1/me",{headers:{Authorization:`Bearer ${H}`}}),ae=ee.data.id;Gh(yu,async D=>{if(D){const w=bg(Ng,"users",D.uid),C=await Dg(w),V={spotifyId:ae,spotifyToken:H,spotifyName:ee.data.display_name,linkedAt:new Date};C.exists()?(await wA(w,V),console.log("✅ Spotify token actualizado exitosamente")):(await AA(w,{username:"",...V}),console.log("✅ Documento creado con token de Spotify"))}})}catch(ee){((re=ee.response)==null?void 0:re.status)===401?(console.warn("⛔ Token expirado. Redirigiendo a login..."),localStorage.removeItem("spotify_token"),T()):console.error("❌ Error al guardar token de Spotify:",ee)}}function I(H){i("/dashboard")}function R(H){i("/login")}function k(H){o(H),t(3)}function O(H){const re="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let ee="";const ae=window.crypto.getRandomValues(new Uint32Array(H));for(let D=0;D<H;D++)ee+=re[ae[D]%re.length];return ee}async function q(H){const ee=new TextEncoder().encode(H),ae=await window.crypto.subtle.digest("SHA-256",ee);return btoa(String.fromCharCode(...new Uint8Array(ae))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function J(){}return e===3?x.jsxs("div",{children:[x.jsxs("h1",{children:["Bienvenido ",s.displayName]}),x.jsx("div",{children:x.jsx("button",{onClick:J,children:"Continuar"})}),m?x.jsx("p",{children:"🎶 Cuenta de Spotify vinculada correctamente"}):x.jsx("button",{onClick:T,children:"Vincular cuenta de Spotify"})]}):x.jsx(aV,{onUserLoggedIn:I,onUserNotLoggedIn:R,onUserNotRegistered:k,children:x.jsx("div",{children:"Loading..."})})}function lV(){const i=zn();return j.useEffect(()=>{var s;const t=(s=window.location.hash.substring(1).split("&").find(o=>o.startsWith("access_token")))==null?void 0:s.split("=")[1];t?(localStorage.setItem("spotify_token",t),console.log("🎧 Token guardado:",t)):console.warn("No se encontró el token en el hash"),i("/spotify-login")},[]),x.jsx("p",{children:"Procesando login con Spotify..."})}function uV(){const i=zn(),{user:e,loading:t}=To(),{token:s,login:o}=So(),[l,h]=et.useState([]),[m,g]=et.useState(!0),[p,_]=et.useState(null);return et.useEffect(()=>{!t&&!e&&i("/login")},[t,e,i]),et.useEffect(()=>{if(!s){g(!1);return}g(!0),_(null),(async()=>{var T,S;try{const{data:I}=await Me.get("https://api.spotify.com/v1/me/playlists",{headers:{Authorization:`Bearer ${s}`}});h(I.items)}catch(I){((T=I.response)==null?void 0:T.status)===401||((S=I.response)==null?void 0:S.status)===403?(localStorage.removeItem("spotify_token"),o()):(console.error("Error al cargar playlists:",I),_(I))}finally{g(!1)}})()},[s,o]),t||m?x.jsx("p",{children:"Cargando playlists…"}):s?p?x.jsxs("div",{children:[x.jsx("p",{children:"Error al cargar tus playlists."}),x.jsx("button",{onClick:o,children:"Reintentar vinculación"})]}):x.jsxs("div",{children:[x.jsx("h1",{children:"🎵 Mis playlists"}),l.length===0?x.jsx("p",{children:"No se encontraron playlists."}):l.map(T=>{var S,I;return x.jsxs("div",{style:{marginBottom:20},children:[x.jsx("img",{src:((I=(S=T.images)==null?void 0:S[0])==null?void 0:I.url)||"https://via.placeholder.com/150",alt:T.name,width:150}),x.jsx("h3",{children:T.name}),x.jsx("a",{href:T.external_urls.spotify,target:"_blank",rel:"noreferrer",children:"▶️ Ver en Spotify"}),x.jsx("br",{}),x.jsx(Rp,{to:`/playlist/${T.id}`,children:"🧐 Ver detalles"})]},T.id)})]}):x.jsxs("div",{children:[x.jsx("p",{children:"No estás vinculado a Spotify."}),x.jsx("button",{onClick:o,children:"Vincular cuenta"})]})}function cV(){const[i,e]=j.useState([]),[t,s]=j.useState(""),[o,l]=j.useState([]),[h,m]=j.useState({}),[g,p]=j.useState(!1),{token:_,login:T}=So(),S=O=>{const q=O.slice();for(let J=q.length-1;J>0;J--){const H=Math.floor(Math.random()*(J+1));[q[J],q[H]]=[q[H],q[J]]}return q};j.useEffect(()=>{if(!_)return;(async()=>{var q,J;p(!0);try{const re=((q=(await Me.get("https://api.spotify.com/v1/search",{headers:{Authorization:`Bearer ${_}`},params:{q:"top",type:"artist",limit:50}})).data.artists)==null?void 0:q.items)||[],ee=S(re).slice(0,20).map(V=>{var L,B;return{id:V.id,name:V.name,img:((B=(L=V.images)==null?void 0:L[0])==null?void 0:B.url)||null,profileUrl:V.external_urls.spotify}}),ae=ee.map(V=>V.id).join(","),w=(await Me.get("https://api.spotify.com/v1/me/following/contains",{headers:{Authorization:`Bearer ${_}`},params:{type:"artist",ids:ae}})).data,C={};ee.forEach((V,L)=>{C[V.id]=w[L]}),m(C),e(ee)}catch(H){console.error("Error cargando artistas:",H),((J=H.response)==null?void 0:J.status)===401&&T()}finally{p(!1)}})()},[_]);const I=async O=>{var q;if(O.preventDefault(),!_)return T();p(!0);try{const H=((q=(await Me.get("https://api.spotify.com/v1/search",{headers:{Authorization:`Bearer ${_}`},params:{q:t,type:"artist",limit:10}})).data.artists)==null?void 0:q.items)||[];l(H.map(re=>{var ee,ae;return{id:re.id,name:re.name,img:((ae=(ee=re.images)==null?void 0:ee[0])==null?void 0:ae.url)||null,profileUrl:re.external_urls.spotify}}))}catch(J){console.error("Error en búsqueda de artistas:",J)}finally{p(!1)}},R=async O=>{try{await Me.put("https://api.spotify.com/v1/me/following",{},{headers:{Authorization:`Bearer ${_}`},params:{type:"artist",ids:O}}),m(q=>({...q,[O]:!0}))}catch(q){console.error("Error siguiendo artista:",q)}},k=async O=>{try{await Me.delete("https://api.spotify.com/v1/me/following",{headers:{Authorization:`Bearer ${_}`},params:{type:"artist",ids:O}}),m(q=>({...q,[O]:!1}))}catch(q){console.error("Error dejando de seguir artista:",q)}};return _?x.jsxs("div",{style:{padding:16},children:[x.jsx("h1",{children:"🎶 Descubre Artistas"}),x.jsx("button",{onClick:()=>window.location.reload(),disabled:g,style:{marginBottom:16},children:"🔄 Aleatorio"}),g?x.jsx("p",{children:"Cargando…"}):x.jsx("ul",{children:i.map(O=>x.jsxs("li",{style:{margin:"1rem 0"},children:[x.jsx("img",{src:O.img||"https://placehold.co/64",alt:O.name,width:64,height:64,style:{borderRadius:32,marginRight:12}}),x.jsx("strong",{children:O.name}),x.jsx("br",{}),x.jsx("a",{href:O.profileUrl,target:"_blank",rel:"noreferrer",children:"Ver en Spotify"}),x.jsx("br",{}),x.jsx("button",{onClick:()=>h[O.id]?k(O.id):R(O.id),children:h[O.id]?"Dejar de seguir":"Seguir"})]},O.id))}),x.jsx("hr",{style:{margin:"2rem 0"}}),x.jsxs("form",{onSubmit:I,children:[x.jsx("input",{type:"text",value:t,placeholder:"Buscar artistas",onChange:O=>s(O.target.value)}),x.jsx("button",{type:"submit",disabled:g,children:"Buscar"})]}),o.length>0&&x.jsx("ul",{style:{marginTop:16},children:o.map(O=>x.jsxs("li",{children:[x.jsx("strong",{children:O.name})," ",x.jsx("a",{href:O.profileUrl,target:"_blank",rel:"noreferrer",children:"Ver en Spotify"})]},O.id))})]}):x.jsxs("div",{style:{textAlign:"center",marginTop:80},children:[x.jsx("h2",{children:"🔒 Vincula tu cuenta de Spotify para continuar"}),x.jsx("button",{onClick:T,children:"Login Spotify"})]})}function hV(){var H,re,ee;const{playlistId:i}=z1(),e=zn(),{user:t,loading:s}=To(),{token:o,login:l}=So(),[h,m]=et.useState(null),[g,p]=et.useState(!0),[_,T]=et.useState(null),[S,I]=et.useState(null),[R,k]=et.useState(null);et.useEffect(()=>{!s&&!t&&e("/login")},[s,t,e]),et.useEffect(()=>{if(!o){p(!1);return}p(!0),T(null),(async()=>{var ae,D;try{const{data:w}=await Me.get(`https://api.spotify.com/v1/playlists/${i}?market=US`,{headers:{Authorization:`Bearer ${o}`}});m(w)}catch(w){((ae=w.response)==null?void 0:ae.status)===401||((D=w.response)==null?void 0:D.status)===403?(localStorage.removeItem("spotify_token"),l()):(console.error("Error fetching playlist:",w),T(w))}finally{p(!1)}})()},[i,o,l]);function O(ae){if(!ae.preview_url)return;if(S&&R===ae.id){S.pause(),k(null);return}S&&S.pause();const D=new Audio(ae.preview_url);D.play(),I(D),k(ae.id),D.onended=()=>k(null)}if(s||g)return x.jsx("p",{children:"Cargando playlist…"});if(!o)return x.jsxs("div",{children:[x.jsx("p",{children:"❓ Necesitas vincular tu cuenta de Spotify."}),x.jsx("button",{onClick:l,children:"Vincular cuenta"})]});if(_)return x.jsxs("div",{children:[x.jsx("p",{children:"Error al cargar la playlist."}),x.jsx("button",{onClick:l,children:"Reintentar"})]});if(!h)return x.jsx("p",{children:"No se encontró la playlist."});const q=h.tracks.items.map(ae=>ae.track).filter(Boolean),J=q.filter(ae=>ae.preview_url).length;return x.jsxs("div",{children:[x.jsx("button",{onClick:()=>e(-1),children:"← Volver"}),x.jsx("img",{src:((re=(H=h.images)==null?void 0:H[0])==null?void 0:re.url)||"https://placehold.co/300x300?text=Sin+imagen",alt:"Cover",width:200}),x.jsx("h1",{children:h.name}),x.jsx("p",{children:h.description||"Sin descripción disponible"}),x.jsxs("p",{children:["👥 Seguidores: ",((ee=h.followers)==null?void 0:ee.total)??0]}),x.jsxs("p",{children:["🎶 Total canciones: ",h.tracks.total]}),x.jsxs("p",{children:["🎧 Canciones con preview: ",J,"/",h.tracks.items.length]}),x.jsx("ul",{children:q.map(ae=>{var D,w,C;return x.jsxs("li",{style:{marginBottom:"1rem"},children:[x.jsx("strong",{children:ae.name})," — ",((w=(D=ae.artists)==null?void 0:D[0])==null?void 0:w.name)||"Desconocido",x.jsx("br",{}),"Álbum: ",((C=ae.album)==null?void 0:C.name)||"Desconocido",x.jsx("br",{}),"⏱"," ",`${Math.floor(ae.duration_ms/6e4)}:${String(Math.floor(ae.duration_ms%6e4/1e3)).padStart(2,"0")}`,x.jsx("br",{}),ae.preview_url?x.jsx("button",{onClick:()=>O(ae),children:R===ae.id?"⏸️ Pausar":"▶️ Reproducir preview"}):x.jsx("iframe",{title:`Spotify embed ${ae.id}`,src:`https://open.spotify.com/embed/track/${ae.id}`,width:"300",height:"80",frameBorder:"0",allow:"encrypted-media",style:{marginTop:8}})]},ae.id)})})]})}function fV(){return x.jsx(CR,{children:x.jsxs(iR,{children:[x.jsxs(Wt,{path:"/",element:x.jsx(gC,{}),children:[x.jsx(Wt,{index:!0,element:x.jsx(Pm,{})}),x.jsx(Wt,{path:"home",element:x.jsx(Pm,{})}),x.jsx(Wt,{path:"dashboard",element:x.jsx(tV,{})}),x.jsx(Wt,{path:"profile",element:x.jsx(nV,{})}),x.jsx(Wt,{path:"signout",element:x.jsx(rV,{})}),x.jsx(Wt,{path:"my-playlists",element:x.jsx(uV,{})}),x.jsx(Wt,{path:"social",element:x.jsx(cV,{})}),x.jsx(Wt,{path:"playlist/:playlistId",element:x.jsx(hV,{})}),x.jsx(Wt,{path:"u/:username",element:x.jsx(sV,{})}),x.jsx(Wt,{path:"choose-username",element:x.jsx(oV,{})})]}),x.jsx(Wt,{path:"login",element:x.jsx(XM,{})}),x.jsx(Wt,{path:"spotify-login",element:x.jsx(KI,{})}),x.jsx(Wt,{path:"callback",element:x.jsx(lV,{})}),x.jsx(Wt,{path:"*",element:x.jsx(Pm,{})})]})})}const dV=l1.createRoot(document.getElementById("root"));dV.render(x.jsx(fV,{}));
