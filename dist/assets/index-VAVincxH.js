(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function _p(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var hm={exports:{}},Dl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H_;function Ww(){if(H_)return Dl;H_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,l){var h=null;if(l!==void 0&&(h=""+l),o.key!==void 0&&(h=""+o.key),"key"in o){l={};for(var m in o)m!=="key"&&(l[m]=o[m])}else l=o;return o=l.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:l}}return Dl.Fragment=e,Dl.jsx=t,Dl.jsxs=t,Dl}var q_;function Zw(){return q_||(q_=1,hm.exports=Ww()),hm.exports}var N=Zw(),fm={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_;function e1(){if(F_)return Ie;F_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function A(P){return P===null||typeof P!="object"?null:(P=T&&P[T]||P["@@iterator"],typeof P=="function"?P:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,k={};function I(P,se,he){this.props=P,this.context=se,this.refs=k,this.updater=he||O}I.prototype.isReactComponent={},I.prototype.setState=function(P,se){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,se,"setState")},I.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function B(){}B.prototype=I.prototype;function J(P,se,he){this.props=P,this.context=se,this.refs=k,this.updater=he||O}var q=J.prototype=new B;q.constructor=J,R(q,I.prototype),q.isPureReactComponent=!0;var re=Array.isArray,ee={H:null,A:null,T:null,S:null,V:null},ae=Object.prototype.hasOwnProperty;function x(P,se,he,le,ge,De){return he=De.ref,{$$typeof:i,type:P,key:se,ref:he!==void 0?he:null,props:De}}function w(P,se){return x(P.type,se,void 0,void 0,void 0,P.props)}function C(P){return typeof P=="object"&&P!==null&&P.$$typeof===i}function M(P){var se={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(he){return se[he]})}var U=/\/+/g;function z(P,se){return typeof P=="object"&&P!==null&&P.key!=null?M(""+P.key):se.toString(36)}function V(){}function ot(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(V,V):(P.status="pending",P.then(function(se){P.status==="pending"&&(P.status="fulfilled",P.value=se)},function(se){P.status==="pending"&&(P.status="rejected",P.reason=se)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function tt(P,se,he,le,ge){var De=typeof P;(De==="undefined"||De==="boolean")&&(P=null);var be=!1;if(P===null)be=!0;else switch(De){case"bigint":case"string":case"number":be=!0;break;case"object":switch(P.$$typeof){case i:case e:be=!0;break;case v:return be=P._init,tt(be(P._payload),se,he,le,ge)}}if(be)return ge=ge(P),be=le===""?"."+z(P,0):le,re(ge)?(he="",be!=null&&(he=be.replace(U,"$&/")+"/"),tt(ge,se,he,"",function(Zn){return Zn})):ge!=null&&(C(ge)&&(ge=w(ge,he+(ge.key==null||P&&P.key===ge.key?"":(""+ge.key).replace(U,"$&/")+"/")+be)),se.push(ge)),1;be=0;var Vt=le===""?".":le+":";if(re(P))for(var it=0;it<P.length;it++)le=P[it],De=Vt+z(le,it),be+=tt(le,se,he,De,ge);else if(it=A(P),typeof it=="function")for(P=it.call(P),it=0;!(le=P.next()).done;)le=le.value,De=Vt+z(le,it++),be+=tt(le,se,he,De,ge);else if(De==="object"){if(typeof P.then=="function")return tt(ot(P),se,he,le,ge);throw se=String(P),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return be}function W(P,se,he){if(P==null)return P;var le=[],ge=0;return tt(P,le,"","",function(De){return se.call(he,De,ge++)}),le}function ce(P){if(P._status===-1){var se=P._result;se=se(),se.then(function(he){(P._status===0||P._status===-1)&&(P._status=1,P._result=he)},function(he){(P._status===0||P._status===-1)&&(P._status=2,P._result=he)}),P._status===-1&&(P._status=0,P._result=se)}if(P._status===1)return P._result.default;throw P._result}var pe=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function qe(){}return Ie.Children={map:W,forEach:function(P,se,he){W(P,function(){se.apply(this,arguments)},he)},count:function(P){var se=0;return W(P,function(){se++}),se},toArray:function(P){return W(P,function(se){return se})||[]},only:function(P){if(!C(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Ie.Component=I,Ie.Fragment=t,Ie.Profiler=o,Ie.PureComponent=J,Ie.StrictMode=s,Ie.Suspense=g,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(P){return ee.H.useMemoCache(P)}},Ie.cache=function(P){return function(){return P.apply(null,arguments)}},Ie.cloneElement=function(P,se,he){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var le=R({},P.props),ge=P.key,De=void 0;if(se!=null)for(be in se.ref!==void 0&&(De=void 0),se.key!==void 0&&(ge=""+se.key),se)!ae.call(se,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&se.ref===void 0||(le[be]=se[be]);var be=arguments.length-2;if(be===1)le.children=he;else if(1<be){for(var Vt=Array(be),it=0;it<be;it++)Vt[it]=arguments[it+2];le.children=Vt}return x(P.type,ge,void 0,void 0,De,le)},Ie.createContext=function(P){return P={$$typeof:h,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:l,_context:P},P},Ie.createElement=function(P,se,he){var le,ge={},De=null;if(se!=null)for(le in se.key!==void 0&&(De=""+se.key),se)ae.call(se,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ge[le]=se[le]);var be=arguments.length-2;if(be===1)ge.children=he;else if(1<be){for(var Vt=Array(be),it=0;it<be;it++)Vt[it]=arguments[it+2];ge.children=Vt}if(P&&P.defaultProps)for(le in be=P.defaultProps,be)ge[le]===void 0&&(ge[le]=be[le]);return x(P,De,void 0,void 0,null,ge)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(P){return{$$typeof:m,render:P}},Ie.isValidElement=C,Ie.lazy=function(P){return{$$typeof:v,_payload:{_status:-1,_result:P},_init:ce}},Ie.memo=function(P,se){return{$$typeof:p,type:P,compare:se===void 0?null:se}},Ie.startTransition=function(P){var se=ee.T,he={};ee.T=he;try{var le=P(),ge=ee.S;ge!==null&&ge(he,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(qe,pe)}catch(De){pe(De)}finally{ee.T=se}},Ie.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},Ie.use=function(P){return ee.H.use(P)},Ie.useActionState=function(P,se,he){return ee.H.useActionState(P,se,he)},Ie.useCallback=function(P,se){return ee.H.useCallback(P,se)},Ie.useContext=function(P){return ee.H.useContext(P)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(P,se){return ee.H.useDeferredValue(P,se)},Ie.useEffect=function(P,se,he){var le=ee.H;if(typeof he=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(P,se)},Ie.useId=function(){return ee.H.useId()},Ie.useImperativeHandle=function(P,se,he){return ee.H.useImperativeHandle(P,se,he)},Ie.useInsertionEffect=function(P,se){return ee.H.useInsertionEffect(P,se)},Ie.useLayoutEffect=function(P,se){return ee.H.useLayoutEffect(P,se)},Ie.useMemo=function(P,se){return ee.H.useMemo(P,se)},Ie.useOptimistic=function(P,se){return ee.H.useOptimistic(P,se)},Ie.useReducer=function(P,se,he){return ee.H.useReducer(P,se,he)},Ie.useRef=function(P){return ee.H.useRef(P)},Ie.useState=function(P){return ee.H.useState(P)},Ie.useSyncExternalStore=function(P,se,he){return ee.H.useSyncExternalStore(P,se,he)},Ie.useTransition=function(){return ee.H.useTransition()},Ie.version="19.1.0",Ie}var G_;function Ep(){return G_||(G_=1,fm.exports=e1()),fm.exports}var j=Ep();const Qe=_p(j);var dm={exports:{}},Nl={},mm={exports:{}},pm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_;function t1(){return K_||(K_=1,function(i){function e(W,ce){var pe=W.length;W.push(ce);e:for(;0<pe;){var qe=pe-1>>>1,P=W[qe];if(0<o(P,ce))W[qe]=ce,W[pe]=P,pe=qe;else break e}}function t(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var ce=W[0],pe=W.pop();if(pe!==ce){W[0]=pe;e:for(var qe=0,P=W.length,se=P>>>1;qe<se;){var he=2*(qe+1)-1,le=W[he],ge=he+1,De=W[ge];if(0>o(le,pe))ge<P&&0>o(De,le)?(W[qe]=De,W[ge]=pe,qe=ge):(W[qe]=le,W[he]=pe,qe=he);else if(ge<P&&0>o(De,pe))W[qe]=De,W[ge]=pe,qe=ge;else break e}}return ce}function o(W,ce){var pe=W.sortIndex-ce.sortIndex;return pe!==0?pe:W.id-ce.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var g=[],p=[],v=1,T=null,A=3,O=!1,R=!1,k=!1,I=!1,B=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function re(W){for(var ce=t(p);ce!==null;){if(ce.callback===null)s(p);else if(ce.startTime<=W)s(p),ce.sortIndex=ce.expirationTime,e(g,ce);else break;ce=t(p)}}function ee(W){if(k=!1,re(W),!R)if(t(g)!==null)R=!0,ae||(ae=!0,z());else{var ce=t(p);ce!==null&&tt(ee,ce.startTime-W)}}var ae=!1,x=-1,w=5,C=-1;function M(){return I?!0:!(i.unstable_now()-C<w)}function U(){if(I=!1,ae){var W=i.unstable_now();C=W;var ce=!0;try{e:{R=!1,k&&(k=!1,J(x),x=-1),O=!0;var pe=A;try{t:{for(re(W),T=t(g);T!==null&&!(T.expirationTime>W&&M());){var qe=T.callback;if(typeof qe=="function"){T.callback=null,A=T.priorityLevel;var P=qe(T.expirationTime<=W);if(W=i.unstable_now(),typeof P=="function"){T.callback=P,re(W),ce=!0;break t}T===t(g)&&s(g),re(W)}else s(g);T=t(g)}if(T!==null)ce=!0;else{var se=t(p);se!==null&&tt(ee,se.startTime-W),ce=!1}}break e}finally{T=null,A=pe,O=!1}ce=void 0}}finally{ce?z():ae=!1}}}var z;if(typeof q=="function")z=function(){q(U)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,ot=V.port2;V.port1.onmessage=U,z=function(){ot.postMessage(null)}}else z=function(){B(U,0)};function tt(W,ce){x=B(function(){W(i.unstable_now())},ce)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(W){W.callback=null},i.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<W?Math.floor(1e3/W):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(W){switch(A){case 1:case 2:case 3:var ce=3;break;default:ce=A}var pe=A;A=ce;try{return W()}finally{A=pe}},i.unstable_requestPaint=function(){I=!0},i.unstable_runWithPriority=function(W,ce){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var pe=A;A=W;try{return ce()}finally{A=pe}},i.unstable_scheduleCallback=function(W,ce,pe){var qe=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?qe+pe:qe):pe=qe,W){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=pe+P,W={id:v++,callback:ce,priorityLevel:W,startTime:pe,expirationTime:P,sortIndex:-1},pe>qe?(W.sortIndex=pe,e(p,W),t(g)===null&&W===t(p)&&(k?(J(x),x=-1):k=!0,tt(ee,pe-qe))):(W.sortIndex=P,e(g,W),R||O||(R=!0,ae||(ae=!0,z()))),W},i.unstable_shouldYield=M,i.unstable_wrapCallback=function(W){var ce=A;return function(){var pe=A;A=ce;try{return W.apply(this,arguments)}finally{A=pe}}}}(pm)),pm}var Y_;function n1(){return Y_||(Y_=1,mm.exports=t1()),mm.exports}var gm={exports:{}},Jt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function i1(){if($_)return Jt;$_=1;var i=Ep();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(g,p,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:g,containerInfo:p,implementation:v}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Jt.createPortal=function(g,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(g,p,null,v)},Jt.flushSync=function(g){var p=h.T,v=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=p,s.p=v,s.d.f()}},Jt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},Jt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Jt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var v=p.as,T=m(v,p.crossOrigin),A=typeof p.integrity=="string"?p.integrity:void 0,O=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:O}):v==="script"&&s.d.X(g,{crossOrigin:T,integrity:A,fetchPriority:O,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Jt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},Jt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,T=m(v,p.crossOrigin);s.d.L(g,v,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Jt.preloadModule=function(g,p){if(typeof g=="string")if(p){var v=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},Jt.requestFormReset=function(g){s.d.r(g)},Jt.unstable_batchedUpdates=function(g,p){return g(p)},Jt.useFormState=function(g,p,v){return h.H.useFormState(g,p,v)},Jt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Jt.version="19.1.0",Jt}var X_;function r1(){if(X_)return gm.exports;X_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),gm.exports=i1(),gm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function s1(){if(Q_)return Nl;Q_=1;var i=n1(),e=Ep(),t=r1();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function h(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(l(n)!==n)throw Error(s(188))}function g(n){var r=n.alternate;if(!r){if(r=l(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,u=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),n;if(d===u)return m(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==u.return)a=f,u=d;else{for(var E=!1,S=f.child;S;){if(S===a){E=!0,a=f,u=d;break}if(S===u){E=!0,u=f,a=d;break}S=S.sibling}if(!E){for(S=d.child;S;){if(S===a){E=!0,a=d,u=f;break}if(S===u){E=!0,u=d,a=f;break}S=S.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function p(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=p(n),r!==null)return r;n=n.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),J=Symbol.for("react.consumer"),q=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function z(n){return n===null||typeof n!="object"?null:(n=U&&n[U]||n["@@iterator"],typeof n=="function"?n:null)}var V=Symbol.for("react.client.reference");function ot(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===V?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case R:return"Fragment";case I:return"Profiler";case k:return"StrictMode";case ee:return"Suspense";case ae:return"SuspenseList";case C:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case O:return"Portal";case q:return(n.displayName||"Context")+".Provider";case J:return(n._context.displayName||"Context")+".Consumer";case re:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case x:return r=n.displayName||null,r!==null?r:ot(n.type)||"Memo";case w:r=n._payload,n=n._init;try{return ot(n(r))}catch{}}return null}var tt=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},qe=[],P=-1;function se(n){return{current:n}}function he(n){0>P||(n.current=qe[P],qe[P]=null,P--)}function le(n,r){P++,qe[P]=n.current,n.current=r}var ge=se(null),De=se(null),be=se(null),Vt=se(null);function it(n,r){switch(le(be,r),le(De,n),le(ge,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?g_(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=g_(r),n=y_(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}he(ge),le(ge,n)}function Zn(){he(ge),he(De),he(be)}function ur(n){n.memoizedState!==null&&le(Vt,n);var r=ge.current,a=y_(r,n.type);r!==a&&(le(De,n),le(ge,a))}function Ci(n){De.current===n&&(he(ge),he(De)),Vt.current===n&&(he(Vt),Rl._currentValue=pe)}var ns=Object.prototype.hasOwnProperty,is=i.unstable_scheduleCallback,rs=i.unstable_cancelCallback,So=i.unstable_shouldYield,vu=i.unstable_requestPaint,In=i.unstable_now,hf=i.unstable_getCurrentPriorityLevel,bo=i.unstable_ImmediatePriority,ta=i.unstable_UserBlockingPriority,ss=i.unstable_NormalPriority,ff=i.unstable_LowPriority,na=i.unstable_IdlePriority,wo=i.log,_u=i.unstable_setDisableYieldValue,ht=null,Ye=null;function yn(n){if(typeof wo=="function"&&_u(n),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(ht,n)}catch{}}var Xt=Math.clz32?Math.clz32:as,Eu=Math.log,df=Math.LN2;function as(n){return n>>>=0,n===0?32:31-(Eu(n)/df|0)|0}var os=256,ls=4194304;function Hn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ia(n,r,a){var u=n.pendingLanes;if(u===0)return 0;var f=0,d=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var S=u&134217727;return S!==0?(u=S&~d,u!==0?f=Hn(u):(E&=S,E!==0?f=Hn(E):a||(a=S&~n,a!==0&&(f=Hn(a))))):(S=u&~d,S!==0?f=Hn(S):E!==0?f=Hn(E):a||(a=u&~n,a!==0&&(f=Hn(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function us(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Ro(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Co(){var n=os;return os<<=1,(os&4194048)===0&&(os=256),n}function Io(){var n=ls;return ls<<=1,(ls&62914560)===0&&(ls=4194304),n}function Ii(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Oi(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Oo(n,r,a,u,f,d){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var S=n.entanglements,D=n.expirationTimes,K=n.hiddenUpdates;for(a=E&~a;0<a;){var Z=31-Xt(a),ne=1<<Z;S[Z]=0,D[Z]=-1;var Y=K[Z];if(Y!==null)for(K[Z]=null,Z=0;Z<Y.length;Z++){var $=Y[Z];$!==null&&($.lane&=-536870913)}a&=~ne}u!==0&&ei(n,u,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(E&~r))}function ei(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var u=31-Xt(r);n.entangledLanes|=r,n.entanglements[u]=n.entanglements[u]|1073741824|a&4194090}function xo(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var u=31-Xt(a),f=1<<u;f&r|n[u]&r&&(n[u]|=r),a&=~f}}function cr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ra(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function hr(){var n=ce.p;return n!==0?n:(n=window.event,n===void 0?32:k_(n.type))}function Tu(n,r){var a=ce.p;try{return ce.p=n,r()}finally{ce.p=a}}var st=Math.random().toString(36).slice(2),bt="__reactFiber$"+st,_t="__reactProps$"+st,On="__reactContainer$"+st,Do="__reactEvents$"+st,mf="__reactListeners$"+st,fr="__reactHandles$"+st,Au="__reactResources$"+st,cs="__reactMarker$"+st;function dr(n){delete n[bt],delete n[_t],delete n[Do],delete n[mf],delete n[fr]}function xi(n){var r=n[bt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[On]||a[bt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=T_(n);n!==null;){if(a=n[bt])return a;n=T_(n)}return r}n=a,a=n.parentNode}return null}function ti(n){if(n=n[bt]||n[On]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function ni(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function sn(n){var r=n[Au];return r||(r=n[Au]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function pt(n){n[cs]=!0}var No=new Set,sa={};function qn(n,r){Di(n,r),Di(n+"Capture",r)}function Di(n,r){for(sa[n]=r,n=0;n<r.length;n++)No.add(r[n])}var Su=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bu={},hs={};function wu(n){return ns.call(hs,n)?!0:ns.call(bu,n)?!1:Su.test(n)?hs[n]=!0:(bu[n]=!0,!1)}function mr(n,r,a){if(wu(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function ii(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function zt(n,r,a,u){if(u===null)n.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+u)}}var fs,Ru;function Ni(n){if(fs===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);fs=r&&r[1]||"",Ru=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fs+n+Ru}var aa=!1;function oa(n,r){if(!n||aa)return"";aa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch($){var Y=$}Reflect.construct(n,[],ne)}else{try{ne.call()}catch($){Y=$}n.call(ne.prototype)}}else{try{throw Error()}catch($){Y=$}(ne=n())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch($){if($&&Y&&typeof $.stack=="string")return[$.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=u.DetermineComponentFrameRoot(),E=d[0],S=d[1];if(E&&S){var D=E.split(`
`),K=S.split(`
`);for(f=u=0;u<D.length&&!D[u].includes("DetermineComponentFrameRoot");)u++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(u===D.length||f===K.length)for(u=D.length-1,f=K.length-1;1<=u&&0<=f&&D[u]!==K[f];)f--;for(;1<=u&&0<=f;u--,f--)if(D[u]!==K[f]){if(u!==1||f!==1)do if(u--,f--,0>f||D[u]!==K[f]){var Z=`
`+D[u].replace(" at new "," at ");return n.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",n.displayName)),Z}while(1<=u&&0<=f);break}}}finally{aa=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Ni(a):""}function Vo(n){switch(n.tag){case 26:case 27:case 5:return Ni(n.type);case 16:return Ni("Lazy");case 13:return Ni("Suspense");case 19:return Ni("SuspenseList");case 0:case 15:return oa(n.type,!1);case 11:return oa(n.type.render,!1);case 1:return oa(n.type,!0);case 31:return Ni("Activity");default:return""}}function la(n){try{var r="";do r+=Vo(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function an(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Mo(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function pf(n){var r=Mo(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),u=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,d.call(this,E)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function ua(n){n._valueTracker||(n._valueTracker=pf(n))}function Po(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),u="";return n&&(u=Mo(n)?n.checked?"true":"false":n.value),n=u,n!==a?(r.setValue(n),!0):!1}function ds(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var gf=/[\n"\\]/g;function Et(n){return n.replace(gf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function vn(n,r,a,u,f,d,E,S){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),r!=null?E==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+an(r)):n.value!==""+an(r)&&(n.value=""+an(r)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),r!=null?pr(n,E,an(r)):a!=null?pr(n,E,an(a)):u!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+an(S):n.removeAttribute("name")}function ms(n,r,a,u,f,d,E,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+an(a):"",r=r!=null?""+an(r):a,S||r===n.value||(n.value=r),n.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=S?n.checked:!!u,n.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function pr(n,r,a){r==="number"&&ds(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Vi(n,r,a,u){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&u&&(n[a].defaultSelected=!0)}else{for(a=""+an(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function Je(n,r,a){if(r!=null&&(r=""+an(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+an(a):""}function ps(n,r,a,u){if(r==null){if(u!=null){if(a!=null)throw Error(s(92));if(tt(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),r=a}a=an(r),n.defaultValue=a,u=n.textContent,u===a&&u!==""&&u!==null&&(n.value=u)}function xn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var gs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cu(n,r,a){var u=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":u?n.setProperty(r,a):typeof a!="number"||a===0||gs.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function ko(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&a[f]!==u&&Cu(n,f,u)}else for(var d in r)r.hasOwnProperty(d)&&Cu(n,d,r[d])}function Lo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ca(n){return vf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Mi=null;function Dn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Pi=null,ki=null;function Uo(n){var r=ti(n);if(r&&(n=r.stateNode)){var a=n[_t]||null;e:switch(n=r.stateNode,r.type){case"input":if(vn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Et(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var u=a[r];if(u!==n&&u.form===n.form){var f=u[_t]||null;if(!f)throw Error(s(90));vn(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)u=a[r],u.form===n.form&&Po(u)}break e;case"textarea":Je(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Vi(n,!!a.multiple,r,!1)}}}var ri=!1;function Iu(n,r,a){if(ri)return n(r,a);ri=!0;try{var u=n(r);return u}finally{if(ri=!1,(Pi!==null||ki!==null)&&(Tc(),Pi&&(r=Pi,n=ki,ki=Pi=null,Uo(r),n)))for(r=0;r<n.length;r++)Uo(n[r])}}function ys(n,r){var a=n.stateNode;if(a===null)return null;var u=a[_t]||null;if(u===null)return null;a=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nn=!1;if(Fn)try{var vs={};Object.defineProperty(vs,"passive",{get:function(){Nn=!0}}),window.addEventListener("test",vs,vs),window.removeEventListener("test",vs,vs)}catch{Nn=!1}var si=null,gr=null,Li=null;function jo(){if(Li)return Li;var n,r=gr,a=r.length,u,f="value"in si?si.value:si.textContent,d=f.length;for(n=0;n<a&&r[n]===f[n];n++);var E=a-n;for(u=1;u<=E&&r[a-u]===f[d-u];u++);return Li=f.slice(n,1<u?1-u:void 0)}function ai(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function oi(){return!0}function zo(){return!1}function Mt(n){function r(a,u,f,d,E){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(a=n[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?oi:zo,this.isPropagationStopped=zo,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=oi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=oi)},persist:function(){},isPersistent:oi}),r}var Ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ha=Mt(Ge),_s=v({},Ge,{view:0,detail:0}),Ou=Mt(_s),fa,da,li,Es=v({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ss,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==li&&(li&&n.type==="mousemove"?(fa=n.screenX-li.screenX,da=n.screenY-li.screenY):da=fa=0,li=n),fa)},movementY:function(n){return"movementY"in n?n.movementY:da}}),Vn=Mt(Es),xu=v({},Es,{dataTransfer:0}),_f=Mt(xu),Ts=v({},_s,{relatedTarget:0}),ma=Mt(Ts),Bo=v({},Ge,{animationName:0,elapsedTime:0,pseudoElement:0}),pa=Mt(Bo),Du=v({},Ge,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ga=Mt(Du),Ef=v({},Ge,{data:0}),Ho=Mt(Ef),As={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qo(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Vu[n])?!!r[n]:!1}function Ss(){return qo}var Mu=v({},_s,{key:function(n){if(n.key){var r=As[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=ai(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Nu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ss,charCode:function(n){return n.type==="keypress"?ai(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ai(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ya=Mt(Mu),Pu=v({},Es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fo=Mt(Pu),Ui=v({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ss}),ku=Mt(Ui),Lu=v({},Ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uu=Mt(Lu),ju=v({},Es,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),va=Mt(ju),on=v({},Ge,{newState:0,oldState:0}),zu=Mt(on),Bu=[9,13,27,32],ui=Fn&&"CompositionEvent"in window,c=null;Fn&&"documentMode"in document&&(c=document.documentMode);var y=Fn&&"TextEvent"in window&&!c,_=Fn&&(!ui||c&&8<c&&11>=c),b=" ",F=!1;function X(n,r){switch(n){case"keyup":return Bu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ue(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ue=!1;function wt(n,r){switch(n){case"compositionend":return ue(r);case"keypress":return r.which!==32?null:(F=!0,b);case"textInput":return n=r.data,n===b&&F?null:n;default:return null}}function je(n,r){if(Ue)return n==="compositionend"||!ui&&X(n,r)?(n=jo(),Li=gr=si=null,Ue=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Pt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rt(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Pt[n.type]:r==="textarea"}function ji(n,r,a,u){Pi?ki?ki.push(u):ki=[u]:Pi=u,r=Cc(r,"onChange"),0<r.length&&(a=new ha("onChange","change",null,a,u),n.push({event:a,listeners:r}))}var Bt=null,ci=null;function Go(n){h_(n,0)}function Hu(n){var r=ni(n);if(Po(r))return n}function Ng(n,r){if(n==="change")return r}var Vg=!1;if(Fn){var Tf;if(Fn){var Af="oninput"in document;if(!Af){var Mg=document.createElement("div");Mg.setAttribute("oninput","return;"),Af=typeof Mg.oninput=="function"}Tf=Af}else Tf=!1;Vg=Tf&&(!document.documentMode||9<document.documentMode)}function Pg(){Bt&&(Bt.detachEvent("onpropertychange",kg),ci=Bt=null)}function kg(n){if(n.propertyName==="value"&&Hu(ci)){var r=[];ji(r,ci,n,Dn(n)),Iu(Go,r)}}function Ib(n,r,a){n==="focusin"?(Pg(),Bt=r,ci=a,Bt.attachEvent("onpropertychange",kg)):n==="focusout"&&Pg()}function Ob(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Hu(ci)}function xb(n,r){if(n==="click")return Hu(r)}function Db(n,r){if(n==="input"||n==="change")return Hu(r)}function Nb(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var _n=typeof Object.is=="function"?Object.is:Nb;function Ko(n,r){if(_n(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),u=Object.keys(r);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!ns.call(r,f)||!_n(n[f],r[f]))return!1}return!0}function Lg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ug(n,r){var a=Lg(n);n=0;for(var u;a;){if(a.nodeType===3){if(u=n+a.textContent.length,n<=r&&u>=r)return{node:a,offset:r-n};n=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Lg(a)}}function jg(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?jg(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function zg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=ds(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=ds(n.document)}return r}function Sf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var Vb=Fn&&"documentMode"in document&&11>=document.documentMode,_a=null,bf=null,Yo=null,wf=!1;function Bg(n,r,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;wf||_a==null||_a!==ds(u)||(u=_a,"selectionStart"in u&&Sf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Yo&&Ko(Yo,u)||(Yo=u,u=Cc(bf,"onSelect"),0<u.length&&(r=new ha("onSelect","select",null,r,a),n.push({event:r,listeners:u}),r.target=_a)))}function bs(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Ea={animationend:bs("Animation","AnimationEnd"),animationiteration:bs("Animation","AnimationIteration"),animationstart:bs("Animation","AnimationStart"),transitionrun:bs("Transition","TransitionRun"),transitionstart:bs("Transition","TransitionStart"),transitioncancel:bs("Transition","TransitionCancel"),transitionend:bs("Transition","TransitionEnd")},Rf={},Hg={};Fn&&(Hg=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function ws(n){if(Rf[n])return Rf[n];if(!Ea[n])return n;var r=Ea[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in Hg)return Rf[n]=r[a];return n}var qg=ws("animationend"),Fg=ws("animationiteration"),Gg=ws("animationstart"),Mb=ws("transitionrun"),Pb=ws("transitionstart"),kb=ws("transitioncancel"),Kg=ws("transitionend"),Yg=new Map,Cf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cf.push("scrollEnd");function Gn(n,r){Yg.set(n,r),qn(r,[n])}var $g=new WeakMap;function Mn(n,r){if(typeof n=="object"&&n!==null){var a=$g.get(n);return a!==void 0?a:(r={value:n,source:r,stack:la(r)},$g.set(n,r),r)}return{value:n,source:r,stack:la(r)}}var Pn=[],Ta=0,If=0;function qu(){for(var n=Ta,r=If=Ta=0;r<n;){var a=Pn[r];Pn[r++]=null;var u=Pn[r];Pn[r++]=null;var f=Pn[r];Pn[r++]=null;var d=Pn[r];if(Pn[r++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}d!==0&&Xg(a,f,d)}}function Fu(n,r,a,u){Pn[Ta++]=n,Pn[Ta++]=r,Pn[Ta++]=a,Pn[Ta++]=u,If|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Of(n,r,a,u){return Fu(n,r,a,u),Gu(n)}function Aa(n,r){return Fu(n,null,null,r),Gu(n)}function Xg(n,r,a){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,u=d.alternate,u!==null&&(u.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&r!==null&&(f=31-Xt(a),n=d.hiddenUpdates,u=n[f],u===null?n[f]=[r]:u.push(r),r.lane=a|536870912),d):null}function Gu(n){if(50<vl)throw vl=0,Pd=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Sa={};function Lb(n,r,a,u){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(n,r,a,u){return new Lb(n,r,a,u)}function xf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function zi(n,r){var a=n.alternate;return a===null?(a=En(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Qg(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Ku(n,r,a,u,f,d){var E=0;if(u=n,typeof n=="function")xf(n)&&(E=1);else if(typeof n=="string")E=jw(n,a,ge.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case C:return n=En(31,a,r,f),n.elementType=C,n.lanes=d,n;case R:return Rs(a.children,f,d,r);case k:E=8,f|=24;break;case I:return n=En(12,a,r,f|2),n.elementType=I,n.lanes=d,n;case ee:return n=En(13,a,r,f),n.elementType=ee,n.lanes=d,n;case ae:return n=En(19,a,r,f),n.elementType=ae,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case B:case q:E=10;break e;case J:E=9;break e;case re:E=11;break e;case x:E=14;break e;case w:E=16,u=null;break e}E=29,a=Error(s(130,n===null?"null":typeof n,"")),u=null}return r=En(E,a,r,f),r.elementType=n,r.type=u,r.lanes=d,r}function Rs(n,r,a,u){return n=En(7,n,u,r),n.lanes=a,n}function Df(n,r,a){return n=En(6,n,null,r),n.lanes=a,n}function Nf(n,r,a){return r=En(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var ba=[],wa=0,Yu=null,$u=0,kn=[],Ln=0,Cs=null,Bi=1,Hi="";function Is(n,r){ba[wa++]=$u,ba[wa++]=Yu,Yu=n,$u=r}function Jg(n,r,a){kn[Ln++]=Bi,kn[Ln++]=Hi,kn[Ln++]=Cs,Cs=n;var u=Bi;n=Hi;var f=32-Xt(u)-1;u&=~(1<<f),a+=1;var d=32-Xt(r)+f;if(30<d){var E=f-f%5;d=(u&(1<<E)-1).toString(32),u>>=E,f-=E,Bi=1<<32-Xt(r)+f|a<<f|u,Hi=d+n}else Bi=1<<d|a<<f|u,Hi=n}function Vf(n){n.return!==null&&(Is(n,1),Jg(n,1,0))}function Mf(n){for(;n===Yu;)Yu=ba[--wa],ba[wa]=null,$u=ba[--wa],ba[wa]=null;for(;n===Cs;)Cs=kn[--Ln],kn[Ln]=null,Hi=kn[--Ln],kn[Ln]=null,Bi=kn[--Ln],kn[Ln]=null}var ln=null,ft=null,Fe=!1,Os=null,hi=!1,Pf=Error(s(519));function xs(n){var r=Error(s(418,""));throw Qo(Mn(r,n)),Pf}function Wg(n){var r=n.stateNode,a=n.type,u=n.memoizedProps;switch(r[bt]=n,r[_t]=u,a){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(a=0;a<El.length;a++)Pe(El[a],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":Pe("invalid",r),ms(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),ua(r);break;case"select":Pe("invalid",r);break;case"textarea":Pe("invalid",r),ps(r,u.value,u.defaultValue,u.children),ua(r)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||u.suppressHydrationWarning===!0||p_(r.textContent,a)?(u.popover!=null&&(Pe("beforetoggle",r),Pe("toggle",r)),u.onScroll!=null&&Pe("scroll",r),u.onScrollEnd!=null&&Pe("scrollend",r),u.onClick!=null&&(r.onclick=Ic),r=!0):r=!1,r||xs(n)}function Zg(n){for(ln=n.return;ln;)switch(ln.tag){case 5:case 13:hi=!1;return;case 27:case 3:hi=!0;return;default:ln=ln.return}}function $o(n){if(n!==ln)return!1;if(!Fe)return Zg(n),Fe=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Jd(n.type,n.memoizedProps)),a=!a),a&&ft&&xs(n),Zg(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){ft=Yn(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}ft=null}}else r===27?(r=ft,Nr(n.type)?(n=tm,tm=null,ft=n):ft=r):ft=ln?Yn(n.stateNode.nextSibling):null;return!0}function Xo(){ft=ln=null,Fe=!1}function ey(){var n=Os;return n!==null&&(fn===null?fn=n:fn.push.apply(fn,n),Os=null),n}function Qo(n){Os===null?Os=[n]:Os.push(n)}var kf=se(null),Ds=null,qi=null;function yr(n,r,a){le(kf,r._currentValue),r._currentValue=a}function Fi(n){n._currentValue=kf.current,he(kf)}function Lf(n,r,a){for(;n!==null;){var u=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),n===a)break;n=n.return}}function Uf(n,r,a,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var E=f.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=f;for(var D=0;D<r.length;D++)if(S.context===r[D]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Lf(d.return,a,n),u||(E=null);break e}d=S.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),Lf(E,a,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Jo(n,r,a,u){n=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var S=f.type;_n(f.pendingProps.value,E.value)||(n!==null?n.push(S):n=[S])}}else if(f===Vt.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Rl):n=[Rl])}f=f.return}n!==null&&Uf(r,n,a,u),r.flags|=262144}function Xu(n){for(n=n.firstContext;n!==null;){if(!_n(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ns(n){Ds=n,qi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Qt(n){return ty(Ds,n)}function Qu(n,r){return Ds===null&&Ns(n),ty(n,r)}function ty(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},qi===null){if(n===null)throw Error(s(308));qi=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else qi=qi.next=r;return a}var Ub=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,u){n.push(u)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},jb=i.unstable_scheduleCallback,zb=i.unstable_NormalPriority,Ct={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jf(){return{controller:new Ub,data:new Map,refCount:0}}function Wo(n){n.refCount--,n.refCount===0&&jb(zb,function(){n.controller.abort()})}var Zo=null,zf=0,Ra=0,Ca=null;function Bb(n,r){if(Zo===null){var a=Zo=[];zf=0,Ra=Hd(),Ca={status:"pending",value:void 0,then:function(u){a.push(u)}}}return zf++,r.then(ny,ny),r}function ny(){if(--zf===0&&Zo!==null){Ca!==null&&(Ca.status="fulfilled");var n=Zo;Zo=null,Ra=0,Ca=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function Hb(n,r){var a=[],u={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),u}var iy=W.S;W.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&Bb(n,r),iy!==null&&iy(n,r)};var Vs=se(null);function Bf(){var n=Vs.current;return n!==null?n:rt.pooledCache}function Ju(n,r){r===null?le(Vs,Vs.current):le(Vs,r.pool)}function ry(){var n=Bf();return n===null?null:{parent:Ct._currentValue,pool:n}}var el=Error(s(460)),sy=Error(s(474)),Wu=Error(s(542)),Hf={then:function(){}};function ay(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Zu(){}function oy(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(Zu,Zu),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,uy(n),n;default:if(typeof r.status=="string")r.then(Zu,Zu);else{if(n=rt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,uy(n),n}throw tl=r,el}}var tl=null;function ly(){if(tl===null)throw Error(s(459));var n=tl;return tl=null,n}function uy(n){if(n===el||n===Wu)throw Error(s(483))}var vr=!1;function qf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ff(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function _r(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Er(n,r,a){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,($e&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=Gu(n),Xg(n,null,a),r}return Fu(n,u,r,a),Gu(n)}function nl(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var u=r.lanes;u&=n.pendingLanes,a|=u,r.lanes=a,xo(n,a)}}function Gf(n,r){var a=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:u.shared,callbacks:u.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var Kf=!1;function il(){if(Kf){var n=Ca;if(n!==null)throw n}}function rl(n,r,a,u){Kf=!1;var f=n.updateQueue;vr=!1;var d=f.firstBaseUpdate,E=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var D=S,K=D.next;D.next=null,E===null?d=K:E.next=K,E=D;var Z=n.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==E&&(S===null?Z.firstBaseUpdate=K:S.next=K,Z.lastBaseUpdate=D))}if(d!==null){var ne=f.baseState;E=0,Z=K=D=null,S=d;do{var Y=S.lane&-536870913,$=Y!==S.lane;if($?(ze&Y)===Y:(u&Y)===Y){Y!==0&&Y===Ra&&(Kf=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Te=n,ve=S;Y=r;var et=a;switch(ve.tag){case 1:if(Te=ve.payload,typeof Te=="function"){ne=Te.call(et,ne,Y);break e}ne=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=ve.payload,Y=typeof Te=="function"?Te.call(et,ne,Y):Te,Y==null)break e;ne=v({},ne,Y);break e;case 2:vr=!0}}Y=S.callback,Y!==null&&(n.flags|=64,$&&(n.flags|=8192),$=f.callbacks,$===null?f.callbacks=[Y]:$.push(Y))}else $={lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?(K=Z=$,D=ne):Z=Z.next=$,E|=Y;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;$=S,S=$.next,$.next=null,f.lastBaseUpdate=$,f.shared.pending=null}}while(!0);Z===null&&(D=ne),f.baseState=D,f.firstBaseUpdate=K,f.lastBaseUpdate=Z,d===null&&(f.shared.lanes=0),Ir|=E,n.lanes=E,n.memoizedState=ne}}function cy(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function hy(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)cy(a[n],r)}var Ia=se(null),ec=se(0);function fy(n,r){n=Ji,le(ec,n),le(Ia,r),Ji=n|r.baseLanes}function Yf(){le(ec,Ji),le(Ia,Ia.current)}function $f(){Ji=ec.current,he(Ia),he(ec)}var Tr=0,Oe=null,We=null,Tt=null,tc=!1,Oa=!1,Ms=!1,nc=0,sl=0,xa=null,qb=0;function gt(){throw Error(s(321))}function Xf(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!_n(n[a],r[a]))return!1;return!0}function Qf(n,r,a,u,f,d){return Tr=d,Oe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=n===null||n.memoizedState===null?Xy:Qy,Ms=!1,d=a(u,f),Ms=!1,Oa&&(d=my(r,a,u,f)),dy(n),d}function dy(n){W.H=lc;var r=We!==null&&We.next!==null;if(Tr=0,Tt=We=Oe=null,tc=!1,sl=0,xa=null,r)throw Error(s(300));n===null||kt||(n=n.dependencies,n!==null&&Xu(n)&&(kt=!0))}function my(n,r,a,u){Oe=n;var f=0;do{if(Oa&&(xa=null),sl=0,Oa=!1,25<=f)throw Error(s(301));if(f+=1,Tt=We=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}W.H=Qb,d=r(a,u)}while(Oa);return d}function Fb(){var n=W.H,r=n.useState()[0];return r=typeof r.then=="function"?al(r):r,n=n.useState()[0],(We!==null?We.memoizedState:null)!==n&&(Oe.flags|=1024),r}function Jf(){var n=nc!==0;return nc=0,n}function Wf(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function Zf(n){if(tc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}tc=!1}Tr=0,Tt=We=Oe=null,Oa=!1,sl=nc=0,xa=null}function cn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Oe.memoizedState=Tt=n:Tt=Tt.next=n,Tt}function At(){if(We===null){var n=Oe.alternate;n=n!==null?n.memoizedState:null}else n=We.next;var r=Tt===null?Oe.memoizedState:Tt.next;if(r!==null)Tt=r,We=n;else{if(n===null)throw Oe.alternate===null?Error(s(467)):Error(s(310));We=n,n={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Tt===null?Oe.memoizedState=Tt=n:Tt=Tt.next=n}return Tt}function ed(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function al(n){var r=sl;return sl+=1,xa===null&&(xa=[]),n=oy(xa,n,r),r=Oe,(Tt===null?r.memoizedState:Tt.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?Xy:Qy),n}function ic(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return al(n);if(n.$$typeof===q)return Qt(n)}throw Error(s(438,String(n)))}function td(n){var r=null,a=Oe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var u=Oe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=ed(),Oe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),u=0;u<n;u++)a[u]=M;return r.index++,a}function Gi(n,r){return typeof r=="function"?r(n):r}function rc(n){var r=At();return nd(r,We,n)}function nd(n,r,a){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var f=n.baseQueue,d=u.pending;if(d!==null){if(f!==null){var E=f.next;f.next=d.next,d.next=E}r.baseQueue=f=d,u.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{r=f.next;var S=E=null,D=null,K=r,Z=!1;do{var ne=K.lane&-536870913;if(ne!==K.lane?(ze&ne)===ne:(Tr&ne)===ne){var Y=K.revertLane;if(Y===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ne===Ra&&(Z=!0);else if((Tr&Y)===Y){K=K.next,Y===Ra&&(Z=!0);continue}else ne={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},D===null?(S=D=ne,E=d):D=D.next=ne,Oe.lanes|=Y,Ir|=Y;ne=K.action,Ms&&a(d,ne),d=K.hasEagerState?K.eagerState:a(d,ne)}else Y={lane:ne,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},D===null?(S=D=Y,E=d):D=D.next=Y,Oe.lanes|=ne,Ir|=ne;K=K.next}while(K!==null&&K!==r);if(D===null?E=d:D.next=S,!_n(d,n.memoizedState)&&(kt=!0,Z&&(a=Ca,a!==null)))throw a;n.memoizedState=d,n.baseState=E,n.baseQueue=D,u.lastRenderedState=d}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function id(n){var r=At(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var u=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do d=n(d,E.action),E=E.next;while(E!==f);_n(d,r.memoizedState)||(kt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,u]}function py(n,r,a){var u=Oe,f=At(),d=Fe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var E=!_n((We||f).memoizedState,a);E&&(f.memoizedState=a,kt=!0),f=f.queue;var S=vy.bind(null,u,f,n);if(ol(2048,8,S,[n]),f.getSnapshot!==r||E||Tt!==null&&Tt.memoizedState.tag&1){if(u.flags|=2048,Da(9,sc(),yy.bind(null,u,f,a,r),null),rt===null)throw Error(s(349));d||(Tr&124)!==0||gy(u,r,a)}return a}function gy(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Oe.updateQueue,r===null?(r=ed(),Oe.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function yy(n,r,a,u){r.value=a,r.getSnapshot=u,_y(r)&&Ey(n)}function vy(n,r,a){return a(function(){_y(r)&&Ey(n)})}function _y(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!_n(n,a)}catch{return!0}}function Ey(n){var r=Aa(n,2);r!==null&&wn(r,n,2)}function rd(n){var r=cn();if(typeof n=="function"){var a=n;if(n=a(),Ms){yn(!0);try{a()}finally{yn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:n},r}function Ty(n,r,a,u){return n.baseState=a,nd(n,We,typeof u=="function"?u:Gi)}function Gb(n,r,a,u,f){if(oc(n))throw Error(s(485));if(n=r.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};W.T!==null?a(!0):d.isTransition=!1,u(d),a=r.pending,a===null?(d.next=r.pending=d,Ay(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Ay(n,r){var a=r.action,u=r.payload,f=n.state;if(r.isTransition){var d=W.T,E={};W.T=E;try{var S=a(f,u),D=W.S;D!==null&&D(E,S),Sy(n,r,S)}catch(K){sd(n,r,K)}finally{W.T=d}}else try{d=a(f,u),Sy(n,r,d)}catch(K){sd(n,r,K)}}function Sy(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){by(n,r,u)},function(u){return sd(n,r,u)}):by(n,r,a)}function by(n,r,a){r.status="fulfilled",r.value=a,wy(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,Ay(n,a)))}function sd(n,r,a){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=a,wy(r),r=r.next;while(r!==u)}n.action=null}function wy(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Ry(n,r){return r}function Cy(n,r){if(Fe){var a=rt.formState;if(a!==null){e:{var u=Oe;if(Fe){if(ft){t:{for(var f=ft,d=hi;f.nodeType!==8;){if(!d){f=null;break t}if(f=Yn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ft=Yn(f.nextSibling),u=f.data==="F!";break e}}xs(u)}u=!1}u&&(r=a[0])}}return a=cn(),a.memoizedState=a.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ry,lastRenderedState:r},a.queue=u,a=Ky.bind(null,Oe,u),u.dispatch=a,u=rd(!1),d=cd.bind(null,Oe,!1,u.queue),u=cn(),f={state:r,dispatch:null,action:n,pending:null},u.queue=f,a=Gb.bind(null,Oe,f,d,a),f.dispatch=a,u.memoizedState=n,[r,a,!1]}function Iy(n){var r=At();return Oy(r,We,n)}function Oy(n,r,a){if(r=nd(n,r,Ry)[0],n=rc(Gi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=al(r)}catch(E){throw E===el?Wu:E}else u=r;r=At();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Oe.flags|=2048,Da(9,sc(),Kb.bind(null,f,a),null)),[u,d,n]}function Kb(n,r){n.action=r}function xy(n){var r=At(),a=We;if(a!==null)return Oy(r,a,n);At(),r=r.memoizedState,a=At();var u=a.queue.dispatch;return a.memoizedState=n,[r,u,!1]}function Da(n,r,a,u){return n={tag:n,create:a,deps:u,inst:r,next:null},r=Oe.updateQueue,r===null&&(r=ed(),Oe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(u=a.next,a.next=n,n.next=u,r.lastEffect=n),n}function sc(){return{destroy:void 0,resource:void 0}}function Dy(){return At().memoizedState}function ac(n,r,a,u){var f=cn();u=u===void 0?null:u,Oe.flags|=n,f.memoizedState=Da(1|r,sc(),a,u)}function ol(n,r,a,u){var f=At();u=u===void 0?null:u;var d=f.memoizedState.inst;We!==null&&u!==null&&Xf(u,We.memoizedState.deps)?f.memoizedState=Da(r,d,a,u):(Oe.flags|=n,f.memoizedState=Da(1|r,d,a,u))}function Ny(n,r){ac(8390656,8,n,r)}function Vy(n,r){ol(2048,8,n,r)}function My(n,r){return ol(4,2,n,r)}function Py(n,r){return ol(4,4,n,r)}function ky(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Ly(n,r,a){a=a!=null?a.concat([n]):null,ol(4,4,ky.bind(null,r,n),a)}function ad(){}function Uy(n,r){var a=At();r=r===void 0?null:r;var u=a.memoizedState;return r!==null&&Xf(r,u[1])?u[0]:(a.memoizedState=[n,r],n)}function jy(n,r){var a=At();r=r===void 0?null:r;var u=a.memoizedState;if(r!==null&&Xf(r,u[1]))return u[0];if(u=n(),Ms){yn(!0);try{n()}finally{yn(!1)}}return a.memoizedState=[u,r],u}function od(n,r,a){return a===void 0||(Tr&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=Hv(),Oe.lanes|=n,Ir|=n,a)}function zy(n,r,a,u){return _n(a,r)?a:Ia.current!==null?(n=od(n,a,u),_n(n,r)||(kt=!0),n):(Tr&42)===0?(kt=!0,n.memoizedState=a):(n=Hv(),Oe.lanes|=n,Ir|=n,r)}function By(n,r,a,u,f){var d=ce.p;ce.p=d!==0&&8>d?d:8;var E=W.T,S={};W.T=S,cd(n,!1,r,a);try{var D=f(),K=W.S;if(K!==null&&K(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Z=Hb(D,u);ll(n,r,Z,bn(n))}else ll(n,r,u,bn(n))}catch(ne){ll(n,r,{then:function(){},status:"rejected",reason:ne},bn())}finally{ce.p=d,W.T=E}}function Yb(){}function ld(n,r,a,u){if(n.tag!==5)throw Error(s(476));var f=Hy(n).queue;By(n,f,r,pe,a===null?Yb:function(){return qy(n),a(u)})}function Hy(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:pe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function qy(n){var r=Hy(n).next.queue;ll(n,r,{},bn())}function ud(){return Qt(Rl)}function Fy(){return At().memoizedState}function Gy(){return At().memoizedState}function $b(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=bn();n=_r(a);var u=Er(r,n,a);u!==null&&(wn(u,r,a),nl(u,r,a)),r={cache:jf()},n.payload=r;return}r=r.return}}function Xb(n,r,a){var u=bn();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},oc(n)?Yy(r,a):(a=Of(n,r,a,u),a!==null&&(wn(a,n,u),$y(a,r,u)))}function Ky(n,r,a){var u=bn();ll(n,r,a,u)}function ll(n,r,a,u){var f={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(oc(n))Yy(r,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var E=r.lastRenderedState,S=d(E,a);if(f.hasEagerState=!0,f.eagerState=S,_n(S,E))return Fu(n,r,f,0),rt===null&&qu(),!1}catch{}finally{}if(a=Of(n,r,f,u),a!==null)return wn(a,n,u),$y(a,r,u),!0}return!1}function cd(n,r,a,u){if(u={lane:2,revertLane:Hd(),action:u,hasEagerState:!1,eagerState:null,next:null},oc(n)){if(r)throw Error(s(479))}else r=Of(n,a,u,2),r!==null&&wn(r,n,2)}function oc(n){var r=n.alternate;return n===Oe||r!==null&&r===Oe}function Yy(n,r){Oa=tc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function $y(n,r,a){if((a&4194048)!==0){var u=r.lanes;u&=n.pendingLanes,a|=u,r.lanes=a,xo(n,a)}}var lc={readContext:Qt,use:ic,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},Xy={readContext:Qt,use:ic,useCallback:function(n,r){return cn().memoizedState=[n,r===void 0?null:r],n},useContext:Qt,useEffect:Ny,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,ac(4194308,4,ky.bind(null,r,n),a)},useLayoutEffect:function(n,r){return ac(4194308,4,n,r)},useInsertionEffect:function(n,r){ac(4,2,n,r)},useMemo:function(n,r){var a=cn();r=r===void 0?null:r;var u=n();if(Ms){yn(!0);try{n()}finally{yn(!1)}}return a.memoizedState=[u,r],u},useReducer:function(n,r,a){var u=cn();if(a!==void 0){var f=a(r);if(Ms){yn(!0);try{a(r)}finally{yn(!1)}}}else f=r;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=Xb.bind(null,Oe,n),[u.memoizedState,n]},useRef:function(n){var r=cn();return n={current:n},r.memoizedState=n},useState:function(n){n=rd(n);var r=n.queue,a=Ky.bind(null,Oe,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:ad,useDeferredValue:function(n,r){var a=cn();return od(a,n,r)},useTransition:function(){var n=rd(!1);return n=By.bind(null,Oe,n.queue,!0,!1),cn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var u=Oe,f=cn();if(Fe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),rt===null)throw Error(s(349));(ze&124)!==0||gy(u,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,Ny(vy.bind(null,u,d,n),[n]),u.flags|=2048,Da(9,sc(),yy.bind(null,u,d,a,r),null),a},useId:function(){var n=cn(),r=rt.identifierPrefix;if(Fe){var a=Hi,u=Bi;a=(u&~(1<<32-Xt(u)-1)).toString(32)+a,r="«"+r+"R"+a,a=nc++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=qb++,r="«"+r+"r"+a.toString(32)+"»";return n.memoizedState=r},useHostTransitionStatus:ud,useFormState:Cy,useActionState:Cy,useOptimistic:function(n){var r=cn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=cd.bind(null,Oe,!0,a),a.dispatch=r,[n,r]},useMemoCache:td,useCacheRefresh:function(){return cn().memoizedState=$b.bind(null,Oe)}},Qy={readContext:Qt,use:ic,useCallback:Uy,useContext:Qt,useEffect:Vy,useImperativeHandle:Ly,useInsertionEffect:My,useLayoutEffect:Py,useMemo:jy,useReducer:rc,useRef:Dy,useState:function(){return rc(Gi)},useDebugValue:ad,useDeferredValue:function(n,r){var a=At();return zy(a,We.memoizedState,n,r)},useTransition:function(){var n=rc(Gi)[0],r=At().memoizedState;return[typeof n=="boolean"?n:al(n),r]},useSyncExternalStore:py,useId:Fy,useHostTransitionStatus:ud,useFormState:Iy,useActionState:Iy,useOptimistic:function(n,r){var a=At();return Ty(a,We,n,r)},useMemoCache:td,useCacheRefresh:Gy},Qb={readContext:Qt,use:ic,useCallback:Uy,useContext:Qt,useEffect:Vy,useImperativeHandle:Ly,useInsertionEffect:My,useLayoutEffect:Py,useMemo:jy,useReducer:id,useRef:Dy,useState:function(){return id(Gi)},useDebugValue:ad,useDeferredValue:function(n,r){var a=At();return We===null?od(a,n,r):zy(a,We.memoizedState,n,r)},useTransition:function(){var n=id(Gi)[0],r=At().memoizedState;return[typeof n=="boolean"?n:al(n),r]},useSyncExternalStore:py,useId:Fy,useHostTransitionStatus:ud,useFormState:xy,useActionState:xy,useOptimistic:function(n,r){var a=At();return We!==null?Ty(a,We,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:td,useCacheRefresh:Gy},Na=null,ul=0;function uc(n){var r=ul;return ul+=1,Na===null&&(Na=[]),oy(Na,n,r)}function cl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function cc(n,r){throw r.$$typeof===T?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Jy(n){var r=n._init;return r(n._payload)}function Wy(n){function r(H,L){if(n){var G=H.deletions;G===null?(H.deletions=[L],H.flags|=16):G.push(L)}}function a(H,L){if(!n)return null;for(;L!==null;)r(H,L),L=L.sibling;return null}function u(H){for(var L=new Map;H!==null;)H.key!==null?L.set(H.key,H):L.set(H.index,H),H=H.sibling;return L}function f(H,L){return H=zi(H,L),H.index=0,H.sibling=null,H}function d(H,L,G){return H.index=G,n?(G=H.alternate,G!==null?(G=G.index,G<L?(H.flags|=67108866,L):G):(H.flags|=67108866,L)):(H.flags|=1048576,L)}function E(H){return n&&H.alternate===null&&(H.flags|=67108866),H}function S(H,L,G,te){return L===null||L.tag!==6?(L=Df(G,H.mode,te),L.return=H,L):(L=f(L,G),L.return=H,L)}function D(H,L,G,te){var de=G.type;return de===R?Z(H,L,G.props.children,te,G.key):L!==null&&(L.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===w&&Jy(de)===L.type)?(L=f(L,G.props),cl(L,G),L.return=H,L):(L=Ku(G.type,G.key,G.props,null,H.mode,te),cl(L,G),L.return=H,L)}function K(H,L,G,te){return L===null||L.tag!==4||L.stateNode.containerInfo!==G.containerInfo||L.stateNode.implementation!==G.implementation?(L=Nf(G,H.mode,te),L.return=H,L):(L=f(L,G.children||[]),L.return=H,L)}function Z(H,L,G,te,de){return L===null||L.tag!==7?(L=Rs(G,H.mode,te,de),L.return=H,L):(L=f(L,G),L.return=H,L)}function ne(H,L,G){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Df(""+L,H.mode,G),L.return=H,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case A:return G=Ku(L.type,L.key,L.props,null,H.mode,G),cl(G,L),G.return=H,G;case O:return L=Nf(L,H.mode,G),L.return=H,L;case w:var te=L._init;return L=te(L._payload),ne(H,L,G)}if(tt(L)||z(L))return L=Rs(L,H.mode,G,null),L.return=H,L;if(typeof L.then=="function")return ne(H,uc(L),G);if(L.$$typeof===q)return ne(H,Qu(H,L),G);cc(H,L)}return null}function Y(H,L,G,te){var de=L!==null?L.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return de!==null?null:S(H,L,""+G,te);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case A:return G.key===de?D(H,L,G,te):null;case O:return G.key===de?K(H,L,G,te):null;case w:return de=G._init,G=de(G._payload),Y(H,L,G,te)}if(tt(G)||z(G))return de!==null?null:Z(H,L,G,te,null);if(typeof G.then=="function")return Y(H,L,uc(G),te);if(G.$$typeof===q)return Y(H,L,Qu(H,G),te);cc(H,G)}return null}function $(H,L,G,te,de){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return H=H.get(G)||null,S(L,H,""+te,de);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case A:return H=H.get(te.key===null?G:te.key)||null,D(L,H,te,de);case O:return H=H.get(te.key===null?G:te.key)||null,K(L,H,te,de);case w:var Ne=te._init;return te=Ne(te._payload),$(H,L,G,te,de)}if(tt(te)||z(te))return H=H.get(G)||null,Z(L,H,te,de,null);if(typeof te.then=="function")return $(H,L,G,uc(te),de);if(te.$$typeof===q)return $(H,L,G,Qu(L,te),de);cc(L,te)}return null}function Te(H,L,G,te){for(var de=null,Ne=null,me=L,Ee=L=0,Ut=null;me!==null&&Ee<G.length;Ee++){me.index>Ee?(Ut=me,me=null):Ut=me.sibling;var He=Y(H,me,G[Ee],te);if(He===null){me===null&&(me=Ut);break}n&&me&&He.alternate===null&&r(H,me),L=d(He,L,Ee),Ne===null?de=He:Ne.sibling=He,Ne=He,me=Ut}if(Ee===G.length)return a(H,me),Fe&&Is(H,Ee),de;if(me===null){for(;Ee<G.length;Ee++)me=ne(H,G[Ee],te),me!==null&&(L=d(me,L,Ee),Ne===null?de=me:Ne.sibling=me,Ne=me);return Fe&&Is(H,Ee),de}for(me=u(me);Ee<G.length;Ee++)Ut=$(me,H,Ee,G[Ee],te),Ut!==null&&(n&&Ut.alternate!==null&&me.delete(Ut.key===null?Ee:Ut.key),L=d(Ut,L,Ee),Ne===null?de=Ut:Ne.sibling=Ut,Ne=Ut);return n&&me.forEach(function(Lr){return r(H,Lr)}),Fe&&Is(H,Ee),de}function ve(H,L,G,te){if(G==null)throw Error(s(151));for(var de=null,Ne=null,me=L,Ee=L=0,Ut=null,He=G.next();me!==null&&!He.done;Ee++,He=G.next()){me.index>Ee?(Ut=me,me=null):Ut=me.sibling;var Lr=Y(H,me,He.value,te);if(Lr===null){me===null&&(me=Ut);break}n&&me&&Lr.alternate===null&&r(H,me),L=d(Lr,L,Ee),Ne===null?de=Lr:Ne.sibling=Lr,Ne=Lr,me=Ut}if(He.done)return a(H,me),Fe&&Is(H,Ee),de;if(me===null){for(;!He.done;Ee++,He=G.next())He=ne(H,He.value,te),He!==null&&(L=d(He,L,Ee),Ne===null?de=He:Ne.sibling=He,Ne=He);return Fe&&Is(H,Ee),de}for(me=u(me);!He.done;Ee++,He=G.next())He=$(me,H,Ee,He.value,te),He!==null&&(n&&He.alternate!==null&&me.delete(He.key===null?Ee:He.key),L=d(He,L,Ee),Ne===null?de=He:Ne.sibling=He,Ne=He);return n&&me.forEach(function(Jw){return r(H,Jw)}),Fe&&Is(H,Ee),de}function et(H,L,G,te){if(typeof G=="object"&&G!==null&&G.type===R&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case A:e:{for(var de=G.key;L!==null;){if(L.key===de){if(de=G.type,de===R){if(L.tag===7){a(H,L.sibling),te=f(L,G.props.children),te.return=H,H=te;break e}}else if(L.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===w&&Jy(de)===L.type){a(H,L.sibling),te=f(L,G.props),cl(te,G),te.return=H,H=te;break e}a(H,L);break}else r(H,L);L=L.sibling}G.type===R?(te=Rs(G.props.children,H.mode,te,G.key),te.return=H,H=te):(te=Ku(G.type,G.key,G.props,null,H.mode,te),cl(te,G),te.return=H,H=te)}return E(H);case O:e:{for(de=G.key;L!==null;){if(L.key===de)if(L.tag===4&&L.stateNode.containerInfo===G.containerInfo&&L.stateNode.implementation===G.implementation){a(H,L.sibling),te=f(L,G.children||[]),te.return=H,H=te;break e}else{a(H,L);break}else r(H,L);L=L.sibling}te=Nf(G,H.mode,te),te.return=H,H=te}return E(H);case w:return de=G._init,G=de(G._payload),et(H,L,G,te)}if(tt(G))return Te(H,L,G,te);if(z(G)){if(de=z(G),typeof de!="function")throw Error(s(150));return G=de.call(G),ve(H,L,G,te)}if(typeof G.then=="function")return et(H,L,uc(G),te);if(G.$$typeof===q)return et(H,L,Qu(H,G),te);cc(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,L!==null&&L.tag===6?(a(H,L.sibling),te=f(L,G),te.return=H,H=te):(a(H,L),te=Df(G,H.mode,te),te.return=H,H=te),E(H)):a(H,L)}return function(H,L,G,te){try{ul=0;var de=et(H,L,G,te);return Na=null,de}catch(me){if(me===el||me===Wu)throw me;var Ne=En(29,me,null,H.mode);return Ne.lanes=te,Ne.return=H,Ne}finally{}}}var Va=Wy(!0),Zy=Wy(!1),Un=se(null),fi=null;function Ar(n){var r=n.alternate;le(It,It.current&1),le(Un,n),fi===null&&(r===null||Ia.current!==null||r.memoizedState!==null)&&(fi=n)}function ev(n){if(n.tag===22){if(le(It,It.current),le(Un,n),fi===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(fi=n)}}else Sr()}function Sr(){le(It,It.current),le(Un,Un.current)}function Ki(n){he(Un),fi===n&&(fi=null),he(It)}var It=se(0);function hc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||em(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function hd(n,r,a,u){r=n.memoizedState,a=a(u,r),a=a==null?r:v({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var fd={enqueueSetState:function(n,r,a){n=n._reactInternals;var u=bn(),f=_r(u);f.payload=r,a!=null&&(f.callback=a),r=Er(n,f,u),r!==null&&(wn(r,n,u),nl(r,n,u))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var u=bn(),f=_r(u);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Er(n,f,u),r!==null&&(wn(r,n,u),nl(r,n,u))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=bn(),u=_r(a);u.tag=2,r!=null&&(u.callback=r),r=Er(n,u,a),r!==null&&(wn(r,n,a),nl(r,n,a))}};function tv(n,r,a,u,f,d,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,d,E):r.prototype&&r.prototype.isPureReactComponent?!Ko(a,u)||!Ko(f,d):!0}function nv(n,r,a,u){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,u),r.state!==n&&fd.enqueueReplaceState(r,r.state,null)}function Ps(n,r){var a=r;if("ref"in r){a={};for(var u in r)u!=="ref"&&(a[u]=r[u])}if(n=n.defaultProps){a===r&&(a=v({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var fc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function iv(n){fc(n)}function rv(n){console.error(n)}function sv(n){fc(n)}function dc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function av(n,r,a){try{var u=n.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function dd(n,r,a){return a=_r(a),a.tag=3,a.payload={element:null},a.callback=function(){dc(n,r)},a}function ov(n){return n=_r(n),n.tag=3,n}function lv(n,r,a,u){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=u.value;n.payload=function(){return f(d)},n.callback=function(){av(r,a,u)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){av(r,a,u),typeof f!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function Jb(n,r,a,u,f){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=a.alternate,r!==null&&Jo(r,a,f,!0),a=Un.current,a!==null){switch(a.tag){case 13:return fi===null?Ld():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,u===Hf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([u]):r.add(u),jd(n,u,f)),!1;case 22:return a.flags|=65536,u===Hf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([u]):a.add(u)),jd(n,u,f)),!1}throw Error(s(435,a.tag))}return jd(n,u,f),Ld(),!1}if(Fe)return r=Un.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==Pf&&(n=Error(s(422),{cause:u}),Qo(Mn(n,a)))):(u!==Pf&&(r=Error(s(423),{cause:u}),Qo(Mn(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=Mn(u,a),f=dd(n.stateNode,u,f),Gf(n,f),dt!==4&&(dt=2)),!1;var d=Error(s(520),{cause:u});if(d=Mn(d,a),yl===null?yl=[d]:yl.push(d),dt!==4&&(dt=2),r===null)return!0;u=Mn(u,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=dd(a.stateNode,u,n),Gf(a,n),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Or===null||!Or.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=ov(f),lv(f,n,a,u),Gf(a,f),!1}a=a.return}while(a!==null);return!1}var uv=Error(s(461)),kt=!1;function Ht(n,r,a,u){r.child=n===null?Zy(r,null,a,u):Va(r,n.child,a,u)}function cv(n,r,a,u,f){a=a.render;var d=r.ref;if("ref"in u){var E={};for(var S in u)S!=="ref"&&(E[S]=u[S])}else E=u;return Ns(r),u=Qf(n,r,a,E,d,f),S=Jf(),n!==null&&!kt?(Wf(n,r,f),Yi(n,r,f)):(Fe&&S&&Vf(r),r.flags|=1,Ht(n,r,u,f),r.child)}function hv(n,r,a,u,f){if(n===null){var d=a.type;return typeof d=="function"&&!xf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,fv(n,r,d,u,f)):(n=Ku(a.type,null,u,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(d=n.child,!Td(n,f)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:Ko,a(E,u)&&n.ref===r.ref)return Yi(n,r,f)}return r.flags|=1,n=zi(d,u),n.ref=r.ref,n.return=r,r.child=n}function fv(n,r,a,u,f){if(n!==null){var d=n.memoizedProps;if(Ko(d,u)&&n.ref===r.ref)if(kt=!1,r.pendingProps=u=d,Td(n,f))(n.flags&131072)!==0&&(kt=!0);else return r.lanes=n.lanes,Yi(n,r,f)}return md(n,r,a,u,f)}function dv(n,r,a){var u=r.pendingProps,f=u.children,d=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((r.flags&128)!==0){if(u=d!==null?d.baseLanes|a:a,n!==null){for(f=r.child=n.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;r.childLanes=d&~u}else r.childLanes=0,r.child=null;return mv(n,r,u,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Ju(r,d!==null?d.cachePool:null),d!==null?fy(r,d):Yf(),ev(r);else return r.lanes=r.childLanes=536870912,mv(n,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(Ju(r,d.cachePool),fy(r,d),Sr(),r.memoizedState=null):(n!==null&&Ju(r,null),Yf(),Sr());return Ht(n,r,f,a),r.child}function mv(n,r,a,u){var f=Bf();return f=f===null?null:{parent:Ct._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&Ju(r,null),Yf(),ev(r),n!==null&&Jo(n,r,u,!0),null}function mc(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function md(n,r,a,u,f){return Ns(r),a=Qf(n,r,a,u,void 0,f),u=Jf(),n!==null&&!kt?(Wf(n,r,f),Yi(n,r,f)):(Fe&&u&&Vf(r),r.flags|=1,Ht(n,r,a,f),r.child)}function pv(n,r,a,u,f,d){return Ns(r),r.updateQueue=null,a=my(r,u,a,f),dy(n),u=Jf(),n!==null&&!kt?(Wf(n,r,d),Yi(n,r,d)):(Fe&&u&&Vf(r),r.flags|=1,Ht(n,r,a,d),r.child)}function gv(n,r,a,u,f){if(Ns(r),r.stateNode===null){var d=Sa,E=a.contextType;typeof E=="object"&&E!==null&&(d=Qt(E)),d=new a(u,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=fd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=u,d.state=r.memoizedState,d.refs={},qf(r),E=a.contextType,d.context=typeof E=="object"&&E!==null?Qt(E):Sa,d.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(hd(r,a,E,u),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&fd.enqueueReplaceState(d,d.state,null),rl(r,u,d,f),il(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(n===null){d=r.stateNode;var S=r.memoizedProps,D=Ps(a,S);d.props=D;var K=d.context,Z=a.contextType;E=Sa,typeof Z=="object"&&Z!==null&&(E=Qt(Z));var ne=a.getDerivedStateFromProps;Z=typeof ne=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||K!==E)&&nv(r,d,u,E),vr=!1;var Y=r.memoizedState;d.state=Y,rl(r,u,d,f),il(),K=r.memoizedState,S||Y!==K||vr?(typeof ne=="function"&&(hd(r,a,ne,u),K=r.memoizedState),(D=vr||tv(r,a,D,u,Y,K,E))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=K),d.props=u,d.state=K,d.context=E,u=D):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{d=r.stateNode,Ff(n,r),E=r.memoizedProps,Z=Ps(a,E),d.props=Z,ne=r.pendingProps,Y=d.context,K=a.contextType,D=Sa,typeof K=="object"&&K!==null&&(D=Qt(K)),S=a.getDerivedStateFromProps,(K=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==ne||Y!==D)&&nv(r,d,u,D),vr=!1,Y=r.memoizedState,d.state=Y,rl(r,u,d,f),il();var $=r.memoizedState;E!==ne||Y!==$||vr||n!==null&&n.dependencies!==null&&Xu(n.dependencies)?(typeof S=="function"&&(hd(r,a,S,u),$=r.memoizedState),(Z=vr||tv(r,a,Z,u,Y,$,D)||n!==null&&n.dependencies!==null&&Xu(n.dependencies))?(K||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(u,$,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(u,$,D)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&Y===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&Y===n.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=$),d.props=u,d.state=$,d.context=D,u=Z):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&Y===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&Y===n.memoizedState||(r.flags|=1024),u=!1)}return d=u,mc(n,r),u=(r.flags&128)!==0,d||u?(d=r.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,n!==null&&u?(r.child=Va(r,n.child,null,f),r.child=Va(r,null,a,f)):Ht(n,r,a,f),r.memoizedState=d.state,n=r.child):n=Yi(n,r,f),n}function yv(n,r,a,u){return Xo(),r.flags|=256,Ht(n,r,a,u),r.child}var pd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gd(n){return{baseLanes:n,cachePool:ry()}}function yd(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=jn),n}function vv(n,r,a){var u=r.pendingProps,f=!1,d=(r.flags&128)!==0,E;if((E=d)||(E=n!==null&&n.memoizedState===null?!1:(It.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,n===null){if(Fe){if(f?Ar(r):Sr(),Fe){var S=ft,D;if(D=S){e:{for(D=S,S=hi;D.nodeType!==8;){if(!S){S=null;break e}if(D=Yn(D.nextSibling),D===null){S=null;break e}}S=D}S!==null?(r.memoizedState={dehydrated:S,treeContext:Cs!==null?{id:Bi,overflow:Hi}:null,retryLane:536870912,hydrationErrors:null},D=En(18,null,null,0),D.stateNode=S,D.return=r,r.child=D,ln=r,ft=null,D=!0):D=!1}D||xs(r)}if(S=r.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return em(S)?r.lanes=32:r.lanes=536870912,null;Ki(r)}return S=u.children,u=u.fallback,f?(Sr(),f=r.mode,S=pc({mode:"hidden",children:S},f),u=Rs(u,f,a,null),S.return=r,u.return=r,S.sibling=u,r.child=S,f=r.child,f.memoizedState=gd(a),f.childLanes=yd(n,E,a),r.memoizedState=pd,u):(Ar(r),vd(r,S))}if(D=n.memoizedState,D!==null&&(S=D.dehydrated,S!==null)){if(d)r.flags&256?(Ar(r),r.flags&=-257,r=_d(n,r,a)):r.memoizedState!==null?(Sr(),r.child=n.child,r.flags|=128,r=null):(Sr(),f=u.fallback,S=r.mode,u=pc({mode:"visible",children:u.children},S),f=Rs(f,S,a,null),f.flags|=2,u.return=r,f.return=r,u.sibling=f,r.child=u,Va(r,n.child,null,a),u=r.child,u.memoizedState=gd(a),u.childLanes=yd(n,E,a),r.memoizedState=pd,r=f);else if(Ar(r),em(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var K=E.dgst;E=K,u=Error(s(419)),u.stack="",u.digest=E,Qo({value:u,source:null,stack:null}),r=_d(n,r,a)}else if(kt||Jo(n,r,a,!1),E=(a&n.childLanes)!==0,kt||E){if(E=rt,E!==null&&(u=a&-a,u=(u&42)!==0?1:cr(u),u=(u&(E.suspendedLanes|a))!==0?0:u,u!==0&&u!==D.retryLane))throw D.retryLane=u,Aa(n,u),wn(E,n,u),uv;S.data==="$?"||Ld(),r=_d(n,r,a)}else S.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=D.treeContext,ft=Yn(S.nextSibling),ln=r,Fe=!0,Os=null,hi=!1,n!==null&&(kn[Ln++]=Bi,kn[Ln++]=Hi,kn[Ln++]=Cs,Bi=n.id,Hi=n.overflow,Cs=r),r=vd(r,u.children),r.flags|=4096);return r}return f?(Sr(),f=u.fallback,S=r.mode,D=n.child,K=D.sibling,u=zi(D,{mode:"hidden",children:u.children}),u.subtreeFlags=D.subtreeFlags&65011712,K!==null?f=zi(K,f):(f=Rs(f,S,a,null),f.flags|=2),f.return=r,u.return=r,u.sibling=f,r.child=u,u=f,f=r.child,S=n.child.memoizedState,S===null?S=gd(a):(D=S.cachePool,D!==null?(K=Ct._currentValue,D=D.parent!==K?{parent:K,pool:K}:D):D=ry(),S={baseLanes:S.baseLanes|a,cachePool:D}),f.memoizedState=S,f.childLanes=yd(n,E,a),r.memoizedState=pd,u):(Ar(r),a=n.child,n=a.sibling,a=zi(a,{mode:"visible",children:u.children}),a.return=r,a.sibling=null,n!==null&&(E=r.deletions,E===null?(r.deletions=[n],r.flags|=16):E.push(n)),r.child=a,r.memoizedState=null,a)}function vd(n,r){return r=pc({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function pc(n,r){return n=En(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function _d(n,r,a){return Va(r,n.child,null,a),n=vd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function _v(n,r,a){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r),Lf(n.return,r,a)}function Ed(n,r,a,u,f){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=u,d.tail=a,d.tailMode=f)}function Ev(n,r,a){var u=r.pendingProps,f=u.revealOrder,d=u.tail;if(Ht(n,r,u.children,a),u=It.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&_v(n,a,r);else if(n.tag===19)_v(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(le(It,u),f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&hc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Ed(r,!1,f,a,d);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&hc(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Ed(r,!0,a,null,d);break;case"together":Ed(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Yi(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Ir|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(Jo(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=zi(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=zi(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Td(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Xu(n)))}function Wb(n,r,a){switch(r.tag){case 3:it(r,r.stateNode.containerInfo),yr(r,Ct,n.memoizedState.cache),Xo();break;case 27:case 5:ur(r);break;case 4:it(r,r.stateNode.containerInfo);break;case 10:yr(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Ar(r),r.flags|=128,null):(a&r.child.childLanes)!==0?vv(n,r,a):(Ar(r),n=Yi(n,r,a),n!==null?n.sibling:null);Ar(r);break;case 19:var f=(n.flags&128)!==0;if(u=(a&r.childLanes)!==0,u||(Jo(n,r,a,!1),u=(a&r.childLanes)!==0),f){if(u)return Ev(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),le(It,It.current),u)break;return null;case 22:case 23:return r.lanes=0,dv(n,r,a);case 24:yr(r,Ct,n.memoizedState.cache)}return Yi(n,r,a)}function Tv(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)kt=!0;else{if(!Td(n,a)&&(r.flags&128)===0)return kt=!1,Wb(n,r,a);kt=(n.flags&131072)!==0}else kt=!1,Fe&&(r.flags&1048576)!==0&&Jg(r,$u,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var u=r.elementType,f=u._init;if(u=f(u._payload),r.type=u,typeof u=="function")xf(u)?(n=Ps(u,n),r.tag=1,r=gv(null,r,u,n,a)):(r.tag=0,r=md(null,r,u,n,a));else{if(u!=null){if(f=u.$$typeof,f===re){r.tag=11,r=cv(null,r,u,n,a);break e}else if(f===x){r.tag=14,r=hv(null,r,u,n,a);break e}}throw r=ot(u)||u,Error(s(306,r,""))}}return r;case 0:return md(n,r,r.type,r.pendingProps,a);case 1:return u=r.type,f=Ps(u,r.pendingProps),gv(n,r,u,f,a);case 3:e:{if(it(r,r.stateNode.containerInfo),n===null)throw Error(s(387));u=r.pendingProps;var d=r.memoizedState;f=d.element,Ff(n,r),rl(r,u,null,a);var E=r.memoizedState;if(u=E.cache,yr(r,Ct,u),u!==d.cache&&Uf(r,[Ct],a,!0),il(),u=E.element,d.isDehydrated)if(d={element:u,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=yv(n,r,u,a);break e}else if(u!==f){f=Mn(Error(s(424)),r),Qo(f),r=yv(n,r,u,a);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ft=Yn(n.firstChild),ln=r,Fe=!0,Os=null,hi=!0,a=Zy(r,null,u,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Xo(),u===f){r=Yi(n,r,a);break e}Ht(n,r,u,a)}r=r.child}return r;case 26:return mc(n,r),n===null?(a=w_(r.type,null,r.pendingProps,null))?r.memoizedState=a:Fe||(a=r.type,n=r.pendingProps,u=Oc(be.current).createElement(a),u[bt]=r,u[_t]=n,Ft(u,a,n),pt(u),r.stateNode=u):r.memoizedState=w_(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return ur(r),n===null&&Fe&&(u=r.stateNode=A_(r.type,r.pendingProps,be.current),ln=r,hi=!0,f=ft,Nr(r.type)?(tm=f,ft=Yn(u.firstChild)):ft=f),Ht(n,r,r.pendingProps.children,a),mc(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Fe&&((f=u=ft)&&(u=Rw(u,r.type,r.pendingProps,hi),u!==null?(r.stateNode=u,ln=r,ft=Yn(u.firstChild),hi=!1,f=!0):f=!1),f||xs(r)),ur(r),f=r.type,d=r.pendingProps,E=n!==null?n.memoizedProps:null,u=d.children,Jd(f,d)?u=null:E!==null&&Jd(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=Qf(n,r,Fb,null,null,a),Rl._currentValue=f),mc(n,r),Ht(n,r,u,a),r.child;case 6:return n===null&&Fe&&((n=a=ft)&&(a=Cw(a,r.pendingProps,hi),a!==null?(r.stateNode=a,ln=r,ft=null,n=!0):n=!1),n||xs(r)),null;case 13:return vv(n,r,a);case 4:return it(r,r.stateNode.containerInfo),u=r.pendingProps,n===null?r.child=Va(r,null,u,a):Ht(n,r,u,a),r.child;case 11:return cv(n,r,r.type,r.pendingProps,a);case 7:return Ht(n,r,r.pendingProps,a),r.child;case 8:return Ht(n,r,r.pendingProps.children,a),r.child;case 12:return Ht(n,r,r.pendingProps.children,a),r.child;case 10:return u=r.pendingProps,yr(r,r.type,u.value),Ht(n,r,u.children,a),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,Ns(r),f=Qt(f),u=u(f),r.flags|=1,Ht(n,r,u,a),r.child;case 14:return hv(n,r,r.type,r.pendingProps,a);case 15:return fv(n,r,r.type,r.pendingProps,a);case 19:return Ev(n,r,a);case 31:return u=r.pendingProps,a=r.mode,u={mode:u.mode,children:u.children},n===null?(a=pc(u,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=zi(n.child,u),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return dv(n,r,a);case 24:return Ns(r),u=Qt(Ct),n===null?(f=Bf(),f===null&&(f=rt,d=jf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:u,cache:f},qf(r),yr(r,Ct,f)):((n.lanes&a)!==0&&(Ff(n,r),rl(r,null,null,a),il()),f=n.memoizedState,d=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),yr(r,Ct,u)):(u=d.cache,yr(r,Ct,u),u!==f.cache&&Uf(r,[Ct],a,!0))),Ht(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function $i(n){n.flags|=4}function Av(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!x_(r)){if(r=Un.current,r!==null&&((ze&4194048)===ze?fi!==null:(ze&62914560)!==ze&&(ze&536870912)===0||r!==fi))throw tl=Hf,sy;n.flags|=8192}}function gc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Io():536870912,n.lanes|=r,La|=r)}function hl(n,r){if(!Fe)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function lt(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,u=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=a,r}function Zb(n,r,a){var u=r.pendingProps;switch(Mf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(r),null;case 1:return lt(r),null;case 3:return a=r.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Fi(Ct),Zn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&($o(r)?$i(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,ey())),lt(r),null;case 26:return a=r.memoizedState,n===null?($i(r),a!==null?(lt(r),Av(r,a)):(lt(r),r.flags&=-16777217)):a?a!==n.memoizedState?($i(r),lt(r),Av(r,a)):(lt(r),r.flags&=-16777217):(n.memoizedProps!==u&&$i(r),lt(r),r.flags&=-16777217),null;case 27:Ci(r),a=be.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==u&&$i(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return lt(r),null}n=ge.current,$o(r)?Wg(r):(n=A_(f,u,a),r.stateNode=n,$i(r))}return lt(r),null;case 5:if(Ci(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&$i(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return lt(r),null}if(n=ge.current,$o(r))Wg(r);else{switch(f=Oc(be.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?f.createElement(a,{is:u.is}):f.createElement(a)}}n[bt]=r,n[_t]=u;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;e:switch(Ft(n,a,u),a){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&$i(r)}}return lt(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==u&&$i(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(n=be.current,$o(r)){if(n=r.stateNode,a=r.memoizedProps,u=null,f=ln,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[bt]=r,n=!!(n.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||p_(n.nodeValue,a)),n||xs(r)}else n=Oc(n).createTextNode(u),n[bt]=r,r.stateNode=n}return lt(r),null;case 13:if(u=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=$o(r),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[bt]=r}else Xo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;lt(r),f=!1}else f=ey(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Ki(r),r):(Ki(r),null)}if(Ki(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=u!==null,n=n!==null&&n.memoizedState!==null,a){u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var d=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(d=u.memoizedState.cachePool.pool),d!==f&&(u.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),gc(r,r.updateQueue),lt(r),null;case 4:return Zn(),n===null&&Kd(r.stateNode.containerInfo),lt(r),null;case 10:return Fi(r.type),lt(r),null;case 19:if(he(It),f=r.memoizedState,f===null)return lt(r),null;if(u=(r.flags&128)!==0,d=f.rendering,d===null)if(u)hl(f,!1);else{if(dt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(d=hc(n),d!==null){for(r.flags|=128,hl(f,!1),n=d.updateQueue,r.updateQueue=n,gc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)Qg(a,n),a=a.sibling;return le(It,It.current&1|2),r.child}n=n.sibling}f.tail!==null&&In()>_c&&(r.flags|=128,u=!0,hl(f,!1),r.lanes=4194304)}else{if(!u)if(n=hc(d),n!==null){if(r.flags|=128,u=!0,n=n.updateQueue,r.updateQueue=n,gc(r,n),hl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!Fe)return lt(r),null}else 2*In()-f.renderingStartTime>_c&&a!==536870912&&(r.flags|=128,u=!0,hl(f,!1),r.lanes=4194304);f.isBackwards?(d.sibling=r.child,r.child=d):(n=f.last,n!==null?n.sibling=d:r.child=d,f.last=d)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=In(),r.sibling=null,n=It.current,le(It,u?n&1|2:n&1),r):(lt(r),null);case 22:case 23:return Ki(r),$f(),u=r.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(a&536870912)!==0&&(r.flags&128)===0&&(lt(r),r.subtreeFlags&6&&(r.flags|=8192)):lt(r),a=r.updateQueue,a!==null&&gc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==a&&(r.flags|=2048),n!==null&&he(Vs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Fi(Ct),lt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function ew(n,r){switch(Mf(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Fi(Ct),Zn(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Ci(r),null;case 13:if(Ki(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Xo()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return he(It),null;case 4:return Zn(),null;case 10:return Fi(r.type),null;case 22:case 23:return Ki(r),$f(),n!==null&&he(Vs),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Fi(Ct),null;case 25:return null;default:return null}}function Sv(n,r){switch(Mf(r),r.tag){case 3:Fi(Ct),Zn();break;case 26:case 27:case 5:Ci(r);break;case 4:Zn();break;case 13:Ki(r);break;case 19:he(It);break;case 10:Fi(r.type);break;case 22:case 23:Ki(r),$f(),n!==null&&he(Vs);break;case 24:Fi(Ct)}}function fl(n,r){try{var a=r.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&n)===n){u=void 0;var d=a.create,E=a.inst;u=d(),E.destroy=u}a=a.next}while(a!==f)}}catch(S){nt(r,r.return,S)}}function br(n,r,a){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var d=f.next;u=d;do{if((u.tag&n)===n){var E=u.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,f=r;var D=a,K=S;try{K()}catch(Z){nt(f,D,Z)}}}u=u.next}while(u!==d)}}catch(Z){nt(r,r.return,Z)}}function bv(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{hy(r,a)}catch(u){nt(n,n.return,u)}}}function wv(n,r,a){a.props=Ps(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(u){nt(n,r,u)}}function dl(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof a=="function"?n.refCleanup=a(u):a.current=u}}catch(f){nt(n,r,f)}}function di(n,r){var a=n.ref,u=n.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(f){nt(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){nt(n,r,f)}else a.current=null}function Rv(n){var r=n.type,a=n.memoizedProps,u=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(f){nt(n,n.return,f)}}function Ad(n,r,a){try{var u=n.stateNode;Tw(u,n.type,a,r),u[_t]=r}catch(f){nt(n,n.return,f)}}function Cv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Nr(n.type)||n.tag===4}function Sd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Cv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Nr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function bd(n,r,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Ic));else if(u!==4&&(u===27&&Nr(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(bd(n,r,a),n=n.sibling;n!==null;)bd(n,r,a),n=n.sibling}function yc(n,r,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(u!==4&&(u===27&&Nr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(yc(n,r,a),n=n.sibling;n!==null;)yc(n,r,a),n=n.sibling}function Iv(n){var r=n.stateNode,a=n.memoizedProps;try{for(var u=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Ft(r,u,a),r[bt]=n,r[_t]=a}catch(d){nt(n,n.return,d)}}var Xi=!1,yt=!1,wd=!1,Ov=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function tw(n,r){if(n=n.containerInfo,Xd=Pc,n=zg(n),Sf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,S=-1,D=-1,K=0,Z=0,ne=n,Y=null;t:for(;;){for(var $;ne!==a||f!==0&&ne.nodeType!==3||(S=E+f),ne!==d||u!==0&&ne.nodeType!==3||(D=E+u),ne.nodeType===3&&(E+=ne.nodeValue.length),($=ne.firstChild)!==null;)Y=ne,ne=$;for(;;){if(ne===n)break t;if(Y===a&&++K===f&&(S=E),Y===d&&++Z===u&&(D=E),($=ne.nextSibling)!==null)break;ne=Y,Y=ne.parentNode}ne=$}a=S===-1||D===-1?null:{start:S,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Qd={focusedElem:n,selectionRange:a},Pc=!1,Lt=r;Lt!==null;)if(r=Lt,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,Lt=n;else for(;Lt!==null;){switch(r=Lt,d=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,u=a.stateNode;try{var Te=Ps(a.type,f,a.elementType===a.type);n=u.getSnapshotBeforeUpdate(Te,d),u.__reactInternalSnapshotBeforeUpdate=n}catch(ve){nt(a,a.return,ve)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)Zd(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Zd(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Lt=n;break}Lt=r.return}}function xv(n,r,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:wr(n,a),u&4&&fl(5,a);break;case 1:if(wr(n,a),u&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(E){nt(a,a.return,E)}else{var f=Ps(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(E){nt(a,a.return,E)}}u&64&&bv(a),u&512&&dl(a,a.return);break;case 3:if(wr(n,a),u&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{hy(n,r)}catch(E){nt(a,a.return,E)}}break;case 27:r===null&&u&4&&Iv(a);case 26:case 5:wr(n,a),r===null&&u&4&&Rv(a),u&512&&dl(a,a.return);break;case 12:wr(n,a);break;case 13:wr(n,a),u&4&&Vv(n,a),u&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=cw.bind(null,a),Iw(n,a))));break;case 22:if(u=a.memoizedState!==null||Xi,!u){r=r!==null&&r.memoizedState!==null||yt,f=Xi;var d=yt;Xi=u,(yt=r)&&!d?Rr(n,a,(a.subtreeFlags&8772)!==0):wr(n,a),Xi=f,yt=d}break;case 30:break;default:wr(n,a)}}function Dv(n){var r=n.alternate;r!==null&&(n.alternate=null,Dv(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&dr(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var at=null,hn=!1;function Qi(n,r,a){for(a=a.child;a!==null;)Nv(n,r,a),a=a.sibling}function Nv(n,r,a){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(ht,a)}catch{}switch(a.tag){case 26:yt||di(a,r),Qi(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:yt||di(a,r);var u=at,f=hn;Nr(a.type)&&(at=a.stateNode,hn=!1),Qi(n,r,a),Al(a.stateNode),at=u,hn=f;break;case 5:yt||di(a,r);case 6:if(u=at,f=hn,at=null,Qi(n,r,a),at=u,hn=f,at!==null)if(hn)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(a.stateNode)}catch(d){nt(a,r,d)}else try{at.removeChild(a.stateNode)}catch(d){nt(a,r,d)}break;case 18:at!==null&&(hn?(n=at,E_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),xl(n)):E_(at,a.stateNode));break;case 4:u=at,f=hn,at=a.stateNode.containerInfo,hn=!0,Qi(n,r,a),at=u,hn=f;break;case 0:case 11:case 14:case 15:yt||br(2,a,r),yt||br(4,a,r),Qi(n,r,a);break;case 1:yt||(di(a,r),u=a.stateNode,typeof u.componentWillUnmount=="function"&&wv(a,r,u)),Qi(n,r,a);break;case 21:Qi(n,r,a);break;case 22:yt=(u=yt)||a.memoizedState!==null,Qi(n,r,a),yt=u;break;default:Qi(n,r,a)}}function Vv(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{xl(n)}catch(a){nt(r,r.return,a)}}function nw(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new Ov),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new Ov),r;default:throw Error(s(435,n.tag))}}function Rd(n,r){var a=nw(n);r.forEach(function(u){var f=hw.bind(null,n,u);a.has(u)||(a.add(u),u.then(f,f))})}function Tn(n,r){var a=r.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u],d=n,E=r,S=E;e:for(;S!==null;){switch(S.tag){case 27:if(Nr(S.type)){at=S.stateNode,hn=!1;break e}break;case 5:at=S.stateNode,hn=!1;break e;case 3:case 4:at=S.stateNode.containerInfo,hn=!0;break e}S=S.return}if(at===null)throw Error(s(160));Nv(d,E,f),at=null,hn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Mv(r,n),r=r.sibling}var Kn=null;function Mv(n,r){var a=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Tn(r,n),An(n),u&4&&(br(3,n,n.return),fl(3,n),br(5,n,n.return));break;case 1:Tn(r,n),An(n),u&512&&(yt||a===null||di(a,a.return)),u&64&&Xi&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var f=Kn;if(Tn(r,n),An(n),u&512&&(yt||a===null||di(a,a.return)),u&4){var d=a!==null?a.memoizedState:null;if(u=n.memoizedState,a===null)if(u===null)if(n.stateNode===null){e:{u=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":d=f.getElementsByTagName("title")[0],(!d||d[cs]||d[bt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(u),f.head.insertBefore(d,f.querySelector("head > title"))),Ft(d,u,a),d[bt]=n,pt(d),u=d;break e;case"link":var E=I_("link","href",f).get(u+(a.href||""));if(E){for(var S=0;S<E.length;S++)if(d=E[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(S,1);break t}}d=f.createElement(u),Ft(d,u,a),f.head.appendChild(d);break;case"meta":if(E=I_("meta","content",f).get(u+(a.content||""))){for(S=0;S<E.length;S++)if(d=E[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(S,1);break t}}d=f.createElement(u),Ft(d,u,a),f.head.appendChild(d);break;default:throw Error(s(468,u))}d[bt]=n,pt(d),u=d}n.stateNode=u}else O_(f,n.type,n.stateNode);else n.stateNode=C_(f,u,n.memoizedProps);else d!==u?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,u===null?O_(f,n.type,n.stateNode):C_(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Ad(n,n.memoizedProps,a.memoizedProps)}break;case 27:Tn(r,n),An(n),u&512&&(yt||a===null||di(a,a.return)),a!==null&&u&4&&Ad(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Tn(r,n),An(n),u&512&&(yt||a===null||di(a,a.return)),n.flags&32){f=n.stateNode;try{xn(f,"")}catch($){nt(n,n.return,$)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,Ad(n,f,a!==null?a.memoizedProps:f)),u&1024&&(wd=!0);break;case 6:if(Tn(r,n),An(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,a=n.stateNode;try{a.nodeValue=u}catch($){nt(n,n.return,$)}}break;case 3:if(Nc=null,f=Kn,Kn=xc(r.containerInfo),Tn(r,n),Kn=f,An(n),u&4&&a!==null&&a.memoizedState.isDehydrated)try{xl(r.containerInfo)}catch($){nt(n,n.return,$)}wd&&(wd=!1,Pv(n));break;case 4:u=Kn,Kn=xc(n.stateNode.containerInfo),Tn(r,n),An(n),Kn=u;break;case 12:Tn(r,n),An(n);break;case 13:Tn(r,n),An(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Nd=In()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Rd(n,u)));break;case 22:f=n.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,K=Xi,Z=yt;if(Xi=K||f,yt=Z||D,Tn(r,n),yt=Z,Xi=K,An(n),u&8192)e:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||D||Xi||yt||ks(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){D=a=r;try{if(d=D.stateNode,f)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=D.stateNode;var ne=D.memoizedProps.style,Y=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;S.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch($){nt(D,D.return,$)}}}else if(r.tag===6){if(a===null){D=r;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch($){nt(D,D.return,$)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=n.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,Rd(n,a))));break;case 19:Tn(r,n),An(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Rd(n,u)));break;case 30:break;case 21:break;default:Tn(r,n),An(n)}}function An(n){var r=n.flags;if(r&2){try{for(var a,u=n.return;u!==null;){if(Cv(u)){a=u;break}u=u.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Sd(n);yc(n,d,f);break;case 5:var E=a.stateNode;a.flags&32&&(xn(E,""),a.flags&=-33);var S=Sd(n);yc(n,S,E);break;case 3:case 4:var D=a.stateNode.containerInfo,K=Sd(n);bd(n,K,D);break;default:throw Error(s(161))}}catch(Z){nt(n,n.return,Z)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function Pv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;Pv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function wr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)xv(n,r.alternate,r),r=r.sibling}function ks(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:br(4,r,r.return),ks(r);break;case 1:di(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&wv(r,r.return,a),ks(r);break;case 27:Al(r.stateNode);case 26:case 5:di(r,r.return),ks(r);break;case 22:r.memoizedState===null&&ks(r);break;case 30:ks(r);break;default:ks(r)}n=n.sibling}}function Rr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=n,d=r,E=d.flags;switch(d.tag){case 0:case 11:case 15:Rr(f,d,a),fl(4,d);break;case 1:if(Rr(f,d,a),u=d,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){nt(u,u.return,K)}if(u=d,f=u.updateQueue,f!==null){var S=u.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)cy(D[f],S)}catch(K){nt(u,u.return,K)}}a&&E&64&&bv(d),dl(d,d.return);break;case 27:Iv(d);case 26:case 5:Rr(f,d,a),a&&u===null&&E&4&&Rv(d),dl(d,d.return);break;case 12:Rr(f,d,a);break;case 13:Rr(f,d,a),a&&E&4&&Vv(f,d);break;case 22:d.memoizedState===null&&Rr(f,d,a),dl(d,d.return);break;case 30:break;default:Rr(f,d,a)}r=r.sibling}}function Cd(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Wo(a))}function Id(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Wo(n))}function mi(n,r,a,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)kv(n,r,a,u),r=r.sibling}function kv(n,r,a,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:mi(n,r,a,u),f&2048&&fl(9,r);break;case 1:mi(n,r,a,u);break;case 3:mi(n,r,a,u),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Wo(n)));break;case 12:if(f&2048){mi(n,r,a,u),n=r.stateNode;try{var d=r.memoizedProps,E=d.id,S=d.onPostCommit;typeof S=="function"&&S(E,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){nt(r,r.return,D)}}else mi(n,r,a,u);break;case 13:mi(n,r,a,u);break;case 23:break;case 22:d=r.stateNode,E=r.alternate,r.memoizedState!==null?d._visibility&2?mi(n,r,a,u):ml(n,r):d._visibility&2?mi(n,r,a,u):(d._visibility|=2,Ma(n,r,a,u,(r.subtreeFlags&10256)!==0)),f&2048&&Cd(E,r);break;case 24:mi(n,r,a,u),f&2048&&Id(r.alternate,r);break;default:mi(n,r,a,u)}}function Ma(n,r,a,u,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=n,E=r,S=a,D=u,K=E.flags;switch(E.tag){case 0:case 11:case 15:Ma(d,E,S,D,f),fl(8,E);break;case 23:break;case 22:var Z=E.stateNode;E.memoizedState!==null?Z._visibility&2?Ma(d,E,S,D,f):ml(d,E):(Z._visibility|=2,Ma(d,E,S,D,f)),f&&K&2048&&Cd(E.alternate,E);break;case 24:Ma(d,E,S,D,f),f&&K&2048&&Id(E.alternate,E);break;default:Ma(d,E,S,D,f)}r=r.sibling}}function ml(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,u=r,f=u.flags;switch(u.tag){case 22:ml(a,u),f&2048&&Cd(u.alternate,u);break;case 24:ml(a,u),f&2048&&Id(u.alternate,u);break;default:ml(a,u)}r=r.sibling}}var pl=8192;function Pa(n){if(n.subtreeFlags&pl)for(n=n.child;n!==null;)Lv(n),n=n.sibling}function Lv(n){switch(n.tag){case 26:Pa(n),n.flags&pl&&n.memoizedState!==null&&Bw(Kn,n.memoizedState,n.memoizedProps);break;case 5:Pa(n);break;case 3:case 4:var r=Kn;Kn=xc(n.stateNode.containerInfo),Pa(n),Kn=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=pl,pl=16777216,Pa(n),pl=r):Pa(n));break;default:Pa(n)}}function Uv(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function gl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];Lt=u,zv(u,n)}Uv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)jv(n),n=n.sibling}function jv(n){switch(n.tag){case 0:case 11:case 15:gl(n),n.flags&2048&&br(9,n,n.return);break;case 3:gl(n);break;case 12:gl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,vc(n)):gl(n);break;default:gl(n)}}function vc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];Lt=u,zv(u,n)}Uv(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:br(8,r,r.return),vc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,vc(r));break;default:vc(r)}n=n.sibling}}function zv(n,r){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:br(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Wo(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,Lt=u;else e:for(a=n;Lt!==null;){u=Lt;var f=u.sibling,d=u.return;if(Dv(u),u===a){Lt=null;break e}if(f!==null){f.return=d,Lt=f;break e}Lt=d}}}var iw={getCacheForType:function(n){var r=Qt(Ct),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},rw=typeof WeakMap=="function"?WeakMap:Map,$e=0,rt=null,Me=null,ze=0,Xe=0,Sn=null,Cr=!1,ka=!1,Od=!1,Ji=0,dt=0,Ir=0,Ls=0,xd=0,jn=0,La=0,yl=null,fn=null,Dd=!1,Nd=0,_c=1/0,Ec=null,Or=null,qt=0,xr=null,Ua=null,ja=0,Vd=0,Md=null,Bv=null,vl=0,Pd=null;function bn(){if(($e&2)!==0&&ze!==0)return ze&-ze;if(W.T!==null){var n=Ra;return n!==0?n:Hd()}return hr()}function Hv(){jn===0&&(jn=(ze&536870912)===0||Fe?Co():536870912);var n=Un.current;return n!==null&&(n.flags|=32),jn}function wn(n,r,a){(n===rt&&(Xe===2||Xe===9)||n.cancelPendingCommit!==null)&&(za(n,0),Dr(n,ze,jn,!1)),Oi(n,a),(($e&2)===0||n!==rt)&&(n===rt&&(($e&2)===0&&(Ls|=a),dt===4&&Dr(n,ze,jn,!1)),pi(n))}function qv(n,r,a){if(($e&6)!==0)throw Error(s(327));var u=!a&&(r&124)===0&&(r&n.expiredLanes)===0||us(n,r),f=u?ow(n,r):Ud(n,r,!0),d=u;do{if(f===0){ka&&!u&&Dr(n,r,0,!1);break}else{if(a=n.current.alternate,d&&!sw(a)){f=Ud(n,r,!1),d=!1;continue}if(f===2){if(d=r,n.errorRecoveryDisabledLanes&d)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var S=n;f=yl;var D=S.current.memoizedState.isDehydrated;if(D&&(za(S,E).flags|=256),E=Ud(S,E,!1),E!==2){if(Od&&!D){S.errorRecoveryDisabledLanes|=d,Ls|=d,f=4;break e}d=fn,fn=f,d!==null&&(fn===null?fn=d:fn.push.apply(fn,d))}f=E}if(d=!1,f!==2)continue}}if(f===1){za(n,0),Dr(n,r,0,!0);break}e:{switch(u=n,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Dr(u,r,jn,!Cr);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Nd+300-In(),10<f)){if(Dr(u,r,jn,!Cr),ia(u,0,!0)!==0)break e;u.timeoutHandle=v_(Fv.bind(null,u,a,fn,Ec,Dd,r,jn,Ls,La,Cr,d,2,-0,0),f);break e}Fv(u,a,fn,Ec,Dd,r,jn,Ls,La,Cr,d,0,-0,0)}}break}while(!0);pi(n)}function Fv(n,r,a,u,f,d,E,S,D,K,Z,ne,Y,$){if(n.timeoutHandle=-1,ne=r.subtreeFlags,(ne&8192||(ne&16785408)===16785408)&&(wl={stylesheets:null,count:0,unsuspend:zw},Lv(r),ne=Hw(),ne!==null)){n.cancelPendingCommit=ne(Jv.bind(null,n,r,d,a,u,f,E,S,D,Z,1,Y,$)),Dr(n,d,E,!K);return}Jv(n,r,d,a,u,f,E,S,D)}function sw(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var f=a[u],d=f.getSnapshot;f=f.value;try{if(!_n(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Dr(n,r,a,u){r&=~xd,r&=~Ls,n.suspendedLanes|=r,n.pingedLanes&=~r,u&&(n.warmLanes|=r),u=n.expirationTimes;for(var f=r;0<f;){var d=31-Xt(f),E=1<<d;u[d]=-1,f&=~E}a!==0&&ei(n,a,r)}function Tc(){return($e&6)===0?(_l(0),!1):!0}function kd(){if(Me!==null){if(Xe===0)var n=Me.return;else n=Me,qi=Ds=null,Zf(n),Na=null,ul=0,n=Me;for(;n!==null;)Sv(n.alternate,n),n=n.return;Me=null}}function za(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,Sw(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),kd(),rt=n,Me=a=zi(n.current,null),ze=r,Xe=0,Sn=null,Cr=!1,ka=us(n,r),Od=!1,La=jn=xd=Ls=Ir=dt=0,fn=yl=null,Dd=!1,(r&8)!==0&&(r|=r&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=r;0<u;){var f=31-Xt(u),d=1<<f;r|=n[f],u&=~d}return Ji=r,qu(),a}function Gv(n,r){Oe=null,W.H=lc,r===el||r===Wu?(r=ly(),Xe=3):r===sy?(r=ly(),Xe=4):Xe=r===uv?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Sn=r,Me===null&&(dt=1,dc(n,Mn(r,n.current)))}function Kv(){var n=W.H;return W.H=lc,n===null?lc:n}function Yv(){var n=W.A;return W.A=iw,n}function Ld(){dt=4,Cr||(ze&4194048)!==ze&&Un.current!==null||(ka=!0),(Ir&134217727)===0&&(Ls&134217727)===0||rt===null||Dr(rt,ze,jn,!1)}function Ud(n,r,a){var u=$e;$e|=2;var f=Kv(),d=Yv();(rt!==n||ze!==r)&&(Ec=null,za(n,r)),r=!1;var E=dt;e:do try{if(Xe!==0&&Me!==null){var S=Me,D=Sn;switch(Xe){case 8:kd(),E=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(r=!0);var K=Xe;if(Xe=0,Sn=null,Ba(n,S,D,K),a&&ka){E=0;break e}break;default:K=Xe,Xe=0,Sn=null,Ba(n,S,D,K)}}aw(),E=dt;break}catch(Z){Gv(n,Z)}while(!0);return r&&n.shellSuspendCounter++,qi=Ds=null,$e=u,W.H=f,W.A=d,Me===null&&(rt=null,ze=0,qu()),E}function aw(){for(;Me!==null;)$v(Me)}function ow(n,r){var a=$e;$e|=2;var u=Kv(),f=Yv();rt!==n||ze!==r?(Ec=null,_c=In()+500,za(n,r)):ka=us(n,r);e:do try{if(Xe!==0&&Me!==null){r=Me;var d=Sn;t:switch(Xe){case 1:Xe=0,Sn=null,Ba(n,r,d,1);break;case 2:case 9:if(ay(d)){Xe=0,Sn=null,Xv(r);break}r=function(){Xe!==2&&Xe!==9||rt!==n||(Xe=7),pi(n)},d.then(r,r);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:ay(d)?(Xe=0,Sn=null,Xv(r)):(Xe=0,Sn=null,Ba(n,r,d,7));break;case 5:var E=null;switch(Me.tag){case 26:E=Me.memoizedState;case 5:case 27:var S=Me;if(!E||x_(E)){Xe=0,Sn=null;var D=S.sibling;if(D!==null)Me=D;else{var K=S.return;K!==null?(Me=K,Ac(K)):Me=null}break t}}Xe=0,Sn=null,Ba(n,r,d,5);break;case 6:Xe=0,Sn=null,Ba(n,r,d,6);break;case 8:kd(),dt=6;break e;default:throw Error(s(462))}}lw();break}catch(Z){Gv(n,Z)}while(!0);return qi=Ds=null,W.H=u,W.A=f,$e=a,Me!==null?0:(rt=null,ze=0,qu(),dt)}function lw(){for(;Me!==null&&!So();)$v(Me)}function $v(n){var r=Tv(n.alternate,n,Ji);n.memoizedProps=n.pendingProps,r===null?Ac(n):Me=r}function Xv(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=pv(a,r,r.pendingProps,r.type,void 0,ze);break;case 11:r=pv(a,r,r.pendingProps,r.type.render,r.ref,ze);break;case 5:Zf(r);default:Sv(a,r),r=Me=Qg(r,Ji),r=Tv(a,r,Ji)}n.memoizedProps=n.pendingProps,r===null?Ac(n):Me=r}function Ba(n,r,a,u){qi=Ds=null,Zf(r),Na=null,ul=0;var f=r.return;try{if(Jb(n,f,r,a,ze)){dt=1,dc(n,Mn(a,n.current)),Me=null;return}}catch(d){if(f!==null)throw Me=f,d;dt=1,dc(n,Mn(a,n.current)),Me=null;return}r.flags&32768?(Fe||u===1?n=!0:ka||(ze&536870912)!==0?n=!1:(Cr=n=!0,(u===2||u===9||u===3||u===6)&&(u=Un.current,u!==null&&u.tag===13&&(u.flags|=16384))),Qv(r,n)):Ac(r)}function Ac(n){var r=n;do{if((r.flags&32768)!==0){Qv(r,Cr);return}n=r.return;var a=Zb(r.alternate,r,Ji);if(a!==null){Me=a;return}if(r=r.sibling,r!==null){Me=r;return}Me=r=n}while(r!==null);dt===0&&(dt=5)}function Qv(n,r){do{var a=ew(n.alternate,n);if(a!==null){a.flags&=32767,Me=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Me=n;return}Me=n=a}while(n!==null);dt=6,Me=null}function Jv(n,r,a,u,f,d,E,S,D){n.cancelPendingCommit=null;do Sc();while(qt!==0);if(($e&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=If,Oo(n,a,d,E,S,D),n===rt&&(Me=rt=null,ze=0),Ua=r,xr=n,ja=a,Vd=d,Md=f,Bv=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,fw(ss,function(){return n_(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,f=ce.p,ce.p=2,E=$e,$e|=4;try{tw(n,r,a)}finally{$e=E,ce.p=f,W.T=u}}qt=1,Wv(),Zv(),e_()}}function Wv(){if(qt===1){qt=0;var n=xr,r=Ua,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var u=ce.p;ce.p=2;var f=$e;$e|=4;try{Mv(r,n);var d=Qd,E=zg(n.containerInfo),S=d.focusedElem,D=d.selectionRange;if(E!==S&&S&&S.ownerDocument&&jg(S.ownerDocument.documentElement,S)){if(D!==null&&Sf(S)){var K=D.start,Z=D.end;if(Z===void 0&&(Z=K),"selectionStart"in S)S.selectionStart=K,S.selectionEnd=Math.min(Z,S.value.length);else{var ne=S.ownerDocument||document,Y=ne&&ne.defaultView||window;if(Y.getSelection){var $=Y.getSelection(),Te=S.textContent.length,ve=Math.min(D.start,Te),et=D.end===void 0?ve:Math.min(D.end,Te);!$.extend&&ve>et&&(E=et,et=ve,ve=E);var H=Ug(S,ve),L=Ug(S,et);if(H&&L&&($.rangeCount!==1||$.anchorNode!==H.node||$.anchorOffset!==H.offset||$.focusNode!==L.node||$.focusOffset!==L.offset)){var G=ne.createRange();G.setStart(H.node,H.offset),$.removeAllRanges(),ve>et?($.addRange(G),$.extend(L.node,L.offset)):(G.setEnd(L.node,L.offset),$.addRange(G))}}}}for(ne=[],$=S;$=$.parentNode;)$.nodeType===1&&ne.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ne.length;S++){var te=ne[S];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}Pc=!!Xd,Qd=Xd=null}finally{$e=f,ce.p=u,W.T=a}}n.current=r,qt=2}}function Zv(){if(qt===2){qt=0;var n=xr,r=Ua,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var u=ce.p;ce.p=2;var f=$e;$e|=4;try{xv(n,r.alternate,r)}finally{$e=f,ce.p=u,W.T=a}}qt=3}}function e_(){if(qt===4||qt===3){qt=0,vu();var n=xr,r=Ua,a=ja,u=Bv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?qt=5:(qt=0,Ua=xr=null,t_(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Or=null),ra(a),r=r.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(ht,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=W.T,f=ce.p,ce.p=2,W.T=null;try{for(var d=n.onRecoverableError,E=0;E<u.length;E++){var S=u[E];d(S.value,{componentStack:S.stack})}}finally{W.T=r,ce.p=f}}(ja&3)!==0&&Sc(),pi(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===Pd?vl++:(vl=0,Pd=n):vl=0,_l(0)}}function t_(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Wo(r)))}function Sc(n){return Wv(),Zv(),e_(),n_()}function n_(){if(qt!==5)return!1;var n=xr,r=Vd;Vd=0;var a=ra(ja),u=W.T,f=ce.p;try{ce.p=32>a?32:a,W.T=null,a=Md,Md=null;var d=xr,E=ja;if(qt=0,Ua=xr=null,ja=0,($e&6)!==0)throw Error(s(331));var S=$e;if($e|=4,jv(d.current),kv(d,d.current,E,a),$e=S,_l(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(ht,d)}catch{}return!0}finally{ce.p=f,W.T=u,t_(n,r)}}function i_(n,r,a){r=Mn(a,r),r=dd(n.stateNode,r,2),n=Er(n,r,2),n!==null&&(Oi(n,2),pi(n))}function nt(n,r,a){if(n.tag===3)i_(n,n,a);else for(;r!==null;){if(r.tag===3){i_(r,n,a);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Or===null||!Or.has(u))){n=Mn(a,n),a=ov(2),u=Er(r,a,2),u!==null&&(lv(a,u,r,n),Oi(u,2),pi(u));break}}r=r.return}}function jd(n,r,a){var u=n.pingCache;if(u===null){u=n.pingCache=new rw;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(a)||(Od=!0,f.add(a),n=uw.bind(null,n,r,a),r.then(n,n))}function uw(n,r,a){var u=n.pingCache;u!==null&&u.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,rt===n&&(ze&a)===a&&(dt===4||dt===3&&(ze&62914560)===ze&&300>In()-Nd?($e&2)===0&&za(n,0):xd|=a,La===ze&&(La=0)),pi(n)}function r_(n,r){r===0&&(r=Io()),n=Aa(n,r),n!==null&&(Oi(n,r),pi(n))}function cw(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),r_(n,a)}function hw(n,r){var a=0;switch(n.tag){case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),r_(n,a)}function fw(n,r){return is(n,r)}var bc=null,Ha=null,zd=!1,wc=!1,Bd=!1,Us=0;function pi(n){n!==Ha&&n.next===null&&(Ha===null?bc=Ha=n:Ha=Ha.next=n),wc=!0,zd||(zd=!0,mw())}function _l(n,r){if(!Bd&&wc){Bd=!0;do for(var a=!1,u=bc;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var d=0;else{var E=u.suspendedLanes,S=u.pingedLanes;d=(1<<31-Xt(42|n)+1)-1,d&=f&~(E&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,l_(u,d))}else d=ze,d=ia(u,u===rt?d:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(d&3)===0||us(u,d)||(a=!0,l_(u,d));u=u.next}while(a);Bd=!1}}function dw(){s_()}function s_(){wc=zd=!1;var n=0;Us!==0&&(Aw()&&(n=Us),Us=0);for(var r=In(),a=null,u=bc;u!==null;){var f=u.next,d=a_(u,r);d===0?(u.next=null,a===null?bc=f:a.next=f,f===null&&(Ha=a)):(a=u,(n!==0||(d&3)!==0)&&(wc=!0)),u=f}_l(n)}function a_(n,r){for(var a=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var E=31-Xt(d),S=1<<E,D=f[E];D===-1?((S&a)===0||(S&u)!==0)&&(f[E]=Ro(S,r)):D<=r&&(n.expiredLanes|=S),d&=~S}if(r=rt,a=ze,a=ia(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,a===0||n===r&&(Xe===2||Xe===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&rs(u),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||us(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(u!==null&&rs(u),ra(a)){case 2:case 8:a=ta;break;case 32:a=ss;break;case 268435456:a=na;break;default:a=ss}return u=o_.bind(null,n),a=is(a,u),n.callbackPriority=r,n.callbackNode=a,r}return u!==null&&u!==null&&rs(u),n.callbackPriority=2,n.callbackNode=null,2}function o_(n,r){if(qt!==0&&qt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Sc()&&n.callbackNode!==a)return null;var u=ze;return u=ia(n,n===rt?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(qv(n,u,r),a_(n,In()),n.callbackNode!=null&&n.callbackNode===a?o_.bind(null,n):null)}function l_(n,r){if(Sc())return null;qv(n,r,!0)}function mw(){bw(function(){($e&6)!==0?is(bo,dw):s_()})}function Hd(){return Us===0&&(Us=Co()),Us}function u_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ca(""+n)}function c_(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function pw(n,r,a,u,f){if(r==="submit"&&a&&a.stateNode===f){var d=u_((f[_t]||null).action),E=u.submitter;E&&(r=(r=E[_t]||null)?u_(r.formAction):E.getAttribute("formAction"),r!==null&&(d=r,E=null));var S=new ha("action","action",null,u,f);n.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Us!==0){var D=E?c_(f,E):new FormData(f);ld(a,{pending:!0,data:D,method:f.method,action:d},null,D)}}else typeof d=="function"&&(S.preventDefault(),D=E?c_(f,E):new FormData(f),ld(a,{pending:!0,data:D,method:f.method,action:d},d,D))},currentTarget:f}]})}}for(var qd=0;qd<Cf.length;qd++){var Fd=Cf[qd],gw=Fd.toLowerCase(),yw=Fd[0].toUpperCase()+Fd.slice(1);Gn(gw,"on"+yw)}Gn(qg,"onAnimationEnd"),Gn(Fg,"onAnimationIteration"),Gn(Gg,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(Mb,"onTransitionRun"),Gn(Pb,"onTransitionStart"),Gn(kb,"onTransitionCancel"),Gn(Kg,"onTransitionEnd"),Di("onMouseEnter",["mouseout","mouseover"]),Di("onMouseLeave",["mouseout","mouseover"]),Di("onPointerEnter",["pointerout","pointerover"]),Di("onPointerLeave",["pointerout","pointerover"]),qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function h_(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var u=n[a],f=u.event;u=u.listeners;e:{var d=void 0;if(r)for(var E=u.length-1;0<=E;E--){var S=u[E],D=S.instance,K=S.currentTarget;if(S=S.listener,D!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=K;try{d(f)}catch(Z){fc(Z)}f.currentTarget=null,d=D}else for(E=0;E<u.length;E++){if(S=u[E],D=S.instance,K=S.currentTarget,S=S.listener,D!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=K;try{d(f)}catch(Z){fc(Z)}f.currentTarget=null,d=D}}}}function Pe(n,r){var a=r[Do];a===void 0&&(a=r[Do]=new Set);var u=n+"__bubble";a.has(u)||(f_(r,n,2,!1),a.add(u))}function Gd(n,r,a){var u=0;r&&(u|=4),f_(a,n,u,r)}var Rc="_reactListening"+Math.random().toString(36).slice(2);function Kd(n){if(!n[Rc]){n[Rc]=!0,No.forEach(function(a){a!=="selectionchange"&&(vw.has(a)||Gd(a,!1,n),Gd(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Rc]||(r[Rc]=!0,Gd("selectionchange",!1,r))}}function f_(n,r,a,u){switch(k_(r)){case 2:var f=Gw;break;case 8:f=Kw;break;default:f=am}a=f.bind(null,r,a,n),f=void 0,!Nn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function Yd(n,r,a,u,f){var d=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var S=u.stateNode.containerInfo;if(S===f)break;if(E===4)for(E=u.return;E!==null;){var D=E.tag;if((D===3||D===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;S!==null;){if(E=xi(S),E===null)return;if(D=E.tag,D===5||D===6||D===26||D===27){u=d=E;continue e}S=S.parentNode}}u=u.return}Iu(function(){var K=d,Z=Dn(a),ne=[];e:{var Y=Yg.get(n);if(Y!==void 0){var $=ha,Te=n;switch(n){case"keypress":if(ai(a)===0)break e;case"keydown":case"keyup":$=ya;break;case"focusin":Te="focus",$=ma;break;case"focusout":Te="blur",$=ma;break;case"beforeblur":case"afterblur":$=ma;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=_f;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=ku;break;case qg:case Fg:case Gg:$=pa;break;case Kg:$=Uu;break;case"scroll":case"scrollend":$=Ou;break;case"wheel":$=va;break;case"copy":case"cut":case"paste":$=ga;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Fo;break;case"toggle":case"beforetoggle":$=zu}var ve=(r&4)!==0,et=!ve&&(n==="scroll"||n==="scrollend"),H=ve?Y!==null?Y+"Capture":null:Y;ve=[];for(var L=K,G;L!==null;){var te=L;if(G=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||G===null||H===null||(te=ys(L,H),te!=null&&ve.push(Tl(L,te,G))),et)break;L=L.return}0<ve.length&&(Y=new $(Y,Te,null,a,Z),ne.push({event:Y,listeners:ve}))}}if((r&7)===0){e:{if(Y=n==="mouseover"||n==="pointerover",$=n==="mouseout"||n==="pointerout",Y&&a!==Mi&&(Te=a.relatedTarget||a.fromElement)&&(xi(Te)||Te[On]))break e;if(($||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,$?(Te=a.relatedTarget||a.toElement,$=K,Te=Te?xi(Te):null,Te!==null&&(et=l(Te),ve=Te.tag,Te!==et||ve!==5&&ve!==27&&ve!==6)&&(Te=null)):($=null,Te=K),$!==Te)){if(ve=Vn,te="onMouseLeave",H="onMouseEnter",L="mouse",(n==="pointerout"||n==="pointerover")&&(ve=Fo,te="onPointerLeave",H="onPointerEnter",L="pointer"),et=$==null?Y:ni($),G=Te==null?Y:ni(Te),Y=new ve(te,L+"leave",$,a,Z),Y.target=et,Y.relatedTarget=G,te=null,xi(Z)===K&&(ve=new ve(H,L+"enter",Te,a,Z),ve.target=G,ve.relatedTarget=et,te=ve),et=te,$&&Te)t:{for(ve=$,H=Te,L=0,G=ve;G;G=qa(G))L++;for(G=0,te=H;te;te=qa(te))G++;for(;0<L-G;)ve=qa(ve),L--;for(;0<G-L;)H=qa(H),G--;for(;L--;){if(ve===H||H!==null&&ve===H.alternate)break t;ve=qa(ve),H=qa(H)}ve=null}else ve=null;$!==null&&d_(ne,Y,$,ve,!1),Te!==null&&et!==null&&d_(ne,et,Te,ve,!0)}}e:{if(Y=K?ni(K):window,$=Y.nodeName&&Y.nodeName.toLowerCase(),$==="select"||$==="input"&&Y.type==="file")var de=Ng;else if(Rt(Y))if(Vg)de=Db;else{de=Ob;var Ne=Ib}else $=Y.nodeName,!$||$.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?K&&Lo(K.elementType)&&(de=Ng):de=xb;if(de&&(de=de(n,K))){ji(ne,de,a,Z);break e}Ne&&Ne(n,Y,K),n==="focusout"&&K&&Y.type==="number"&&K.memoizedProps.value!=null&&pr(Y,"number",Y.value)}switch(Ne=K?ni(K):window,n){case"focusin":(Rt(Ne)||Ne.contentEditable==="true")&&(_a=Ne,bf=K,Yo=null);break;case"focusout":Yo=bf=_a=null;break;case"mousedown":wf=!0;break;case"contextmenu":case"mouseup":case"dragend":wf=!1,Bg(ne,a,Z);break;case"selectionchange":if(Vb)break;case"keydown":case"keyup":Bg(ne,a,Z)}var me;if(ui)e:{switch(n){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Ue?X(n,a)&&(Ee="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(_&&a.locale!=="ko"&&(Ue||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Ue&&(me=jo()):(si=Z,gr="value"in si?si.value:si.textContent,Ue=!0)),Ne=Cc(K,Ee),0<Ne.length&&(Ee=new Ho(Ee,n,null,a,Z),ne.push({event:Ee,listeners:Ne}),me?Ee.data=me:(me=ue(a),me!==null&&(Ee.data=me)))),(me=y?wt(n,a):je(n,a))&&(Ee=Cc(K,"onBeforeInput"),0<Ee.length&&(Ne=new Ho("onBeforeInput","beforeinput",null,a,Z),ne.push({event:Ne,listeners:Ee}),Ne.data=me)),pw(ne,n,K,a,Z)}h_(ne,r)})}function Tl(n,r,a){return{instance:n,listener:r,currentTarget:a}}function Cc(n,r){for(var a=r+"Capture",u=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ys(n,a),f!=null&&u.unshift(Tl(n,f,d)),f=ys(n,r),f!=null&&u.push(Tl(n,f,d))),n.tag===3)return u;n=n.return}return[]}function qa(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function d_(n,r,a,u,f){for(var d=r._reactName,E=[];a!==null&&a!==u;){var S=a,D=S.alternate,K=S.stateNode;if(S=S.tag,D!==null&&D===u)break;S!==5&&S!==26&&S!==27||K===null||(D=K,f?(K=ys(a,d),K!=null&&E.unshift(Tl(a,K,D))):f||(K=ys(a,d),K!=null&&E.push(Tl(a,K,D)))),a=a.return}E.length!==0&&n.push({event:r,listeners:E})}var _w=/\r\n?/g,Ew=/\u0000|\uFFFD/g;function m_(n){return(typeof n=="string"?n:""+n).replace(_w,`
`).replace(Ew,"")}function p_(n,r){return r=m_(r),m_(n)===r}function Ic(){}function Ze(n,r,a,u,f,d){switch(a){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||xn(n,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&xn(n,""+u);break;case"className":ii(n,"class",u);break;case"tabIndex":ii(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ii(n,a,u);break;case"style":ko(n,u,d);break;case"data":if(r!=="object"){ii(n,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=ca(""+u),n.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Ze(n,r,"name",f.name,f,null),Ze(n,r,"formEncType",f.formEncType,f,null),Ze(n,r,"formMethod",f.formMethod,f,null),Ze(n,r,"formTarget",f.formTarget,f,null)):(Ze(n,r,"encType",f.encType,f,null),Ze(n,r,"method",f.method,f,null),Ze(n,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=ca(""+u),n.setAttribute(a,u);break;case"onClick":u!=null&&(n.onclick=Ic);break;case"onScroll":u!=null&&Pe("scroll",n);break;case"onScrollEnd":u!=null&&Pe("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}a=ca(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""+u):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":u===!0?n.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,u):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(a,u):n.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(a):n.setAttribute(a,u);break;case"popover":Pe("beforetoggle",n),Pe("toggle",n),mr(n,"popover",u);break;case"xlinkActuate":zt(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":zt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":zt(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":zt(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":zt(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":zt(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":zt(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":zt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":zt(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":mr(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=yf.get(a)||a,mr(n,a,u))}}function $d(n,r,a,u,f,d){switch(a){case"style":ko(n,u,d);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof u=="string"?xn(n,u):(typeof u=="number"||typeof u=="bigint")&&xn(n,""+u);break;case"onScroll":u!=null&&Pe("scroll",n);break;case"onScrollEnd":u!=null&&Pe("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Ic);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=n[_t]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(r,d,f),typeof u=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,u,f);break e}a in n?n[a]=u:u===!0?n.setAttribute(a,""):mr(n,a,u)}}}function Ft(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",n),Pe("load",n);var u=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ze(n,r,d,E,a,null)}}f&&Ze(n,r,"srcSet",a.srcSet,a,null),u&&Ze(n,r,"src",a.src,a,null);return;case"input":Pe("invalid",n);var S=d=E=f=null,D=null,K=null;for(u in a)if(a.hasOwnProperty(u)){var Z=a[u];if(Z!=null)switch(u){case"name":f=Z;break;case"type":E=Z;break;case"checked":D=Z;break;case"defaultChecked":K=Z;break;case"value":d=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:Ze(n,r,u,Z,a,null)}}ms(n,d,S,D,K,E,f,!1),ua(n);return;case"select":Pe("invalid",n),u=E=d=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":E=S;break;case"multiple":u=S;default:Ze(n,r,f,S,a,null)}r=d,a=E,n.multiple=!!u,r!=null?Vi(n,!!u,r,!1):a!=null&&Vi(n,!!u,a,!0);return;case"textarea":Pe("invalid",n),d=f=u=null;for(E in a)if(a.hasOwnProperty(E)&&(S=a[E],S!=null))switch(E){case"value":u=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Ze(n,r,E,S,a,null)}ps(n,u,f,d),ua(n);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(u=a[D],u!=null))switch(D){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ze(n,r,D,u,a,null)}return;case"dialog":Pe("beforetoggle",n),Pe("toggle",n),Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":Pe("load",n);break;case"video":case"audio":for(u=0;u<El.length;u++)Pe(El[u],n);break;case"image":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"embed":case"source":case"link":Pe("error",n),Pe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in a)if(a.hasOwnProperty(K)&&(u=a[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ze(n,r,K,u,a,null)}return;default:if(Lo(r)){for(Z in a)a.hasOwnProperty(Z)&&(u=a[Z],u!==void 0&&$d(n,r,Z,u,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(u=a[S],u!=null&&Ze(n,r,S,u,a,null))}function Tw(n,r,a,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,E=null,S=null,D=null,K=null,Z=null;for($ in a){var ne=a[$];if(a.hasOwnProperty($)&&ne!=null)switch($){case"checked":break;case"value":break;case"defaultValue":D=ne;default:u.hasOwnProperty($)||Ze(n,r,$,null,u,ne)}}for(var Y in u){var $=u[Y];if(ne=a[Y],u.hasOwnProperty(Y)&&($!=null||ne!=null))switch(Y){case"type":d=$;break;case"name":f=$;break;case"checked":K=$;break;case"defaultChecked":Z=$;break;case"value":E=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:$!==ne&&Ze(n,r,Y,$,u,ne)}}vn(n,E,S,D,K,Z,d,f);return;case"select":$=E=S=Y=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":$=D;default:u.hasOwnProperty(d)||Ze(n,r,d,null,u,D)}for(f in u)if(d=u[f],D=a[f],u.hasOwnProperty(f)&&(d!=null||D!=null))switch(f){case"value":Y=d;break;case"defaultValue":S=d;break;case"multiple":E=d;default:d!==D&&Ze(n,r,f,d,u,D)}r=S,a=E,u=$,Y!=null?Vi(n,!!a,Y,!1):!!u!=!!a&&(r!=null?Vi(n,!!a,r,!0):Vi(n,!!a,a?[]:"",!1));return;case"textarea":$=Y=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ze(n,r,S,null,u,f)}for(E in u)if(f=u[E],d=a[E],u.hasOwnProperty(E)&&(f!=null||d!=null))switch(E){case"value":Y=f;break;case"defaultValue":$=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Ze(n,r,E,f,u,d)}Je(n,Y,$);return;case"option":for(var Te in a)if(Y=a[Te],a.hasOwnProperty(Te)&&Y!=null&&!u.hasOwnProperty(Te))switch(Te){case"selected":n.selected=!1;break;default:Ze(n,r,Te,null,u,Y)}for(D in u)if(Y=u[D],$=a[D],u.hasOwnProperty(D)&&Y!==$&&(Y!=null||$!=null))switch(D){case"selected":n.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Ze(n,r,D,Y,u,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)Y=a[ve],a.hasOwnProperty(ve)&&Y!=null&&!u.hasOwnProperty(ve)&&Ze(n,r,ve,null,u,Y);for(K in u)if(Y=u[K],$=a[K],u.hasOwnProperty(K)&&Y!==$&&(Y!=null||$!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Ze(n,r,K,Y,u,$)}return;default:if(Lo(r)){for(var et in a)Y=a[et],a.hasOwnProperty(et)&&Y!==void 0&&!u.hasOwnProperty(et)&&$d(n,r,et,void 0,u,Y);for(Z in u)Y=u[Z],$=a[Z],!u.hasOwnProperty(Z)||Y===$||Y===void 0&&$===void 0||$d(n,r,Z,Y,u,$);return}}for(var H in a)Y=a[H],a.hasOwnProperty(H)&&Y!=null&&!u.hasOwnProperty(H)&&Ze(n,r,H,null,u,Y);for(ne in u)Y=u[ne],$=a[ne],!u.hasOwnProperty(ne)||Y===$||Y==null&&$==null||Ze(n,r,ne,Y,u,$)}var Xd=null,Qd=null;function Oc(n){return n.nodeType===9?n:n.ownerDocument}function g_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function y_(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Jd(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Wd=null;function Aw(){var n=window.event;return n&&n.type==="popstate"?n===Wd?!1:(Wd=n,!0):(Wd=null,!1)}var v_=typeof setTimeout=="function"?setTimeout:void 0,Sw=typeof clearTimeout=="function"?clearTimeout:void 0,__=typeof Promise=="function"?Promise:void 0,bw=typeof queueMicrotask=="function"?queueMicrotask:typeof __<"u"?function(n){return __.resolve(null).then(n).catch(ww)}:v_;function ww(n){setTimeout(function(){throw n})}function Nr(n){return n==="head"}function E_(n,r){var a=r,u=0,f=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<u&&8>u){a=u;var E=n.ownerDocument;if(a&1&&Al(E.documentElement),a&2&&Al(E.body),a&4)for(a=E.head,Al(a),E=a.firstChild;E;){var S=E.nextSibling,D=E.nodeName;E[cs]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=S}}if(f===0){n.removeChild(d),xl(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:u=a.charCodeAt(0)-48;else u=0;a=d}while(a);xl(r)}function Zd(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Zd(a),dr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function Rw(n,r,a,u){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[cs])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=Yn(n.nextSibling),n===null)break}return null}function Cw(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Yn(n.nextSibling),n===null))return null;return n}function em(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function Iw(n,r){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")r();else{var u=function(){r(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function Yn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var tm=null;function T_(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function A_(n,r,a){switch(r=Oc(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Al(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);dr(n)}var zn=new Map,S_=new Set;function xc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Wi=ce.d;ce.d={f:Ow,r:xw,D:Dw,C:Nw,L:Vw,m:Mw,X:kw,S:Pw,M:Lw};function Ow(){var n=Wi.f(),r=Tc();return n||r}function xw(n){var r=ti(n);r!==null&&r.tag===5&&r.type==="form"?qy(r):Wi.r(n)}var Fa=typeof document>"u"?null:document;function b_(n,r,a){var u=Fa;if(u&&typeof r=="string"&&r){var f=Et(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),S_.has(f)||(S_.add(f),n={rel:n,crossOrigin:a,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),Ft(r,"link",n),pt(r),u.head.appendChild(r)))}}function Dw(n){Wi.D(n),b_("dns-prefetch",n,null)}function Nw(n,r){Wi.C(n,r),b_("preconnect",n,r)}function Vw(n,r,a){Wi.L(n,r,a);var u=Fa;if(u&&n&&r){var f='link[rel="preload"][as="'+Et(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Et(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Et(a.imageSizes)+'"]')):f+='[href="'+Et(n)+'"]';var d=f;switch(r){case"style":d=Ga(n);break;case"script":d=Ka(n)}zn.has(d)||(n=v({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),zn.set(d,n),u.querySelector(f)!==null||r==="style"&&u.querySelector(Sl(d))||r==="script"&&u.querySelector(bl(d))||(r=u.createElement("link"),Ft(r,"link",n),pt(r),u.head.appendChild(r)))}}function Mw(n,r){Wi.m(n,r);var a=Fa;if(a&&n){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Et(u)+'"][href="'+Et(n)+'"]',d=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ka(n)}if(!zn.has(d)&&(n=v({rel:"modulepreload",href:n},r),zn.set(d,n),a.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(bl(d)))return}u=a.createElement("link"),Ft(u,"link",n),pt(u),a.head.appendChild(u)}}}function Pw(n,r,a){Wi.S(n,r,a);var u=Fa;if(u&&n){var f=sn(u).hoistableStyles,d=Ga(n);r=r||"default";var E=f.get(d);if(!E){var S={loading:0,preload:null};if(E=u.querySelector(Sl(d)))S.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":r},a),(a=zn.get(d))&&nm(n,a);var D=E=u.createElement("link");pt(D),Ft(D,"link",n),D._p=new Promise(function(K,Z){D.onload=K,D.onerror=Z}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Dc(E,r,u)}E={type:"stylesheet",instance:E,count:1,state:S},f.set(d,E)}}}function kw(n,r){Wi.X(n,r);var a=Fa;if(a&&n){var u=sn(a).hoistableScripts,f=Ka(n),d=u.get(f);d||(d=a.querySelector(bl(f)),d||(n=v({src:n,async:!0},r),(r=zn.get(f))&&im(n,r),d=a.createElement("script"),pt(d),Ft(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},u.set(f,d))}}function Lw(n,r){Wi.M(n,r);var a=Fa;if(a&&n){var u=sn(a).hoistableScripts,f=Ka(n),d=u.get(f);d||(d=a.querySelector(bl(f)),d||(n=v({src:n,async:!0,type:"module"},r),(r=zn.get(f))&&im(n,r),d=a.createElement("script"),pt(d),Ft(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},u.set(f,d))}}function w_(n,r,a,u){var f=(f=be.current)?xc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ga(a.href),a=sn(f).hoistableStyles,u=a.get(r),u||(u={type:"style",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Ga(a.href);var d=sn(f).hoistableStyles,E=d.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,E),(d=f.querySelector(Sl(n)))&&!d._p&&(E.instance=d,E.state.loading=5),zn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},zn.set(n,a),d||Uw(f,n,a,E.state))),r&&u===null)throw Error(s(528,""));return E}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ka(a),a=sn(f).hoistableScripts,u=a.get(r),u||(u={type:"script",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Ga(n){return'href="'+Et(n)+'"'}function Sl(n){return'link[rel="stylesheet"]['+n+"]"}function R_(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function Uw(n,r,a,u){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=n.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Ft(r,"link",a),pt(r),n.head.appendChild(r))}function Ka(n){return'[src="'+Et(n)+'"]'}function bl(n){return"script[async]"+n}function C_(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var u=n.querySelector('style[data-href~="'+Et(a.href)+'"]');if(u)return r.instance=u,pt(u),u;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),pt(u),Ft(u,"style",f),Dc(u,a.precedence,n),r.instance=u;case"stylesheet":f=Ga(a.href);var d=n.querySelector(Sl(f));if(d)return r.state.loading|=4,r.instance=d,pt(d),d;u=R_(a),(f=zn.get(f))&&nm(u,f),d=(n.ownerDocument||n).createElement("link"),pt(d);var E=d;return E._p=new Promise(function(S,D){E.onload=S,E.onerror=D}),Ft(d,"link",u),r.state.loading|=4,Dc(d,a.precedence,n),r.instance=d;case"script":return d=Ka(a.src),(f=n.querySelector(bl(d)))?(r.instance=f,pt(f),f):(u=a,(f=zn.get(d))&&(u=v({},a),im(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),pt(f),Ft(f,"link",u),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Dc(u,a.precedence,n));return r.instance}function Dc(n,r,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,d=f,E=0;E<u.length;E++){var S=u[E];if(S.dataset.precedence===r)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function nm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function im(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Nc=null;function I_(n,r,a){if(Nc===null){var u=new Map,f=Nc=new Map;f.set(a,u)}else f=Nc,u=f.get(a),u||(u=new Map,f.set(a,u));if(u.has(n))return u;for(u.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[cs]||d[bt]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(r)||"";E=n+E;var S=u.get(E);S?S.push(d):u.set(E,[d])}}return u}function O_(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function jw(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function x_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var wl=null;function zw(){}function Bw(n,r,a){if(wl===null)throw Error(s(475));var u=wl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=Ga(a.href),d=n.querySelector(Sl(f));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=Vc.bind(u),n.then(u,u)),r.state.loading|=4,r.instance=d,pt(d);return}d=n.ownerDocument||n,a=R_(a),(f=zn.get(f))&&nm(a,f),d=d.createElement("link"),pt(d);var E=d;E._p=new Promise(function(S,D){E.onload=S,E.onerror=D}),Ft(d,"link",a),r.instance=d}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=Vc.bind(u),n.addEventListener("load",r),n.addEventListener("error",r))}}function Hw(){if(wl===null)throw Error(s(475));var n=wl;return n.stylesheets&&n.count===0&&rm(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&rm(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Vc(){if(this.count--,this.count===0){if(this.stylesheets)rm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Mc=null;function rm(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Mc=new Map,r.forEach(qw,n),Mc=null,Vc.call(n))}function qw(n,r){if(!(r.state.loading&4)){var a=Mc.get(n);if(a)var u=a.get(null);else{a=new Map,Mc.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var E=f[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),u=E)}u&&a.set(null,u)}f=r.instance,E=f.getAttribute("data-precedence"),d=a.get(E)||u,d===u&&a.set(null,f),a.set(E,f),this.count++,u=Vc.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var Rl={$$typeof:q,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function Fw(n,r,a,u,f,d,E,S){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ii(0),this.hiddenUpdates=Ii(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function D_(n,r,a,u,f,d,E,S,D,K,Z,ne){return n=new Fw(n,r,a,E,S,D,K,ne),r=1,d===!0&&(r|=24),d=En(3,null,null,r),n.current=d,d.stateNode=n,r=jf(),r.refCount++,n.pooledCache=r,r.refCount++,d.memoizedState={element:u,isDehydrated:a,cache:r},qf(d),n}function N_(n){return n?(n=Sa,n):Sa}function V_(n,r,a,u,f,d){f=N_(f),u.context===null?u.context=f:u.pendingContext=f,u=_r(r),u.payload={element:a},d=d===void 0?null:d,d!==null&&(u.callback=d),a=Er(n,u,r),a!==null&&(wn(a,n,r),nl(a,n,r))}function M_(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function sm(n,r){M_(n,r),(n=n.alternate)&&M_(n,r)}function P_(n){if(n.tag===13){var r=Aa(n,67108864);r!==null&&wn(r,n,67108864),sm(n,67108864)}}var Pc=!0;function Gw(n,r,a,u){var f=W.T;W.T=null;var d=ce.p;try{ce.p=2,am(n,r,a,u)}finally{ce.p=d,W.T=f}}function Kw(n,r,a,u){var f=W.T;W.T=null;var d=ce.p;try{ce.p=8,am(n,r,a,u)}finally{ce.p=d,W.T=f}}function am(n,r,a,u){if(Pc){var f=om(u);if(f===null)Yd(n,r,u,kc,a),L_(n,u);else if($w(f,n,r,a,u))u.stopPropagation();else if(L_(n,u),r&4&&-1<Yw.indexOf(n)){for(;f!==null;){var d=ti(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Hn(d.pendingLanes);if(E!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var D=1<<31-Xt(E);S.entanglements[1]|=D,E&=~D}pi(d),($e&6)===0&&(_c=In()+500,_l(0))}}break;case 13:S=Aa(d,2),S!==null&&wn(S,d,2),Tc(),sm(d,2)}if(d=om(u),d===null&&Yd(n,r,u,kc,a),d===f)break;f=d}f!==null&&u.stopPropagation()}else Yd(n,r,u,null,a)}}function om(n){return n=Dn(n),lm(n)}var kc=null;function lm(n){if(kc=null,n=xi(n),n!==null){var r=l(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=h(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return kc=n,null}function k_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hf()){case bo:return 2;case ta:return 8;case ss:case ff:return 32;case na:return 268435456;default:return 32}default:return 32}}var um=!1,Vr=null,Mr=null,Pr=null,Cl=new Map,Il=new Map,kr=[],Yw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function L_(n,r){switch(n){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":Pr=null;break;case"pointerover":case"pointerout":Cl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(r.pointerId)}}function Ol(n,r,a,u,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:r,domEventName:a,eventSystemFlags:u,nativeEvent:d,targetContainers:[f]},r!==null&&(r=ti(r),r!==null&&P_(r)),n):(n.eventSystemFlags|=u,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function $w(n,r,a,u,f){switch(r){case"focusin":return Vr=Ol(Vr,n,r,a,u,f),!0;case"dragenter":return Mr=Ol(Mr,n,r,a,u,f),!0;case"mouseover":return Pr=Ol(Pr,n,r,a,u,f),!0;case"pointerover":var d=f.pointerId;return Cl.set(d,Ol(Cl.get(d)||null,n,r,a,u,f)),!0;case"gotpointercapture":return d=f.pointerId,Il.set(d,Ol(Il.get(d)||null,n,r,a,u,f)),!0}return!1}function U_(n){var r=xi(n.target);if(r!==null){var a=l(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){n.blockedOn=r,Tu(n.priority,function(){if(a.tag===13){var u=bn();u=cr(u);var f=Aa(a,u);f!==null&&wn(f,a,u),sm(a,u)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Lc(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=om(n.nativeEvent);if(a===null){a=n.nativeEvent;var u=new a.constructor(a.type,a);Mi=u,a.target.dispatchEvent(u),Mi=null}else return r=ti(a),r!==null&&P_(r),n.blockedOn=a,!1;r.shift()}return!0}function j_(n,r,a){Lc(n)&&a.delete(r)}function Xw(){um=!1,Vr!==null&&Lc(Vr)&&(Vr=null),Mr!==null&&Lc(Mr)&&(Mr=null),Pr!==null&&Lc(Pr)&&(Pr=null),Cl.forEach(j_),Il.forEach(j_)}function Uc(n,r){n.blockedOn===r&&(n.blockedOn=null,um||(um=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Xw)))}var jc=null;function z_(n){jc!==n&&(jc=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){jc===n&&(jc=null);for(var r=0;r<n.length;r+=3){var a=n[r],u=n[r+1],f=n[r+2];if(typeof u!="function"){if(lm(u||a)===null)continue;break}var d=ti(a);d!==null&&(n.splice(r,3),r-=3,ld(d,{pending:!0,data:f,method:a.method,action:u},u,f))}}))}function xl(n){function r(D){return Uc(D,n)}Vr!==null&&Uc(Vr,n),Mr!==null&&Uc(Mr,n),Pr!==null&&Uc(Pr,n),Cl.forEach(r),Il.forEach(r);for(var a=0;a<kr.length;a++){var u=kr[a];u.blockedOn===n&&(u.blockedOn=null)}for(;0<kr.length&&(a=kr[0],a.blockedOn===null);)U_(a),a.blockedOn===null&&kr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var f=a[u],d=a[u+1],E=f[_t]||null;if(typeof d=="function")E||z_(a);else if(E){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,E=d[_t]||null)S=E.formAction;else if(lm(f)!==null)continue}else S=E.action;typeof S=="function"?a[u+1]=S:(a.splice(u,3),u-=3),z_(a)}}}function cm(n){this._internalRoot=n}zc.prototype.render=cm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,u=bn();V_(a,u,n,r,null,null)},zc.prototype.unmount=cm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;V_(n.current,2,null,n,null,null),Tc(),r[On]=null}};function zc(n){this._internalRoot=n}zc.prototype.unstable_scheduleHydration=function(n){if(n){var r=hr();n={blockedOn:null,target:n,priority:r};for(var a=0;a<kr.length&&r!==0&&r<kr[a].priority;a++);kr.splice(a,0,n),a===0&&U_(n)}};var B_=e.version;if(B_!=="19.1.0")throw Error(s(527,B_,"19.1.0"));ce.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=g(r),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var Qw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bc.isDisabled&&Bc.supportsFiber)try{ht=Bc.inject(Qw),Ye=Bc}catch{}}return Nl.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,u="",f=iv,d=rv,E=sv,S=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks)),r=D_(n,1,!1,null,null,a,u,f,d,E,S,null),n[On]=r.current,Kd(n),new cm(r)},Nl.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var u=!1,f="",d=iv,E=rv,S=sv,D=null,K=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(K=a.formState)),r=D_(n,1,!0,r,a??null,u,f,d,E,S,D,K),r.context=N_(null),a=r.current,u=bn(),u=cr(u),f=_r(u),f.callback=null,Er(a,f,u),a=u,r.current.lanes=a,Oi(r,a),pi(r),n[On]=r.current,Kd(n),new zc(r)},Nl.version="19.1.0",Nl}var J_;function a1(){if(J_)return dm.exports;J_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),dm.exports=s1(),dm.exports}var o1=a1();const l1=_p(o1);var Vl={},W_;function u1(){if(W_)return Vl;W_=1,Object.defineProperty(Vl,"__esModule",{value:!0}),Vl.parse=h,Vl.serialize=p;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function h(A,O){const R=new l,k=A.length;if(k<2)return R;const I=(O==null?void 0:O.decode)||v;let B=0;do{const J=A.indexOf("=",B);if(J===-1)break;const q=A.indexOf(";",B),re=q===-1?k:q;if(J>re){B=A.lastIndexOf(";",J-1)+1;continue}const ee=m(A,B,J),ae=g(A,J,ee),x=A.slice(ee,ae);if(R[x]===void 0){let w=m(A,J+1,re),C=g(A,re,w);const M=I(A.slice(w,C));R[x]=M}B=re+1}while(B<k);return R}function m(A,O,R){do{const k=A.charCodeAt(O);if(k!==32&&k!==9)return O}while(++O<R);return R}function g(A,O,R){for(;O>R;){const k=A.charCodeAt(--O);if(k!==32&&k!==9)return O+1}return R}function p(A,O,R){const k=(R==null?void 0:R.encode)||encodeURIComponent;if(!i.test(A))throw new TypeError(`argument name is invalid: ${A}`);const I=k(O);if(!e.test(I))throw new TypeError(`argument val is invalid: ${O}`);let B=A+"="+I;if(!R)return B;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);B+="; Max-Age="+R.maxAge}if(R.domain){if(!t.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);B+="; Domain="+R.domain}if(R.path){if(!s.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);B+="; Path="+R.path}if(R.expires){if(!T(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);B+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(B+="; HttpOnly"),R.secure&&(B+="; Secure"),R.partitioned&&(B+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":B+="; Priority=Low";break;case"medium":B+="; Priority=Medium";break;case"high":B+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":B+="; SameSite=Strict";break;case"lax":B+="; SameSite=Lax";break;case"none":B+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return B}function v(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function T(A){return o.call(A)==="[object Date]"}return Vl}u1();var Z_="popstate";function c1(i={}){function e(s,o){let{pathname:l,search:h,hash:m}=s.location;return km("",{pathname:l,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:Gl(o)}return f1(e,t,null,i)}function ut(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Ai(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function h1(){return Math.random().toString(36).substring(2,10)}function eE(i,e){return{usr:i.state,key:i.key,idx:e}}function km(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?co(e):e,state:t,key:e&&e.key||s||h1()}}function Gl({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function co(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function f1(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,h=o.history,m="POP",g=null,p=v();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function v(){return(h.state||{idx:null}).idx}function T(){m="POP";let I=v(),B=I==null?null:I-p;p=I,g&&g({action:m,location:k.location,delta:B})}function A(I,B){m="PUSH";let J=km(k.location,I,B);p=v()+1;let q=eE(J,p),re=k.createHref(J);try{h.pushState(q,"",re)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;o.location.assign(re)}l&&g&&g({action:m,location:k.location,delta:1})}function O(I,B){m="REPLACE";let J=km(k.location,I,B);p=v();let q=eE(J,p),re=k.createHref(J);h.replaceState(q,"",re),l&&g&&g({action:m,location:k.location,delta:0})}function R(I){return d1(I)}let k={get action(){return m},get location(){return i(o,h)},listen(I){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Z_,T),g=I,()=>{o.removeEventListener(Z_,T),g=null}},createHref(I){return e(o,I)},createURL:R,encodeLocation(I){let B=R(I);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:A,replace:O,go(I){return h.go(I)}};return k}function d1(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ut(t,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Gl(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function $0(i,e,t="/"){return m1(i,e,t,!1)}function m1(i,e,t,s){let o=typeof e=="string"?co(e):e,l=ir(o.pathname||"/",t);if(l==null)return null;let h=X0(i);p1(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let p=R1(l);m=b1(h[g],p,s)}return m}function X0(i,e=[],t=[],s=""){let o=(l,h,m)=>{let g={relativePath:m===void 0?l.path||"":m,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};g.relativePath.startsWith("/")&&(ut(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let p=nr([s,g.relativePath]),v=t.concat(g);l.children&&l.children.length>0&&(ut(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),X0(l.children,e,v,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:A1(p,l.index),routesMeta:v})};return i.forEach((l,h)=>{var m;if(l.path===""||!((m=l.path)!=null&&m.includes("?")))o(l,h);else for(let g of Q0(l.path))o(l,h,g)}),e}function Q0(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let h=Q0(s.join("/")),m=[];return m.push(...h.map(g=>g===""?l:[l,g].join("/"))),o&&m.push(...h),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function p1(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:S1(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var g1=/^:[\w-]+$/,y1=3,v1=2,_1=1,E1=10,T1=-2,tE=i=>i==="*";function A1(i,e){let t=i.split("/"),s=t.length;return t.some(tE)&&(s+=T1),e&&(s+=v1),t.filter(o=>!tE(o)).reduce((o,l)=>o+(g1.test(l)?y1:l===""?_1:E1),s)}function S1(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function b1(i,e,t=!1){let{routesMeta:s}=i,o={},l="/",h=[];for(let m=0;m<s.length;++m){let g=s[m],p=m===s.length-1,v=l==="/"?e:e.slice(l.length)||"/",T=uh({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},v),A=g.route;if(!T&&p&&t&&!s[s.length-1].route.index&&(T=uh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},v)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:nr([l,T.pathname]),pathnameBase:x1(nr([l,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(l=nr([l,T.pathnameBase]))}return h}function uh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=w1(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((p,{paramName:v,isOptional:T},A)=>{if(v==="*"){let R=m[A]||"";h=l.slice(0,l.length-R.length).replace(/(.)\/+$/,"$1")}const O=m[A];return T&&!O?p[v]=void 0:p[v]=(O||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:h,pattern:i}}function w1(i,e=!1,t=!0){Ai(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function R1(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ai(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ir(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function C1(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?co(i):i;return{pathname:t?t.startsWith("/")?t:I1(t,e):e,search:D1(s),hash:N1(o)}}function I1(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function ym(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function O1(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function J0(i){let e=O1(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function W0(i,e,t,s=!1){let o;typeof i=="string"?o=co(i):(o={...i},ut(!o.pathname||!o.pathname.includes("?"),ym("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),ym("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),ym("#","search","hash",o)));let l=i===""||o.pathname==="",h=l?"/":o.pathname,m;if(h==null)m=t;else{let T=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),T-=1;o.pathname=A.join("/")}m=T>=0?e[T]:"/"}let g=C1(o,m),p=h&&h!=="/"&&h.endsWith("/"),v=(l||h===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(p||v)&&(g.pathname+="/"),g}var nr=i=>i.join("/").replace(/\/\/+/g,"/"),x1=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),D1=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,N1=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function V1(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var Z0=["POST","PUT","PATCH","DELETE"];new Set(Z0);var M1=["GET",...Z0];new Set(M1);var ho=j.createContext(null);ho.displayName="DataRouter";var Nh=j.createContext(null);Nh.displayName="DataRouterState";var eT=j.createContext({isTransitioning:!1});eT.displayName="ViewTransition";var P1=j.createContext(new Map);P1.displayName="Fetchers";var k1=j.createContext(null);k1.displayName="Await";var Ri=j.createContext(null);Ri.displayName="Navigation";var nu=j.createContext(null);nu.displayName="Location";var Jn=j.createContext({outlet:null,matches:[],isDataRoute:!1});Jn.displayName="Route";var Tp=j.createContext(null);Tp.displayName="RouteError";function L1(i,{relative:e}={}){ut(iu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=j.useContext(Ri),{hash:o,pathname:l,search:h}=ru(i,{relative:e}),m=l;return t!=="/"&&(m=l==="/"?t:nr([t,l])),s.createHref({pathname:m,search:h,hash:o})}function iu(){return j.useContext(nu)!=null}function Ws(){return ut(iu(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(nu).location}var tT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nT(i){j.useContext(Ri).static||j.useLayoutEffect(i)}function Bn(){let{isDataRoute:i}=j.useContext(Jn);return i?Z1():U1()}function U1(){ut(iu(),"useNavigate() may be used only in the context of a <Router> component.");let i=j.useContext(ho),{basename:e,navigator:t}=j.useContext(Ri),{matches:s}=j.useContext(Jn),{pathname:o}=Ws(),l=JSON.stringify(J0(s)),h=j.useRef(!1);return nT(()=>{h.current=!0}),j.useCallback((g,p={})=>{if(Ai(h.current,tT),!h.current)return;if(typeof g=="number"){t.go(g);return}let v=W0(g,JSON.parse(l),o,p.relative==="path");i==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:nr([e,v.pathname])),(p.replace?t.replace:t.push)(v,p.state,p)},[e,t,l,o,i])}var j1=j.createContext(null);function z1(i){let e=j.useContext(Jn).outlet;return e&&j.createElement(j1.Provider,{value:i},e)}function B1(){let{matches:i}=j.useContext(Jn),e=i[i.length-1];return e?e.params:{}}function ru(i,{relative:e}={}){let{matches:t}=j.useContext(Jn),{pathname:s}=Ws(),o=JSON.stringify(J0(t));return j.useMemo(()=>W0(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function H1(i,e){return iT(i,e)}function iT(i,e,t,s){var J;ut(iu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:l}=j.useContext(Ri),{matches:h}=j.useContext(Jn),m=h[h.length-1],g=m?m.params:{},p=m?m.pathname:"/",v=m?m.pathnameBase:"/",T=m&&m.route;{let q=T&&T.path||"";rT(p,!T||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let A=Ws(),O;if(e){let q=typeof e=="string"?co(e):e;ut(v==="/"||((J=q.pathname)==null?void 0:J.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${q.pathname}" was given in the \`location\` prop.`),O=q}else O=A;let R=O.pathname||"/",k=R;if(v!=="/"){let q=v.replace(/^\//,"").split("/");k="/"+R.replace(/^\//,"").split("/").slice(q.length).join("/")}let I=!l&&t&&t.matches&&t.matches.length>0?t.matches:$0(i,{pathname:k});Ai(T||I!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),Ai(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=Y1(I&&I.map(q=>Object.assign({},q,{params:Object.assign({},g,q.params),pathname:nr([v,o.encodeLocation?o.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?v:nr([v,o.encodeLocation?o.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),h,t,s);return e&&B?j.createElement(nu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},B):B}function q1(){let i=W1(),e=V1(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=j.createElement(j.Fragment,null,j.createElement("p",null,"💿 Hey developer 👋"),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:l},"ErrorBoundary")," or"," ",j.createElement("code",{style:l},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),t?j.createElement("pre",{style:o},t):null,h)}var F1=j.createElement(q1,null),G1=class extends j.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?j.createElement(Jn.Provider,{value:this.props.routeContext},j.createElement(Tp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function K1({routeContext:i,match:e,children:t}){let s=j.useContext(ho);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Jn.Provider,{value:i},t)}function Y1(i,e=[],t=null,s=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,l=t==null?void 0:t.errors;if(l!=null){let g=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);ut(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let h=!1,m=-1;if(t)for(let g=0;g<o.length;g++){let p=o[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(m=g),p.route.id){let{loaderData:v,errors:T}=t,A=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!T||T[p.route.id]===void 0);if(p.route.lazy||A){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,p,v)=>{let T,A=!1,O=null,R=null;t&&(T=l&&p.route.id?l[p.route.id]:void 0,O=p.route.errorElement||F1,h&&(m<0&&v===0?(rT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,R=null):m===v&&(A=!0,R=p.route.hydrateFallbackElement||null)));let k=e.concat(o.slice(0,v+1)),I=()=>{let B;return T?B=O:A?B=R:p.route.Component?B=j.createElement(p.route.Component,null):p.route.element?B=p.route.element:B=g,j.createElement(K1,{match:p,routeContext:{outlet:g,matches:k,isDataRoute:t!=null},children:B})};return t&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?j.createElement(G1,{location:t.location,revalidation:t.revalidation,component:O,error:T,children:I(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):I()},null)}function Ap(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $1(i){let e=j.useContext(ho);return ut(e,Ap(i)),e}function X1(i){let e=j.useContext(Nh);return ut(e,Ap(i)),e}function Q1(i){let e=j.useContext(Jn);return ut(e,Ap(i)),e}function Sp(i){let e=Q1(i),t=e.matches[e.matches.length-1];return ut(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function J1(){return Sp("useRouteId")}function W1(){var s;let i=j.useContext(Tp),e=X1("useRouteError"),t=Sp("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[t]}function Z1(){let{router:i}=$1("useNavigate"),e=Sp("useNavigate"),t=j.useRef(!1);return nT(()=>{t.current=!0}),j.useCallback(async(o,l={})=>{Ai(t.current,tT),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...l}))},[i,e])}var nE={};function rT(i,e,t){!e&&!nE[i]&&(nE[i]=!0,Ai(!1,t))}j.memo(eR);function eR({routes:i,future:e,state:t}){return iT(i,void 0,t,e)}function tR(i){return z1(i.context)}function Zt(i){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nR({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:l=!1}){ut(!iu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=j.useMemo(()=>({basename:h,navigator:o,static:l,future:{}}),[h,o,l]);typeof t=="string"&&(t=co(t));let{pathname:g="/",search:p="",hash:v="",state:T=null,key:A="default"}=t,O=j.useMemo(()=>{let R=ir(g,h);return R==null?null:{location:{pathname:R,search:p,hash:v,state:T,key:A},navigationType:s}},[h,g,p,v,T,A,s]);return Ai(O!=null,`<Router basename="${h}"> is not able to match the URL "${g}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:j.createElement(Ri.Provider,{value:m},j.createElement(nu.Provider,{children:e,value:O}))}function iR({children:i,location:e}){return H1(Lm(i),e)}function Lm(i,e=[]){let t=[];return j.Children.forEach(i,(s,o)=>{if(!j.isValidElement(s))return;let l=[...e,o];if(s.type===j.Fragment){t.push.apply(t,Lm(s.props.children,l));return}ut(s.type===Zt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Lm(s.props.children,l)),t.push(h)}),t}var Xc="get",Qc="application/x-www-form-urlencoded";function Vh(i){return i!=null&&typeof i.tagName=="string"}function rR(i){return Vh(i)&&i.tagName.toLowerCase()==="button"}function sR(i){return Vh(i)&&i.tagName.toLowerCase()==="form"}function aR(i){return Vh(i)&&i.tagName.toLowerCase()==="input"}function oR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function lR(i,e){return i.button===0&&(!e||e==="_self")&&!oR(i)}var Hc=null;function uR(){if(Hc===null)try{new FormData(document.createElement("form"),0),Hc=!1}catch{Hc=!0}return Hc}var cR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vm(i){return i!=null&&!cR.has(i)?(Ai(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qc}"`),null):i}function hR(i,e){let t,s,o,l,h;if(sR(i)){let m=i.getAttribute("action");s=m?ir(m,e):null,t=i.getAttribute("method")||Xc,o=vm(i.getAttribute("enctype"))||Qc,l=new FormData(i)}else if(rR(i)||aR(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(s=g?ir(g,e):null,t=i.getAttribute("formmethod")||m.getAttribute("method")||Xc,o=vm(i.getAttribute("formenctype"))||vm(m.getAttribute("enctype"))||Qc,l=new FormData(m,i),!uR()){let{name:p,type:v,value:T}=i;if(v==="image"){let A=p?`${p}.`:"";l.append(`${A}x`,"0"),l.append(`${A}y`,"0")}else p&&l.append(p,T)}}else{if(Vh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Xc,s=null,o=Qc,h=i}return l&&o==="text/plain"&&(h=l,l=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:l,body:h}}function bp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function fR(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function mR(i,e,t){let s=await Promise.all(i.map(async o=>{let l=e.routes[o.route.id];if(l){let h=await fR(l,t);return h.links?h.links():[]}return[]}));return vR(s.flat(1).filter(dR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function iE(i,e,t,s,o,l){let h=(g,p)=>t[p]?g.route.id!==t[p].route.id:!0,m=(g,p)=>{var v;return t[p].pathname!==g.pathname||((v=t[p].route.path)==null?void 0:v.endsWith("*"))&&t[p].params["*"]!==g.params["*"]};return l==="assets"?e.filter((g,p)=>h(g,p)||m(g,p)):l==="data"?e.filter((g,p)=>{var T;let v=s.routes[g.route.id];if(!v||!v.hasLoader)return!1;if(h(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let A=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function pR(i,e,{includeHydrateFallback:t}={}){return gR(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function gR(i){return[...new Set(i)]}function yR(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function vR(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let l=JSON.stringify(yR(o));return t.has(l)||(t.add(l),s.push({key:l,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var _R=new Set([100,101,204,205]);function ER(i,e){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":e&&ir(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function sT(){let i=j.useContext(ho);return bp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function TR(){let i=j.useContext(Nh);return bp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var wp=j.createContext(void 0);wp.displayName="FrameworkContext";function aT(){let i=j.useContext(wp);return bp(i,"You must render this element inside a <HydratedRouter> element"),i}function AR(i,e){let t=j.useContext(wp),[s,o]=j.useState(!1),[l,h]=j.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:v,onTouchStart:T}=e,A=j.useRef(null);j.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let k=B=>{B.forEach(J=>{h(J.isIntersecting)})},I=new IntersectionObserver(k,{threshold:.5});return A.current&&I.observe(A.current),()=>{I.disconnect()}}},[i]),j.useEffect(()=>{if(s){let k=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(k)}}},[s]);let O=()=>{o(!0)},R=()=>{o(!1),h(!1)};return t?i!=="intent"?[l,A,{}]:[l,A,{onFocus:Ml(m,O),onBlur:Ml(g,R),onMouseEnter:Ml(p,O),onMouseLeave:Ml(v,R),onTouchStart:Ml(T,O)}]:[!1,A,{}]}function Ml(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function SR({page:i,...e}){let{router:t}=sT(),s=j.useMemo(()=>$0(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?j.createElement(wR,{page:i,matches:s,...e}):null}function bR(i){let{manifest:e,routeModules:t}=aT(),[s,o]=j.useState([]);return j.useEffect(()=>{let l=!1;return mR(i,e,t).then(h=>{l||o(h)}),()=>{l=!0}},[i,e,t]),s}function wR({page:i,matches:e,...t}){let s=Ws(),{manifest:o,routeModules:l}=aT(),{basename:h}=sT(),{loaderData:m,matches:g}=TR(),p=j.useMemo(()=>iE(i,e,g,o,s,"data"),[i,e,g,o,s]),v=j.useMemo(()=>iE(i,e,g,o,s,"assets"),[i,e,g,o,s]),T=j.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let R=new Set,k=!1;if(e.forEach(B=>{var q;let J=o.routes[B.route.id];!J||!J.hasLoader||(!p.some(re=>re.route.id===B.route.id)&&B.route.id in m&&((q=l[B.route.id])!=null&&q.shouldRevalidate)||J.hasClientLoader?k=!0:R.add(B.route.id))}),R.size===0)return[];let I=ER(i,h);return k&&R.size>0&&I.searchParams.set("_routes",e.filter(B=>R.has(B.route.id)).map(B=>B.route.id).join(",")),[I.pathname+I.search]},[h,m,s,o,p,e,i,l]),A=j.useMemo(()=>pR(v,o),[v,o]),O=bR(v);return j.createElement(j.Fragment,null,T.map(R=>j.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),A.map(R=>j.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),O.map(({key:R,link:k})=>j.createElement("link",{key:R,...k})))}function RR(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var oT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{oT&&(window.__reactRouterVersion="7.6.0")}catch{}function CR({basename:i,children:e,window:t}){let s=j.useRef();s.current==null&&(s.current=c1({window:t,v5Compat:!0}));let o=s.current,[l,h]=j.useState({action:o.action,location:o.location}),m=j.useCallback(g=>{j.startTransition(()=>h(g))},[h]);return j.useLayoutEffect(()=>o.listen(m),[o,m]),j.createElement(nR,{basename:i,children:e,location:l.location,navigationType:l.action,navigator:o})}var lT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rp=j.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:l,replace:h,state:m,target:g,to:p,preventScrollReset:v,viewTransition:T,...A},O){let{basename:R}=j.useContext(Ri),k=typeof p=="string"&&lT.test(p),I,B=!1;if(typeof p=="string"&&k&&(I=p,oT))try{let C=new URL(window.location.href),M=p.startsWith("//")?new URL(C.protocol+p):new URL(p),U=ir(M.pathname,R);M.origin===C.origin&&U!=null?p=U+M.search+M.hash:B=!0}catch{Ai(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=L1(p,{relative:o}),[q,re,ee]=AR(s,A),ae=DR(p,{replace:h,state:m,target:g,preventScrollReset:v,relative:o,viewTransition:T});function x(C){e&&e(C),C.defaultPrevented||ae(C)}let w=j.createElement("a",{...A,...ee,href:I||J,onClick:B||l?e:x,ref:RR(O,re),target:g,"data-discover":!k&&t==="render"?"true":void 0});return q&&!k?j.createElement(j.Fragment,null,w,j.createElement(SR,{page:J})):w});Rp.displayName="Link";var IR=j.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:l,to:h,viewTransition:m,children:g,...p},v){let T=ru(h,{relative:p.relative}),A=Ws(),O=j.useContext(Nh),{navigator:R,basename:k}=j.useContext(Ri),I=O!=null&&kR(T)&&m===!0,B=R.encodeLocation?R.encodeLocation(T).pathname:T.pathname,J=A.pathname,q=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;t||(J=J.toLowerCase(),q=q?q.toLowerCase():null,B=B.toLowerCase()),q&&k&&(q=ir(q,k)||q);const re=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let ee=J===B||!o&&J.startsWith(B)&&J.charAt(re)==="/",ae=q!=null&&(q===B||!o&&q.startsWith(B)&&q.charAt(B.length)==="/"),x={isActive:ee,isPending:ae,isTransitioning:I},w=ee?e:void 0,C;typeof s=="function"?C=s(x):C=[s,ee?"active":null,ae?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(x):l;return j.createElement(Rp,{...p,"aria-current":w,className:C,ref:v,style:M,to:h,viewTransition:m},typeof g=="function"?g(x):g)});IR.displayName="NavLink";var OR=j.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:l,method:h=Xc,action:m,onSubmit:g,relative:p,preventScrollReset:v,viewTransition:T,...A},O)=>{let R=MR(),k=PR(m,{relative:p}),I=h.toLowerCase()==="get"?"get":"post",B=typeof m=="string"&&lT.test(m),J=q=>{if(g&&g(q),q.defaultPrevented)return;q.preventDefault();let re=q.nativeEvent.submitter,ee=(re==null?void 0:re.getAttribute("formmethod"))||h;R(re||q.currentTarget,{fetcherKey:e,method:ee,navigate:t,replace:o,state:l,relative:p,preventScrollReset:v,viewTransition:T})};return j.createElement("form",{ref:O,method:I,action:k,onSubmit:s?g:J,...A,"data-discover":!B&&i==="render"?"true":void 0})});OR.displayName="Form";function xR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uT(i){let e=j.useContext(ho);return ut(e,xR(i)),e}function DR(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:l,viewTransition:h}={}){let m=Bn(),g=Ws(),p=ru(i,{relative:l});return j.useCallback(v=>{if(lR(v,e)){v.preventDefault();let T=t!==void 0?t:Gl(g)===Gl(p);m(i,{replace:T,state:s,preventScrollReset:o,relative:l,viewTransition:h})}},[g,m,p,t,s,e,i,o,l,h])}var NR=0,VR=()=>`__${String(++NR)}__`;function MR(){let{router:i}=uT("useSubmit"),{basename:e}=j.useContext(Ri),t=J1();return j.useCallback(async(s,o={})=>{let{action:l,method:h,encType:m,formData:g,body:p}=hR(s,e);if(o.navigate===!1){let v=o.fetcherKey||VR();await i.fetch(v,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function PR(i,{relative:e}={}){let{basename:t}=j.useContext(Ri),s=j.useContext(Jn);ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...ru(i||".",{relative:e})},h=Ws();if(i==null){l.search=h.search;let m=new URLSearchParams(l.search),g=m.getAll("index");if(g.some(v=>v==="")){m.delete("index"),g.filter(T=>T).forEach(T=>m.append("index",T));let v=m.toString();l.search=v?`?${v}`:""}}return(!i||i===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:nr([t,l.pathname])),Gl(l)}function kR(i,e={}){let t=j.useContext(eT);ut(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=uT("useViewTransitionState"),o=ru(i,{relative:e.relative});if(!t.isTransitioning)return!1;let l=ir(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=ir(t.nextLocation.pathname,s)||t.nextLocation.pathname;return uh(o.pathname,h)!=null||uh(o.pathname,l)!=null}[..._R];var _m={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var rE;function LR(){return rE||(rE=1,function(i){(function(){var e={}.hasOwnProperty;function t(){for(var l="",h=0;h<arguments.length;h++){var m=arguments[h];m&&(l=o(l,s(m)))}return l}function s(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return t.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var h="";for(var m in l)e.call(l,m)&&l[m]&&(h=o(h,m));return h}function o(l,h){return h?l?l+" "+h:l+h:l}i.exports?(t.default=t,i.exports=t):window.classNames=t})()}(_m)),_m.exports}var UR=LR();const Nt=_p(UR);function Um(){return Um=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)({}).hasOwnProperty.call(t,s)&&(i[s]=t[s])}return i},Um.apply(null,arguments)}function jR(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)!==-1)continue;t[s]=i[s]}return t}function sE(i){return"default"+i.charAt(0).toUpperCase()+i.substr(1)}function zR(i){var e=BR(i,"string");return typeof e=="symbol"?e:String(e)}function BR(i,e){if(typeof i!="object"||i===null)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var s=t.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function HR(i,e,t){var s=j.useRef(i!==void 0),o=j.useState(e),l=o[0],h=o[1],m=i!==void 0,g=s.current;return s.current=m,!m&&g&&l!==e&&h(e),[m?i:l,j.useCallback(function(p){for(var v=arguments.length,T=new Array(v>1?v-1:0),A=1;A<v;A++)T[A-1]=arguments[A];t&&t.apply(void 0,[p].concat(T)),h(p)},[t])]}function qR(i,e){return Object.keys(e).reduce(function(t,s){var o,l=t,h=l[sE(s)],m=l[s],g=jR(l,[sE(s),s].map(zR)),p=e[s],v=HR(m,h,i[p]),T=v[0],A=v[1];return Um({},g,(o={},o[s]=T,o[p]=A,o))},i)}const FR=["xxl","xl","lg","md","sm","xs"],GR="xs",Mh=j.createContext({prefixes:{},breakpoints:FR,minBreakpoint:GR}),{Consumer:pM,Provider:gM}=Mh;function $t(i,e){const{prefixes:t}=j.useContext(Mh);return i||t[e]||e}function cT(){const{breakpoints:i}=j.useContext(Mh);return i}function hT(){const{minBreakpoint:i}=j.useContext(Mh);return i}const fT=i=>j.forwardRef((e,t)=>N.jsx("div",{...e,ref:t,className:Nt(e.className,i)}));function KR(i){const e=j.useRef(i);return j.useEffect(()=>{e.current=i},[i]),e}function dT(i){const e=KR(i);return j.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const YR=["as","disabled"];function $R(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}function XR(i){return!i||i.trim()==="#"}function Cp({tagName:i,disabled:e,href:t,target:s,rel:o,role:l,onClick:h,tabIndex:m=0,type:g}){i||(t!=null||s!=null||o!=null?i="a":i="button");const p={tagName:i};if(i==="button")return[{type:g||"button",disabled:e},p];const v=A=>{if((e||i==="a"&&XR(t))&&A.preventDefault(),e){A.stopPropagation();return}h==null||h(A)},T=A=>{A.key===" "&&(A.preventDefault(),v(A))};return i==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:l??"button",disabled:void 0,tabIndex:e?void 0:m,href:t,target:i==="a"?s:void 0,"aria-disabled":e||void 0,rel:i==="a"?o:void 0,onClick:v,onKeyDown:T},p]}const mT=j.forwardRef((i,e)=>{let{as:t,disabled:s}=i,o=$R(i,YR);const[l,{tagName:h}]=Cp(Object.assign({tagName:t,disabled:s},o));return N.jsx(h,Object.assign({},o,l,{ref:e}))});mT.displayName="Button";const QR=["onKeyDown"];function JR(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}function WR(i){return!i||i.trim()==="#"}const pT=j.forwardRef((i,e)=>{let{onKeyDown:t}=i,s=JR(i,QR);const[o]=Cp(Object.assign({tagName:"a"},s)),l=dT(h=>{o.onKeyDown(h),t==null||t(h)});return WR(s.href)||s.role==="button"?N.jsx("a",Object.assign({ref:e},s,o,{onKeyDown:l})):N.jsx("a",Object.assign({ref:e},s,{onKeyDown:t}))});pT.displayName="Anchor";const jm=j.forwardRef(({as:i,bsPrefix:e,variant:t="primary",size:s,active:o=!1,disabled:l=!1,className:h,...m},g)=>{const p=$t(e,"btn"),[v,{tagName:T}]=Cp({tagName:i,disabled:l,...m}),A=T;return N.jsx(A,{...v,...m,ref:g,disabled:l,className:Nt(h,p,o&&"active",t&&`${p}-${t}`,s&&`${p}-${s}`,m.href&&l&&"disabled")})});jm.displayName="Button";const Ip=j.forwardRef(({className:i,bsPrefix:e,as:t="div",...s},o)=>(e=$t(e,"card-body"),N.jsx(t,{ref:o,className:Nt(i,e),...s})));Ip.displayName="CardBody";const gT=j.forwardRef(({className:i,bsPrefix:e,as:t="div",...s},o)=>(e=$t(e,"card-footer"),N.jsx(t,{ref:o,className:Nt(i,e),...s})));gT.displayName="CardFooter";const Op=j.createContext(null);Op.displayName="CardHeaderContext";const yT=j.forwardRef(({bsPrefix:i,className:e,as:t="div",...s},o)=>{const l=$t(i,"card-header"),h=j.useMemo(()=>({cardHeaderBsPrefix:l}),[l]);return N.jsx(Op.Provider,{value:h,children:N.jsx(t,{ref:o,...s,className:Nt(e,l)})})});yT.displayName="CardHeader";const vT=j.forwardRef(({bsPrefix:i,className:e,variant:t,as:s="img",...o},l)=>{const h=$t(i,"card-img");return N.jsx(s,{ref:l,className:Nt(t?`${h}-${t}`:h,e),...o})});vT.displayName="CardImg";const _T=j.forwardRef(({className:i,bsPrefix:e,as:t="div",...s},o)=>(e=$t(e,"card-img-overlay"),N.jsx(t,{ref:o,className:Nt(i,e),...s})));_T.displayName="CardImgOverlay";const ET=j.forwardRef(({className:i,bsPrefix:e,as:t="a",...s},o)=>(e=$t(e,"card-link"),N.jsx(t,{ref:o,className:Nt(i,e),...s})));ET.displayName="CardLink";const ZR=fT("h6"),TT=j.forwardRef(({className:i,bsPrefix:e,as:t=ZR,...s},o)=>(e=$t(e,"card-subtitle"),N.jsx(t,{ref:o,className:Nt(i,e),...s})));TT.displayName="CardSubtitle";const AT=j.forwardRef(({className:i,bsPrefix:e,as:t="p",...s},o)=>(e=$t(e,"card-text"),N.jsx(t,{ref:o,className:Nt(i,e),...s})));AT.displayName="CardText";const eC=fT("h5"),ST=j.forwardRef(({className:i,bsPrefix:e,as:t=eC,...s},o)=>(e=$t(e,"card-title"),N.jsx(t,{ref:o,className:Nt(i,e),...s})));ST.displayName="CardTitle";const bT=j.forwardRef(({bsPrefix:i,className:e,bg:t,text:s,border:o,body:l=!1,children:h,as:m="div",...g},p)=>{const v=$t(i,"card");return N.jsx(m,{ref:p,...g,className:Nt(e,v,t&&`bg-${t}`,s&&`text-${s}`,o&&`border-${o}`),children:l?N.jsx(Ip,{children:h}):h})});bT.displayName="Card";const aE=Object.assign(bT,{Img:vT,Title:ST,Subtitle:TT,Body:Ip,Link:ET,Text:AT,Header:yT,Footer:gT,ImgOverlay:_T});function tC({as:i,bsPrefix:e,className:t,...s}){e=$t(e,"col");const o=cT(),l=hT(),h=[],m=[];return o.forEach(g=>{const p=s[g];delete s[g];let v,T,A;typeof p=="object"&&p!=null?{span:v,offset:T,order:A}=p:v=p;const O=g!==l?`-${g}`:"";v&&h.push(v===!0?`${e}${O}`:`${e}${O}-${v}`),A!=null&&m.push(`order${O}-${A}`),T!=null&&m.push(`offset${O}-${T}`)}),[{...s,className:Nt(t,...h,...m)},{as:i,bsPrefix:e,spans:h}]}const wT=j.forwardRef((i,e)=>{const[{className:t,...s},{as:o="div",bsPrefix:l,spans:h}]=tC(i);return N.jsx(o,{...s,ref:e,className:Nt(t,!h.length&&l)})});wT.displayName="Col";const zm=j.forwardRef(({bsPrefix:i,fluid:e=!1,as:t="div",className:s,...o},l)=>{const h=$t(i,"container"),m=typeof e=="string"?`-${e}`:"-fluid";return N.jsx(t,{ref:l,...o,className:Nt(s,e?`${h}${m}`:h)})});zm.displayName="Container";var nC=Function.prototype.bind.call(Function.prototype.call,[].slice);function iC(i,e){return nC(i.querySelectorAll(e))}function rC(){const[,i]=j.useReducer(e=>e+1,0);return i}const Bm=j.createContext(null),xp=(i,e=null)=>i!=null?String(i):e||null,Dp=j.createContext(null);Dp.displayName="NavContext";const sC="data-rr-ui-",aC="rrUi";function Np(i){return`${sC}${i}`}function oC(i){return`${aC}${i}`}const RT=j.createContext(null);RT.displayName="NavbarContext";const oE=i=>!i||typeof i=="function"?i:e=>{i.current=e};function lC(i,e){const t=oE(i),s=oE(e);return o=>{t&&t(o),s&&s(o)}}function uC(i,e){return j.useMemo(()=>lC(i,e),[i,e])}const CT=j.createContext(null),cC=["as","active","eventKey"];function hC(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}function IT({key:i,onClick:e,active:t,id:s,role:o,disabled:l}){const h=j.useContext(Bm),m=j.useContext(Dp),g=j.useContext(CT);let p=t;const v={role:o};if(m){!o&&m.role==="tablist"&&(v.role="tab");const T=m.getControllerId(i??null),A=m.getControlledId(i??null);v[Np("event-key")]=i,v.id=T||s,p=t==null&&i!=null?m.activeKey===i:t,(p||!(g!=null&&g.unmountOnExit)&&!(g!=null&&g.mountOnEnter))&&(v["aria-controls"]=A)}return v.role==="tab"&&(v["aria-selected"]=p,p||(v.tabIndex=-1),l&&(v.tabIndex=-1,v["aria-disabled"]=!0)),v.onClick=dT(T=>{l||(e==null||e(T),i!=null&&h&&!T.isPropagationStopped()&&h(i,T))}),[v,{isActive:p}]}const OT=j.forwardRef((i,e)=>{let{as:t=mT,active:s,eventKey:o}=i,l=hC(i,cC);const[h,m]=IT(Object.assign({key:xp(o,l.href),active:s},l));return h[Np("active")]=m.isActive,N.jsx(t,Object.assign({},l,h,{ref:e}))});OT.displayName="NavItem";const fC=["as","onSelect","activeKey","role","onKeyDown"];function dC(i,e){if(i==null)return{};var t={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}const lE=()=>{},uE=Np("event-key"),xT=j.forwardRef((i,e)=>{let{as:t="div",onSelect:s,activeKey:o,role:l,onKeyDown:h}=i,m=dC(i,fC);const g=rC(),p=j.useRef(!1),v=j.useContext(Bm),T=j.useContext(CT);let A,O;T&&(l=l||"tablist",o=T.activeKey,A=T.getControlledId,O=T.getControllerId);const R=j.useRef(null),k=q=>{const re=R.current;if(!re)return null;const ee=iC(re,`[${uE}]:not([aria-disabled=true])`),ae=re.querySelector("[aria-selected=true]");if(!ae||ae!==document.activeElement)return null;const x=ee.indexOf(ae);if(x===-1)return null;let w=x+q;return w>=ee.length&&(w=0),w<0&&(w=ee.length-1),ee[w]},I=(q,re)=>{q!=null&&(s==null||s(q,re),v==null||v(q,re))},B=q=>{if(h==null||h(q),!T)return;let re;switch(q.key){case"ArrowLeft":case"ArrowUp":re=k(-1);break;case"ArrowRight":case"ArrowDown":re=k(1);break;default:return}re&&(q.preventDefault(),I(re.dataset[oC("EventKey")]||null,q),p.current=!0,g())};j.useEffect(()=>{if(R.current&&p.current){const q=R.current.querySelector(`[${uE}][aria-selected=true]`);q==null||q.focus()}p.current=!1});const J=uC(e,R);return N.jsx(Bm.Provider,{value:I,children:N.jsx(Dp.Provider,{value:{role:l,activeKey:xp(o),getControlledId:A||lE,getControllerId:O||lE},children:N.jsx(t,Object.assign({},m,{onKeyDown:B,ref:J,role:l}))})})});xT.displayName="Nav";const mC=Object.assign(xT,{Item:OT}),DT=j.forwardRef(({className:i,bsPrefix:e,as:t="div",...s},o)=>(e=$t(e,"nav-item"),N.jsx(t,{ref:o,className:Nt(i,e),...s})));DT.displayName="NavItem";const NT=j.forwardRef(({bsPrefix:i,className:e,as:t=pT,active:s,eventKey:o,disabled:l=!1,...h},m)=>{i=$t(i,"nav-link");const[g,p]=IT({key:xp(o,h.href),active:s,disabled:l,...h});return N.jsx(t,{...h,...g,ref:m,disabled:l,className:Nt(e,i,l&&"disabled",p.isActive&&"active")})});NT.displayName="NavLink";const VT=j.forwardRef((i,e)=>{const{as:t="div",bsPrefix:s,variant:o,fill:l=!1,justify:h=!1,navbar:m,navbarScroll:g,className:p,activeKey:v,...T}=qR(i,{activeKey:"onSelect"}),A=$t(s,"nav");let O,R,k=!1;const I=j.useContext(RT),B=j.useContext(Op);return I?(O=I.bsPrefix,k=m??!0):B&&({cardHeaderBsPrefix:R}=B),N.jsx(mC,{as:t,ref:e,activeKey:v,className:Nt(p,{[A]:!k,[`${O}-nav`]:k,[`${O}-nav-scroll`]:k&&g,[`${R}-${o}`]:!!R,[`${A}-${o}`]:!!o,[`${A}-fill`]:l,[`${A}-justified`]:h}),...T})});VT.displayName="Nav";const pC=Object.assign(VT,{Item:DT,Link:NT}),MT=j.forwardRef(({bsPrefix:i,className:e,as:t="div",...s},o)=>{const l=$t(i,"row"),h=cT(),m=hT(),g=`${l}-cols`,p=[];return h.forEach(v=>{const T=s[v];delete s[v];let A;T!=null&&typeof T=="object"?{cols:A}=T:A=T;const O=v!==m?`-${v}`:"";A!=null&&p.push(`${g}${O}-${A}`)}),N.jsx(t,{ref:o,...s,className:Nt(e,l,...p)})});MT.displayName="Row";function gC(){const i=Bn();return N.jsxs(N.Fragment,{children:[N.jsx(pC,{className:"nav-rocket",children:N.jsxs("div",{className:"nav-button-container",children:[N.jsx("button",{className:"nav-button",onClick:()=>i("/home"),children:"Home"}),N.jsx("button",{className:"nav-button",onClick:()=>i("/dashboard"),children:"Dashboard"}),N.jsx("button",{className:"nav-button",onClick:()=>i("/my-playlists"),children:"My Playlists"}),N.jsx("button",{className:"nav-button",onClick:()=>i("/social"),children:"Social"}),N.jsx("button",{className:"nav-button",onClick:()=>i("/profile"),children:"Profile"}),N.jsx("button",{className:"nav-button",onClick:()=>i("/signout"),children:"Sign Out"})]})}),N.jsx("div",{className:"home-container__overlay"}),N.jsx("main",{style:{paddingTop:"4rem"},children:N.jsx(tR,{})})]})}function PT(i,e){return function(){return i.apply(e,arguments)}}const{toString:yC}=Object.prototype,{getPrototypeOf:Vp}=Object,{iterator:Ph,toStringTag:kT}=Symbol,kh=(i=>e=>{const t=yC.call(e);return i[t]||(i[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Wn=i=>(i=i.toLowerCase(),e=>kh(e)===i),Lh=i=>e=>typeof e===i,{isArray:fo}=Array,Kl=Lh("undefined");function vC(i){return i!==null&&!Kl(i)&&i.constructor!==null&&!Kl(i.constructor)&&pn(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const LT=Wn("ArrayBuffer");function _C(i){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(i):e=i&&i.buffer&&LT(i.buffer),e}const EC=Lh("string"),pn=Lh("function"),UT=Lh("number"),Uh=i=>i!==null&&typeof i=="object",TC=i=>i===!0||i===!1,Jc=i=>{if(kh(i)!=="object")return!1;const e=Vp(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(kT in i)&&!(Ph in i)},AC=Wn("Date"),SC=Wn("File"),bC=Wn("Blob"),wC=Wn("FileList"),RC=i=>Uh(i)&&pn(i.pipe),CC=i=>{let e;return i&&(typeof FormData=="function"&&i instanceof FormData||pn(i.append)&&((e=kh(i))==="formdata"||e==="object"&&pn(i.toString)&&i.toString()==="[object FormData]"))},IC=Wn("URLSearchParams"),[OC,xC,DC,NC]=["ReadableStream","Request","Response","Headers"].map(Wn),VC=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function su(i,e,{allOwnKeys:t=!1}={}){if(i===null||typeof i>"u")return;let s,o;if(typeof i!="object"&&(i=[i]),fo(i))for(s=0,o=i.length;s<o;s++)e.call(null,i[s],s,i);else{const l=t?Object.getOwnPropertyNames(i):Object.keys(i),h=l.length;let m;for(s=0;s<h;s++)m=l[s],e.call(null,i[m],m,i)}}function jT(i,e){e=e.toLowerCase();const t=Object.keys(i);let s=t.length,o;for(;s-- >0;)if(o=t[s],e===o.toLowerCase())return o;return null}const zs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,zT=i=>!Kl(i)&&i!==zs;function Hm(){const{caseless:i}=zT(this)&&this||{},e={},t=(s,o)=>{const l=i&&jT(e,o)||o;Jc(e[l])&&Jc(s)?e[l]=Hm(e[l],s):Jc(s)?e[l]=Hm({},s):fo(s)?e[l]=s.slice():e[l]=s};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&su(arguments[s],t);return e}const MC=(i,e,t,{allOwnKeys:s}={})=>(su(e,(o,l)=>{t&&pn(o)?i[l]=PT(o,t):i[l]=o},{allOwnKeys:s}),i),PC=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),kC=(i,e,t,s)=>{i.prototype=Object.create(e.prototype,s),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:e.prototype}),t&&Object.assign(i.prototype,t)},LC=(i,e,t,s)=>{let o,l,h;const m={};if(e=e||{},i==null)return e;do{for(o=Object.getOwnPropertyNames(i),l=o.length;l-- >0;)h=o[l],(!s||s(h,i,e))&&!m[h]&&(e[h]=i[h],m[h]=!0);i=t!==!1&&Vp(i)}while(i&&(!t||t(i,e))&&i!==Object.prototype);return e},UC=(i,e,t)=>{i=String(i),(t===void 0||t>i.length)&&(t=i.length),t-=e.length;const s=i.indexOf(e,t);return s!==-1&&s===t},jC=i=>{if(!i)return null;if(fo(i))return i;let e=i.length;if(!UT(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=i[e];return t},zC=(i=>e=>i&&e instanceof i)(typeof Uint8Array<"u"&&Vp(Uint8Array)),BC=(i,e)=>{const s=(i&&i[Ph]).call(i);let o;for(;(o=s.next())&&!o.done;){const l=o.value;e.call(i,l[0],l[1])}},HC=(i,e)=>{let t;const s=[];for(;(t=i.exec(e))!==null;)s.push(t);return s},qC=Wn("HTMLFormElement"),FC=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,s,o){return s.toUpperCase()+o}),cE=(({hasOwnProperty:i})=>(e,t)=>i.call(e,t))(Object.prototype),GC=Wn("RegExp"),BT=(i,e)=>{const t=Object.getOwnPropertyDescriptors(i),s={};su(t,(o,l)=>{let h;(h=e(o,l,i))!==!1&&(s[l]=h||o)}),Object.defineProperties(i,s)},KC=i=>{BT(i,(e,t)=>{if(pn(i)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const s=i[t];if(pn(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},YC=(i,e)=>{const t={},s=o=>{o.forEach(l=>{t[l]=!0})};return fo(i)?s(i):s(String(i).split(e)),t},$C=()=>{},XC=(i,e)=>i!=null&&Number.isFinite(i=+i)?i:e;function QC(i){return!!(i&&pn(i.append)&&i[kT]==="FormData"&&i[Ph])}const JC=i=>{const e=new Array(10),t=(s,o)=>{if(Uh(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[o]=s;const l=fo(s)?[]:{};return su(s,(h,m)=>{const g=t(h,o+1);!Kl(g)&&(l[m]=g)}),e[o]=void 0,l}}return s};return t(i,0)},WC=Wn("AsyncFunction"),ZC=i=>i&&(Uh(i)||pn(i))&&pn(i.then)&&pn(i.catch),HT=((i,e)=>i?setImmediate:e?((t,s)=>(zs.addEventListener("message",({source:o,data:l})=>{o===zs&&l===t&&s.length&&s.shift()()},!1),o=>{s.push(o),zs.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",pn(zs.postMessage)),eI=typeof queueMicrotask<"u"?queueMicrotask.bind(zs):typeof process<"u"&&process.nextTick||HT,tI=i=>i!=null&&pn(i[Ph]),Q={isArray:fo,isArrayBuffer:LT,isBuffer:vC,isFormData:CC,isArrayBufferView:_C,isString:EC,isNumber:UT,isBoolean:TC,isObject:Uh,isPlainObject:Jc,isReadableStream:OC,isRequest:xC,isResponse:DC,isHeaders:NC,isUndefined:Kl,isDate:AC,isFile:SC,isBlob:bC,isRegExp:GC,isFunction:pn,isStream:RC,isURLSearchParams:IC,isTypedArray:zC,isFileList:wC,forEach:su,merge:Hm,extend:MC,trim:VC,stripBOM:PC,inherits:kC,toFlatObject:LC,kindOf:kh,kindOfTest:Wn,endsWith:UC,toArray:jC,forEachEntry:BC,matchAll:HC,isHTMLForm:qC,hasOwnProperty:cE,hasOwnProp:cE,reduceDescriptors:BT,freezeMethods:KC,toObjectSet:YC,toCamelCase:FC,noop:$C,toFiniteNumber:XC,findKey:jT,global:zs,isContextDefined:zT,isSpecCompliantForm:QC,toJSONObject:JC,isAsyncFn:WC,isThenable:ZC,setImmediate:HT,asap:eI,isIterable:tI};function Ce(i,e,t,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),s&&(this.request=s),o&&(this.response=o,this.status=o.status?o.status:null)}Q.inherits(Ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Q.toJSONObject(this.config),code:this.code,status:this.status}}});const qT=Ce.prototype,FT={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{FT[i]={value:i}});Object.defineProperties(Ce,FT);Object.defineProperty(qT,"isAxiosError",{value:!0});Ce.from=(i,e,t,s,o,l)=>{const h=Object.create(qT);return Q.toFlatObject(i,h,function(g){return g!==Error.prototype},m=>m!=="isAxiosError"),Ce.call(h,i.message,e,t,s,o),h.cause=i,h.name=i.name,l&&Object.assign(h,l),h};const nI=null;function qm(i){return Q.isPlainObject(i)||Q.isArray(i)}function GT(i){return Q.endsWith(i,"[]")?i.slice(0,-2):i}function hE(i,e,t){return i?i.concat(e).map(function(o,l){return o=GT(o),!t&&l?"["+o+"]":o}).join(t?".":""):e}function iI(i){return Q.isArray(i)&&!i.some(qm)}const rI=Q.toFlatObject(Q,{},null,function(e){return/^is[A-Z]/.test(e)});function jh(i,e,t){if(!Q.isObject(i))throw new TypeError("target must be an object");e=e||new FormData,t=Q.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,I){return!Q.isUndefined(I[k])});const s=t.metaTokens,o=t.visitor||v,l=t.dots,h=t.indexes,g=(t.Blob||typeof Blob<"u"&&Blob)&&Q.isSpecCompliantForm(e);if(!Q.isFunction(o))throw new TypeError("visitor must be a function");function p(R){if(R===null)return"";if(Q.isDate(R))return R.toISOString();if(!g&&Q.isBlob(R))throw new Ce("Blob is not supported. Use a Buffer instead.");return Q.isArrayBuffer(R)||Q.isTypedArray(R)?g&&typeof Blob=="function"?new Blob([R]):Buffer.from(R):R}function v(R,k,I){let B=R;if(R&&!I&&typeof R=="object"){if(Q.endsWith(k,"{}"))k=s?k:k.slice(0,-2),R=JSON.stringify(R);else if(Q.isArray(R)&&iI(R)||(Q.isFileList(R)||Q.endsWith(k,"[]"))&&(B=Q.toArray(R)))return k=GT(k),B.forEach(function(q,re){!(Q.isUndefined(q)||q===null)&&e.append(h===!0?hE([k],re,l):h===null?k:k+"[]",p(q))}),!1}return qm(R)?!0:(e.append(hE(I,k,l),p(R)),!1)}const T=[],A=Object.assign(rI,{defaultVisitor:v,convertValue:p,isVisitable:qm});function O(R,k){if(!Q.isUndefined(R)){if(T.indexOf(R)!==-1)throw Error("Circular reference detected in "+k.join("."));T.push(R),Q.forEach(R,function(B,J){(!(Q.isUndefined(B)||B===null)&&o.call(e,B,Q.isString(J)?J.trim():J,k,A))===!0&&O(B,k?k.concat(J):[J])}),T.pop()}}if(!Q.isObject(i))throw new TypeError("data must be an object");return O(i),e}function fE(i){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Mp(i,e){this._pairs=[],i&&jh(i,this,e)}const KT=Mp.prototype;KT.append=function(e,t){this._pairs.push([e,t])};KT.toString=function(e){const t=e?function(s){return e.call(this,s,fE)}:fE;return this._pairs.map(function(o){return t(o[0])+"="+t(o[1])},"").join("&")};function sI(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function YT(i,e,t){if(!e)return i;const s=t&&t.encode||sI;Q.isFunction(t)&&(t={serialize:t});const o=t&&t.serialize;let l;if(o?l=o(e,t):l=Q.isURLSearchParams(e)?e.toString():new Mp(e,t).toString(s),l){const h=i.indexOf("#");h!==-1&&(i=i.slice(0,h)),i+=(i.indexOf("?")===-1?"?":"&")+l}return i}class dE{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Q.forEach(this.handlers,function(s){s!==null&&e(s)})}}const $T={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},aI=typeof URLSearchParams<"u"?URLSearchParams:Mp,oI=typeof FormData<"u"?FormData:null,lI=typeof Blob<"u"?Blob:null,uI={isBrowser:!0,classes:{URLSearchParams:aI,FormData:oI,Blob:lI},protocols:["http","https","file","blob","url","data"]},Pp=typeof window<"u"&&typeof document<"u",Fm=typeof navigator=="object"&&navigator||void 0,cI=Pp&&(!Fm||["ReactNative","NativeScript","NS"].indexOf(Fm.product)<0),hI=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",fI=Pp&&window.location.href||"http://localhost",dI=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Pp,hasStandardBrowserEnv:cI,hasStandardBrowserWebWorkerEnv:hI,navigator:Fm,origin:fI},Symbol.toStringTag,{value:"Module"})),nn={...dI,...uI};function mI(i,e){return jh(i,new nn.classes.URLSearchParams,Object.assign({visitor:function(t,s,o,l){return nn.isNode&&Q.isBuffer(t)?(this.append(s,t.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},e))}function pI(i){return Q.matchAll(/\w+|\[(\w*)]/g,i).map(e=>e[0]==="[]"?"":e[1]||e[0])}function gI(i){const e={},t=Object.keys(i);let s;const o=t.length;let l;for(s=0;s<o;s++)l=t[s],e[l]=i[l];return e}function XT(i){function e(t,s,o,l){let h=t[l++];if(h==="__proto__")return!0;const m=Number.isFinite(+h),g=l>=t.length;return h=!h&&Q.isArray(o)?o.length:h,g?(Q.hasOwnProp(o,h)?o[h]=[o[h],s]:o[h]=s,!m):((!o[h]||!Q.isObject(o[h]))&&(o[h]=[]),e(t,s,o[h],l)&&Q.isArray(o[h])&&(o[h]=gI(o[h])),!m)}if(Q.isFormData(i)&&Q.isFunction(i.entries)){const t={};return Q.forEachEntry(i,(s,o)=>{e(pI(s),o,t,0)}),t}return null}function yI(i,e,t){if(Q.isString(i))try{return(e||JSON.parse)(i),Q.trim(i)}catch(s){if(s.name!=="SyntaxError")throw s}return(t||JSON.stringify)(i)}const au={transitional:$T,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",o=s.indexOf("application/json")>-1,l=Q.isObject(e);if(l&&Q.isHTMLForm(e)&&(e=new FormData(e)),Q.isFormData(e))return o?JSON.stringify(XT(e)):e;if(Q.isArrayBuffer(e)||Q.isBuffer(e)||Q.isStream(e)||Q.isFile(e)||Q.isBlob(e)||Q.isReadableStream(e))return e;if(Q.isArrayBufferView(e))return e.buffer;if(Q.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let m;if(l){if(s.indexOf("application/x-www-form-urlencoded")>-1)return mI(e,this.formSerializer).toString();if((m=Q.isFileList(e))||s.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return jh(m?{"files[]":e}:e,g&&new g,this.formSerializer)}}return l||o?(t.setContentType("application/json",!1),yI(e)):e}],transformResponse:[function(e){const t=this.transitional||au.transitional,s=t&&t.forcedJSONParsing,o=this.responseType==="json";if(Q.isResponse(e)||Q.isReadableStream(e))return e;if(e&&Q.isString(e)&&(s&&!this.responseType||o)){const h=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(m){if(h)throw m.name==="SyntaxError"?Ce.from(m,Ce.ERR_BAD_RESPONSE,this,null,this.response):m}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:nn.classes.FormData,Blob:nn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Q.forEach(["delete","get","head","post","put","patch"],i=>{au.headers[i]={}});const vI=Q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_I=i=>{const e={};let t,s,o;return i&&i.split(`
`).forEach(function(h){o=h.indexOf(":"),t=h.substring(0,o).trim().toLowerCase(),s=h.substring(o+1).trim(),!(!t||e[t]&&vI[t])&&(t==="set-cookie"?e[t]?e[t].push(s):e[t]=[s]:e[t]=e[t]?e[t]+", "+s:s)}),e},mE=Symbol("internals");function Pl(i){return i&&String(i).trim().toLowerCase()}function Wc(i){return i===!1||i==null?i:Q.isArray(i)?i.map(Wc):String(i)}function EI(i){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=t.exec(i);)e[s[1]]=s[2];return e}const TI=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function Em(i,e,t,s,o){if(Q.isFunction(s))return s.call(this,e,t);if(o&&(e=t),!!Q.isString(e)){if(Q.isString(s))return e.indexOf(s)!==-1;if(Q.isRegExp(s))return s.test(e)}}function AI(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}function SI(i,e){const t=Q.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(i,s+t,{value:function(o,l,h){return this[s].call(this,e,o,l,h)},configurable:!0})})}let gn=class{constructor(e){e&&this.set(e)}set(e,t,s){const o=this;function l(m,g,p){const v=Pl(g);if(!v)throw new Error("header name must be a non-empty string");const T=Q.findKey(o,v);(!T||o[T]===void 0||p===!0||p===void 0&&o[T]!==!1)&&(o[T||g]=Wc(m))}const h=(m,g)=>Q.forEach(m,(p,v)=>l(p,v,g));if(Q.isPlainObject(e)||e instanceof this.constructor)h(e,t);else if(Q.isString(e)&&(e=e.trim())&&!TI(e))h(_I(e),t);else if(Q.isObject(e)&&Q.isIterable(e)){let m={},g,p;for(const v of e){if(!Q.isArray(v))throw TypeError("Object iterator must return a key-value pair");m[p=v[0]]=(g=m[p])?Q.isArray(g)?[...g,v[1]]:[g,v[1]]:v[1]}h(m,t)}else e!=null&&l(t,e,s);return this}get(e,t){if(e=Pl(e),e){const s=Q.findKey(this,e);if(s){const o=this[s];if(!t)return o;if(t===!0)return EI(o);if(Q.isFunction(t))return t.call(this,o,s);if(Q.isRegExp(t))return t.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Pl(e),e){const s=Q.findKey(this,e);return!!(s&&this[s]!==void 0&&(!t||Em(this,this[s],s,t)))}return!1}delete(e,t){const s=this;let o=!1;function l(h){if(h=Pl(h),h){const m=Q.findKey(s,h);m&&(!t||Em(s,s[m],m,t))&&(delete s[m],o=!0)}}return Q.isArray(e)?e.forEach(l):l(e),o}clear(e){const t=Object.keys(this);let s=t.length,o=!1;for(;s--;){const l=t[s];(!e||Em(this,this[l],l,e,!0))&&(delete this[l],o=!0)}return o}normalize(e){const t=this,s={};return Q.forEach(this,(o,l)=>{const h=Q.findKey(s,l);if(h){t[h]=Wc(o),delete t[l];return}const m=e?AI(l):String(l).trim();m!==l&&delete t[l],t[m]=Wc(o),s[m]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Q.forEach(this,(s,o)=>{s!=null&&s!==!1&&(t[o]=e&&Q.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach(o=>s.set(o)),s}static accessor(e){const s=(this[mE]=this[mE]={accessors:{}}).accessors,o=this.prototype;function l(h){const m=Pl(h);s[m]||(SI(o,h),s[m]=!0)}return Q.isArray(e)?e.forEach(l):l(e),this}};gn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Q.reduceDescriptors(gn.prototype,({value:i},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>i,set(s){this[t]=s}}});Q.freezeMethods(gn);function Tm(i,e){const t=this||au,s=e||t,o=gn.from(s.headers);let l=s.data;return Q.forEach(i,function(m){l=m.call(t,l,o.normalize(),e?e.status:void 0)}),o.normalize(),l}function QT(i){return!!(i&&i.__CANCEL__)}function mo(i,e,t){Ce.call(this,i??"canceled",Ce.ERR_CANCELED,e,t),this.name="CanceledError"}Q.inherits(mo,Ce,{__CANCEL__:!0});function JT(i,e,t){const s=t.config.validateStatus;!t.status||!s||s(t.status)?i(t):e(new Ce("Request failed with status code "+t.status,[Ce.ERR_BAD_REQUEST,Ce.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function bI(i){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return e&&e[1]||""}function wI(i,e){i=i||10;const t=new Array(i),s=new Array(i);let o=0,l=0,h;return e=e!==void 0?e:1e3,function(g){const p=Date.now(),v=s[l];h||(h=p),t[o]=g,s[o]=p;let T=l,A=0;for(;T!==o;)A+=t[T++],T=T%i;if(o=(o+1)%i,o===l&&(l=(l+1)%i),p-h<e)return;const O=v&&p-v;return O?Math.round(A*1e3/O):void 0}}function RI(i,e){let t=0,s=1e3/e,o,l;const h=(p,v=Date.now())=>{t=v,o=null,l&&(clearTimeout(l),l=null),i.apply(null,p)};return[(...p)=>{const v=Date.now(),T=v-t;T>=s?h(p,v):(o=p,l||(l=setTimeout(()=>{l=null,h(o)},s-T)))},()=>o&&h(o)]}const ch=(i,e,t=3)=>{let s=0;const o=wI(50,250);return RI(l=>{const h=l.loaded,m=l.lengthComputable?l.total:void 0,g=h-s,p=o(g),v=h<=m;s=h;const T={loaded:h,total:m,progress:m?h/m:void 0,bytes:g,rate:p||void 0,estimated:p&&m&&v?(m-h)/p:void 0,event:l,lengthComputable:m!=null,[e?"download":"upload"]:!0};i(T)},t)},pE=(i,e)=>{const t=i!=null;return[s=>e[0]({lengthComputable:t,total:i,loaded:s}),e[1]]},gE=i=>(...e)=>Q.asap(()=>i(...e)),CI=nn.hasStandardBrowserEnv?((i,e)=>t=>(t=new URL(t,nn.origin),i.protocol===t.protocol&&i.host===t.host&&(e||i.port===t.port)))(new URL(nn.origin),nn.navigator&&/(msie|trident)/i.test(nn.navigator.userAgent)):()=>!0,II=nn.hasStandardBrowserEnv?{write(i,e,t,s,o,l){const h=[i+"="+encodeURIComponent(e)];Q.isNumber(t)&&h.push("expires="+new Date(t).toGMTString()),Q.isString(s)&&h.push("path="+s),Q.isString(o)&&h.push("domain="+o),l===!0&&h.push("secure"),document.cookie=h.join("; ")},read(i){const e=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(i){this.write(i,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function OI(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function xI(i,e){return e?i.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):i}function WT(i,e,t){let s=!OI(e);return i&&(s||t==!1)?xI(i,e):e}const yE=i=>i instanceof gn?{...i}:i;function Gs(i,e){e=e||{};const t={};function s(p,v,T,A){return Q.isPlainObject(p)&&Q.isPlainObject(v)?Q.merge.call({caseless:A},p,v):Q.isPlainObject(v)?Q.merge({},v):Q.isArray(v)?v.slice():v}function o(p,v,T,A){if(Q.isUndefined(v)){if(!Q.isUndefined(p))return s(void 0,p,T,A)}else return s(p,v,T,A)}function l(p,v){if(!Q.isUndefined(v))return s(void 0,v)}function h(p,v){if(Q.isUndefined(v)){if(!Q.isUndefined(p))return s(void 0,p)}else return s(void 0,v)}function m(p,v,T){if(T in e)return s(p,v);if(T in i)return s(void 0,p)}const g={url:l,method:l,data:l,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:m,headers:(p,v,T)=>o(yE(p),yE(v),T,!0)};return Q.forEach(Object.keys(Object.assign({},i,e)),function(v){const T=g[v]||o,A=T(i[v],e[v],v);Q.isUndefined(A)&&T!==m||(t[v]=A)}),t}const ZT=i=>{const e=Gs({},i);let{data:t,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:l,headers:h,auth:m}=e;e.headers=h=gn.from(h),e.url=YT(WT(e.baseURL,e.url,e.allowAbsoluteUrls),i.params,i.paramsSerializer),m&&h.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):"")));let g;if(Q.isFormData(t)){if(nn.hasStandardBrowserEnv||nn.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if((g=h.getContentType())!==!1){const[p,...v]=g?g.split(";").map(T=>T.trim()).filter(Boolean):[];h.setContentType([p||"multipart/form-data",...v].join("; "))}}if(nn.hasStandardBrowserEnv&&(s&&Q.isFunction(s)&&(s=s(e)),s||s!==!1&&CI(e.url))){const p=o&&l&&II.read(l);p&&h.set(o,p)}return e},DI=typeof XMLHttpRequest<"u",NI=DI&&function(i){return new Promise(function(t,s){const o=ZT(i);let l=o.data;const h=gn.from(o.headers).normalize();let{responseType:m,onUploadProgress:g,onDownloadProgress:p}=o,v,T,A,O,R;function k(){O&&O(),R&&R(),o.cancelToken&&o.cancelToken.unsubscribe(v),o.signal&&o.signal.removeEventListener("abort",v)}let I=new XMLHttpRequest;I.open(o.method.toUpperCase(),o.url,!0),I.timeout=o.timeout;function B(){if(!I)return;const q=gn.from("getAllResponseHeaders"in I&&I.getAllResponseHeaders()),ee={data:!m||m==="text"||m==="json"?I.responseText:I.response,status:I.status,statusText:I.statusText,headers:q,config:i,request:I};JT(function(x){t(x),k()},function(x){s(x),k()},ee),I=null}"onloadend"in I?I.onloadend=B:I.onreadystatechange=function(){!I||I.readyState!==4||I.status===0&&!(I.responseURL&&I.responseURL.indexOf("file:")===0)||setTimeout(B)},I.onabort=function(){I&&(s(new Ce("Request aborted",Ce.ECONNABORTED,i,I)),I=null)},I.onerror=function(){s(new Ce("Network Error",Ce.ERR_NETWORK,i,I)),I=null},I.ontimeout=function(){let re=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const ee=o.transitional||$T;o.timeoutErrorMessage&&(re=o.timeoutErrorMessage),s(new Ce(re,ee.clarifyTimeoutError?Ce.ETIMEDOUT:Ce.ECONNABORTED,i,I)),I=null},l===void 0&&h.setContentType(null),"setRequestHeader"in I&&Q.forEach(h.toJSON(),function(re,ee){I.setRequestHeader(ee,re)}),Q.isUndefined(o.withCredentials)||(I.withCredentials=!!o.withCredentials),m&&m!=="json"&&(I.responseType=o.responseType),p&&([A,R]=ch(p,!0),I.addEventListener("progress",A)),g&&I.upload&&([T,O]=ch(g),I.upload.addEventListener("progress",T),I.upload.addEventListener("loadend",O)),(o.cancelToken||o.signal)&&(v=q=>{I&&(s(!q||q.type?new mo(null,i,I):q),I.abort(),I=null)},o.cancelToken&&o.cancelToken.subscribe(v),o.signal&&(o.signal.aborted?v():o.signal.addEventListener("abort",v)));const J=bI(o.url);if(J&&nn.protocols.indexOf(J)===-1){s(new Ce("Unsupported protocol "+J+":",Ce.ERR_BAD_REQUEST,i));return}I.send(l||null)})},VI=(i,e)=>{const{length:t}=i=i?i.filter(Boolean):[];if(e||t){let s=new AbortController,o;const l=function(p){if(!o){o=!0,m();const v=p instanceof Error?p:this.reason;s.abort(v instanceof Ce?v:new mo(v instanceof Error?v.message:v))}};let h=e&&setTimeout(()=>{h=null,l(new Ce(`timeout ${e} of ms exceeded`,Ce.ETIMEDOUT))},e);const m=()=>{i&&(h&&clearTimeout(h),h=null,i.forEach(p=>{p.unsubscribe?p.unsubscribe(l):p.removeEventListener("abort",l)}),i=null)};i.forEach(p=>p.addEventListener("abort",l));const{signal:g}=s;return g.unsubscribe=()=>Q.asap(m),g}},MI=function*(i,e){let t=i.byteLength;if(t<e){yield i;return}let s=0,o;for(;s<t;)o=s+e,yield i.slice(s,o),s=o},PI=async function*(i,e){for await(const t of kI(i))yield*MI(t,e)},kI=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const e=i.getReader();try{for(;;){const{done:t,value:s}=await e.read();if(t)break;yield s}}finally{await e.cancel()}},vE=(i,e,t,s)=>{const o=PI(i,e);let l=0,h,m=g=>{h||(h=!0,s&&s(g))};return new ReadableStream({async pull(g){try{const{done:p,value:v}=await o.next();if(p){m(),g.close();return}let T=v.byteLength;if(t){let A=l+=T;t(A)}g.enqueue(new Uint8Array(v))}catch(p){throw m(p),p}},cancel(g){return m(g),o.return()}},{highWaterMark:2})},zh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",eA=zh&&typeof ReadableStream=="function",LI=zh&&(typeof TextEncoder=="function"?(i=>e=>i.encode(e))(new TextEncoder):async i=>new Uint8Array(await new Response(i).arrayBuffer())),tA=(i,...e)=>{try{return!!i(...e)}catch{return!1}},UI=eA&&tA(()=>{let i=!1;const e=new Request(nn.origin,{body:new ReadableStream,method:"POST",get duplex(){return i=!0,"half"}}).headers.has("Content-Type");return i&&!e}),_E=64*1024,Gm=eA&&tA(()=>Q.isReadableStream(new Response("").body)),hh={stream:Gm&&(i=>i.body)};zh&&(i=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!hh[e]&&(hh[e]=Q.isFunction(i[e])?t=>t[e]():(t,s)=>{throw new Ce(`Response type '${e}' is not supported`,Ce.ERR_NOT_SUPPORT,s)})})})(new Response);const jI=async i=>{if(i==null)return 0;if(Q.isBlob(i))return i.size;if(Q.isSpecCompliantForm(i))return(await new Request(nn.origin,{method:"POST",body:i}).arrayBuffer()).byteLength;if(Q.isArrayBufferView(i)||Q.isArrayBuffer(i))return i.byteLength;if(Q.isURLSearchParams(i)&&(i=i+""),Q.isString(i))return(await LI(i)).byteLength},zI=async(i,e)=>{const t=Q.toFiniteNumber(i.getContentLength());return t??jI(e)},BI=zh&&(async i=>{let{url:e,method:t,data:s,signal:o,cancelToken:l,timeout:h,onDownloadProgress:m,onUploadProgress:g,responseType:p,headers:v,withCredentials:T="same-origin",fetchOptions:A}=ZT(i);p=p?(p+"").toLowerCase():"text";let O=VI([o,l&&l.toAbortSignal()],h),R;const k=O&&O.unsubscribe&&(()=>{O.unsubscribe()});let I;try{if(g&&UI&&t!=="get"&&t!=="head"&&(I=await zI(v,s))!==0){let ee=new Request(e,{method:"POST",body:s,duplex:"half"}),ae;if(Q.isFormData(s)&&(ae=ee.headers.get("content-type"))&&v.setContentType(ae),ee.body){const[x,w]=pE(I,ch(gE(g)));s=vE(ee.body,_E,x,w)}}Q.isString(T)||(T=T?"include":"omit");const B="credentials"in Request.prototype;R=new Request(e,{...A,signal:O,method:t.toUpperCase(),headers:v.normalize().toJSON(),body:s,duplex:"half",credentials:B?T:void 0});let J=await fetch(R);const q=Gm&&(p==="stream"||p==="response");if(Gm&&(m||q&&k)){const ee={};["status","statusText","headers"].forEach(C=>{ee[C]=J[C]});const ae=Q.toFiniteNumber(J.headers.get("content-length")),[x,w]=m&&pE(ae,ch(gE(m),!0))||[];J=new Response(vE(J.body,_E,x,()=>{w&&w(),k&&k()}),ee)}p=p||"text";let re=await hh[Q.findKey(hh,p)||"text"](J,i);return!q&&k&&k(),await new Promise((ee,ae)=>{JT(ee,ae,{data:re,headers:gn.from(J.headers),status:J.status,statusText:J.statusText,config:i,request:R})})}catch(B){throw k&&k(),B&&B.name==="TypeError"&&/Load failed|fetch/i.test(B.message)?Object.assign(new Ce("Network Error",Ce.ERR_NETWORK,i,R),{cause:B.cause||B}):Ce.from(B,B&&B.code,i,R)}}),Km={http:nI,xhr:NI,fetch:BI};Q.forEach(Km,(i,e)=>{if(i){try{Object.defineProperty(i,"name",{value:e})}catch{}Object.defineProperty(i,"adapterName",{value:e})}});const EE=i=>`- ${i}`,HI=i=>Q.isFunction(i)||i===null||i===!1,nA={getAdapter:i=>{i=Q.isArray(i)?i:[i];const{length:e}=i;let t,s;const o={};for(let l=0;l<e;l++){t=i[l];let h;if(s=t,!HI(t)&&(s=Km[(h=String(t)).toLowerCase()],s===void 0))throw new Ce(`Unknown adapter '${h}'`);if(s)break;o[h||"#"+l]=s}if(!s){const l=Object.entries(o).map(([m,g])=>`adapter ${m} `+(g===!1?"is not supported by the environment":"is not available in the build"));let h=e?l.length>1?`since :
`+l.map(EE).join(`
`):" "+EE(l[0]):"as no adapter specified";throw new Ce("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return s},adapters:Km};function Am(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new mo(null,i)}function TE(i){return Am(i),i.headers=gn.from(i.headers),i.data=Tm.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),nA.getAdapter(i.adapter||au.adapter)(i).then(function(s){return Am(i),s.data=Tm.call(i,i.transformResponse,s),s.headers=gn.from(s.headers),s},function(s){return QT(s)||(Am(i),s&&s.response&&(s.response.data=Tm.call(i,i.transformResponse,s.response),s.response.headers=gn.from(s.response.headers))),Promise.reject(s)})}const iA="1.9.0",Bh={};["object","boolean","number","function","string","symbol"].forEach((i,e)=>{Bh[i]=function(s){return typeof s===i||"a"+(e<1?"n ":" ")+i}});const AE={};Bh.transitional=function(e,t,s){function o(l,h){return"[Axios v"+iA+"] Transitional option '"+l+"'"+h+(s?". "+s:"")}return(l,h,m)=>{if(e===!1)throw new Ce(o(h," has been removed"+(t?" in "+t:"")),Ce.ERR_DEPRECATED);return t&&!AE[h]&&(AE[h]=!0,console.warn(o(h," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(l,h,m):!0}};Bh.spelling=function(e){return(t,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function qI(i,e,t){if(typeof i!="object")throw new Ce("options must be an object",Ce.ERR_BAD_OPTION_VALUE);const s=Object.keys(i);let o=s.length;for(;o-- >0;){const l=s[o],h=e[l];if(h){const m=i[l],g=m===void 0||h(m,l,i);if(g!==!0)throw new Ce("option "+l+" must be "+g,Ce.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ce("Unknown option "+l,Ce.ERR_BAD_OPTION)}}const Zc={assertOptions:qI,validators:Bh},gi=Zc.validators;let qs=class{constructor(e){this.defaults=e||{},this.interceptors={request:new dE,response:new dE}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const l=o.stack?o.stack.replace(/^.+\n/,""):"";try{s.stack?l&&!String(s.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+l):s.stack=l}catch{}}throw s}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Gs(this.defaults,t);const{transitional:s,paramsSerializer:o,headers:l}=t;s!==void 0&&Zc.assertOptions(s,{silentJSONParsing:gi.transitional(gi.boolean),forcedJSONParsing:gi.transitional(gi.boolean),clarifyTimeoutError:gi.transitional(gi.boolean)},!1),o!=null&&(Q.isFunction(o)?t.paramsSerializer={serialize:o}:Zc.assertOptions(o,{encode:gi.function,serialize:gi.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Zc.assertOptions(t,{baseUrl:gi.spelling("baseURL"),withXsrfToken:gi.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let h=l&&Q.merge(l.common,l[t.method]);l&&Q.forEach(["delete","get","head","post","put","patch","common"],R=>{delete l[R]}),t.headers=gn.concat(h,l);const m=[];let g=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(t)===!1||(g=g&&k.synchronous,m.unshift(k.fulfilled,k.rejected))});const p=[];this.interceptors.response.forEach(function(k){p.push(k.fulfilled,k.rejected)});let v,T=0,A;if(!g){const R=[TE.bind(this),void 0];for(R.unshift.apply(R,m),R.push.apply(R,p),A=R.length,v=Promise.resolve(t);T<A;)v=v.then(R[T++],R[T++]);return v}A=m.length;let O=t;for(T=0;T<A;){const R=m[T++],k=m[T++];try{O=R(O)}catch(I){k.call(this,I);break}}try{v=TE.call(this,O)}catch(R){return Promise.reject(R)}for(T=0,A=p.length;T<A;)v=v.then(p[T++],p[T++]);return v}getUri(e){e=Gs(this.defaults,e);const t=WT(e.baseURL,e.url,e.allowAbsoluteUrls);return YT(t,e.params,e.paramsSerializer)}};Q.forEach(["delete","get","head","options"],function(e){qs.prototype[e]=function(t,s){return this.request(Gs(s||{},{method:e,url:t,data:(s||{}).data}))}});Q.forEach(["post","put","patch"],function(e){function t(s){return function(l,h,m){return this.request(Gs(m||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:l,data:h}))}}qs.prototype[e]=t(),qs.prototype[e+"Form"]=t(!0)});let FI=class rA{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(l){t=l});const s=this;this.promise.then(o=>{if(!s._listeners)return;let l=s._listeners.length;for(;l-- >0;)s._listeners[l](o);s._listeners=null}),this.promise.then=o=>{let l;const h=new Promise(m=>{s.subscribe(m),l=m}).then(o);return h.cancel=function(){s.unsubscribe(l)},h},e(function(l,h,m){s.reason||(s.reason=new mo(l,h,m),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=s=>{e.abort(s)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new rA(function(o){e=o}),cancel:e}}};function GI(i){return function(t){return i.apply(null,t)}}function KI(i){return Q.isObject(i)&&i.isAxiosError===!0}const Ym={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ym).forEach(([i,e])=>{Ym[e]=i});function sA(i){const e=new qs(i),t=PT(qs.prototype.request,e);return Q.extend(t,qs.prototype,e,{allOwnKeys:!0}),Q.extend(t,e,null,{allOwnKeys:!0}),t.create=function(o){return sA(Gs(i,o))},t}const Ve=sA(au);Ve.Axios=qs;Ve.CanceledError=mo;Ve.CancelToken=FI;Ve.isCancel=QT;Ve.VERSION=iA;Ve.toFormData=jh;Ve.AxiosError=Ce;Ve.Cancel=Ve.CanceledError;Ve.all=function(e){return Promise.all(e)};Ve.spread=GI;Ve.isAxiosError=KI;Ve.mergeConfig=Gs;Ve.AxiosHeaders=gn;Ve.formToJSON=i=>XT(Q.isHTMLForm(i)?new FormData(i):i);Ve.getAdapter=nA.getAdapter;Ve.HttpStatusCode=Ym;Ve.default=Ve;const{Axios:_M,AxiosError:EM,CanceledError:TM,isCancel:AM,CancelToken:SM,VERSION:bM,all:wM,Cancel:RM,isAxiosError:CM,spread:IM,toFormData:OM,AxiosHeaders:xM,HttpStatusCode:DM,formToJSON:NM,getAdapter:VM,mergeConfig:MM}=Ve;function YI(){const i="c064b73182fe4b309592c4d6a2c10f26",e="https://pokemusic-66466.web.app/choose-username",t="https://accounts.spotify.com/authorize",s="token",[o,l]=j.useState(""),[h,m]=j.useState(null),[g,p]=j.useState(""),[v,T]=j.useState([]);j.useEffect(()=>{var B;const k=window.location.hash;let I=window.localStorage.getItem("spotify_token");if(!I&&k){const J=(B=k.substring(1).split("&").find(q=>q.startsWith("access_token")))==null?void 0:B.split("=")[1];window.location.hash="",J&&(window.localStorage.setItem("spotify_token",J),I=J)}l(I)},[]);const A=()=>{l(""),window.localStorage.removeItem("spotify_token")},O=async k=>{k.preventDefault();const{data:I}=await Ve.get("https://api.spotify.com/v1/search",{headers:{Authorization:`Bearer ${o}`},params:{q:g,type:"artist"}});T(I.artists.items)},R=()=>v.map(k=>N.jsxs("div",{children:[k.images.length?N.jsx("img",{width:"100%",src:k.images[0].url,alt:k.name}):N.jsx("div",{children:"No Image"}),N.jsx("p",{children:k.name})]},k.id));return N.jsx("div",{className:"App",children:N.jsxs("header",{className:"App-header",children:[N.jsx("h1",{children:"Spotify React Login"}),o?N.jsx("button",{onClick:A,children:"Cerrar sesión"}):N.jsx("a",{href:`${t}?client_id=${i}&redirect_uri=${e}&response_type=${s}&scope=user-read-email`,children:"Iniciar sesión con Spotify"}),o?N.jsxs("form",{onSubmit:O,children:[N.jsx("input",{type:"text",onChange:k=>p(k.target.value)}),N.jsx("button",{type:"submit",children:"Buscar artista"})]}):N.jsx("h2",{children:"Debes iniciar sesión con Spotify"}),R()]})})}const $I=()=>{};var SE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},XI=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=i[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=i[t++],h=i[t++],m=i[t++],g=((o&7)<<18|(l&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const l=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},oA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const l=i[o],h=o+1<i.length,m=h?i[o+1]:0,g=o+2<i.length,p=g?i[o+2]:0,v=l>>2,T=(l&3)<<4|m>>4;let A=(m&15)<<2|p>>6,O=p&63;g||(O=64,h||(A=64)),s.push(t[v],t[T],t[A],t[O])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(aA(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):XI(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const l=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const p=o<i.length?t[i.charAt(o)]:64;++o;const T=o<i.length?t[i.charAt(o)]:64;if(++o,l==null||m==null||p==null||T==null)throw new QI;const A=l<<2|m>>4;if(s.push(A),p!==64){const O=m<<4&240|p>>2;if(s.push(O),T!==64){const R=p<<6&192|T;s.push(R)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class QI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JI=function(i){const e=aA(i);return oA.encodeByteArray(e,!0)},fh=function(i){return JI(i).replace(/\./g,"")},lA=function(i){try{return oA.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=()=>WI().__FIREBASE_DEFAULTS__,e2=()=>{if(typeof process>"u"||typeof SE>"u")return;const i=SE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},t2=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&lA(i[1]);return e&&JSON.parse(e)},Hh=()=>{try{return $I()||ZI()||e2()||t2()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},uA=i=>{var e,t;return(t=(e=Hh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},n2=i=>{const e=uA(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},cA=()=>{var i;return(i=Hh())===null||i===void 0?void 0:i.config},hA=i=>{var e;return(e=Hh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(i){return i.endsWith(".cloudworkstations.dev")}async function fA(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},i);return[fh(JSON.stringify(t)),fh(JSON.stringify(h)),""].join(".")}const jl={};function s2(){const i={prod:[],emulator:[]};for(const e of Object.keys(jl))jl[e]?i.emulator.push(e):i.prod.push(e);return i}function a2(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let bE=!1;function qh(i,e){if(typeof window>"u"||typeof document>"u"||!ou(window.location.host)||jl[i]===e||jl[i]||bE)return;jl[i]=e;function t(A){return`__firebase__banner__${A}`}const s="__firebase__banner",l=s2().prod.length>0;function h(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,O){A.setAttribute("width","24"),A.setAttribute("id",O),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function p(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{bE=!0,h()},A}function v(A,O){A.setAttribute("id",O),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=a2(s),O=t("text"),R=document.getElementById(O)||document.createElement("span"),k=t("learnmore"),I=document.getElementById(k)||document.createElement("a"),B=t("preprendIcon"),J=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const q=A.element;m(q),v(I,k);const re=p();g(J,B),q.append(J,R,I,re),document.body.appendChild(q)}l?(R.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function o2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function l2(){var i;const e=(i=Hh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function u2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function c2(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function h2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function f2(){const i=rn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function d2(){return!l2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function m2(){try{return typeof indexedDB=="object"}catch{return!1}}function p2(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2="FirebaseError";class lr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=g2,Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lu.prototype.create)}}class lu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?y2(l,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new lr(o,m,s)}}function y2(i,e){return i.replace(v2,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const v2=/\{\$([^}]+)}/g;function _2(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Ks(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=i[o],h=e[o];if(wE(l)&&wE(h)){if(!Ks(l,h))return!1}else if(l!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function wE(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function E2(i,e){const t=new T2(i,e);return t.subscribe.bind(t)}class T2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");A2(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Sm),o.error===void 0&&(o.error=Sm),o.complete===void 0&&(o.complete=Sm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function A2(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Sm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(i){return i&&i._delegate?i._delegate:i}class Ys{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new i2;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(w2(e))try{this.getOrInitializeService({instanceIdentifier:js})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=js){return this.instances.has(e)}getOptions(e=js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);s===m&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:b2(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=js){return this.component?this.component.multipleInstances?e:js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function b2(i){return i===js?void 0:i}function w2(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new S2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ke||(ke={}));const C2={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},I2=ke.INFO,O2={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},x2=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=O2[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kp{constructor(e){this.name=e,this._logLevel=I2,this._logHandler=x2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?C2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const D2=(i,e)=>e.some(t=>i instanceof t);let RE,CE;function N2(){return RE||(RE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function V2(){return CE||(CE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dA=new WeakMap,$m=new WeakMap,mA=new WeakMap,bm=new WeakMap,Lp=new WeakMap;function M2(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",l),i.removeEventListener("error",h)},l=()=>{t(qr(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",l),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&dA.set(t,i)}).catch(()=>{}),Lp.set(e,i),e}function P2(i){if($m.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",h),i.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",l),i.addEventListener("error",h),i.addEventListener("abort",h)});$m.set(i,e)}let Xm={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return $m.get(i);if(e==="objectStoreNames")return i.objectStoreNames||mA.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return qr(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function k2(i){Xm=i(Xm)}function L2(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(wm(this),e,...t);return mA.set(s,e.sort?e.sort():[e]),qr(s)}:V2().includes(i)?function(...e){return i.apply(wm(this),e),qr(dA.get(this))}:function(...e){return qr(i.apply(wm(this),e))}}function U2(i){return typeof i=="function"?L2(i):(i instanceof IDBTransaction&&P2(i),D2(i,N2())?new Proxy(i,Xm):i)}function qr(i){if(i instanceof IDBRequest)return M2(i);if(bm.has(i))return bm.get(i);const e=U2(i);return e!==i&&(bm.set(i,e),Lp.set(e,i)),e}const wm=i=>Lp.get(i);function j2(i,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const h=indexedDB.open(i,e),m=qr(h);return s&&h.addEventListener("upgradeneeded",g=>{s(qr(h.result),g.oldVersion,g.newVersion,qr(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),m.then(g=>{l&&g.addEventListener("close",()=>l()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const z2=["get","getKey","getAll","getAllKeys","count"],B2=["put","add","delete","clear"],Rm=new Map;function IE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Rm.get(e))return Rm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=B2.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||z2.includes(t)))return;const l=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let p=g.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[t](...m),o&&g.done]))[0]};return Rm.set(e,l),l}k2(i=>({...i,get:(e,t,s)=>IE(e,t)||i.get(e,t,s),has:(e,t)=>!!IE(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(q2(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function q2(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qm="@firebase/app",OE="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr=new kp("@firebase/app"),F2="@firebase/app-compat",G2="@firebase/analytics-compat",K2="@firebase/analytics",Y2="@firebase/app-check-compat",$2="@firebase/app-check",X2="@firebase/auth",Q2="@firebase/auth-compat",J2="@firebase/database",W2="@firebase/data-connect",Z2="@firebase/database-compat",eO="@firebase/functions",tO="@firebase/functions-compat",nO="@firebase/installations",iO="@firebase/installations-compat",rO="@firebase/messaging",sO="@firebase/messaging-compat",aO="@firebase/performance",oO="@firebase/performance-compat",lO="@firebase/remote-config",uO="@firebase/remote-config-compat",cO="@firebase/storage",hO="@firebase/storage-compat",fO="@firebase/firestore",dO="@firebase/vertexai",mO="@firebase/firestore-compat",pO="firebase",gO="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm="[DEFAULT]",yO={[Qm]:"fire-core",[F2]:"fire-core-compat",[K2]:"fire-analytics",[G2]:"fire-analytics-compat",[$2]:"fire-app-check",[Y2]:"fire-app-check-compat",[X2]:"fire-auth",[Q2]:"fire-auth-compat",[J2]:"fire-rtdb",[W2]:"fire-data-connect",[Z2]:"fire-rtdb-compat",[eO]:"fire-fn",[tO]:"fire-fn-compat",[nO]:"fire-iid",[iO]:"fire-iid-compat",[rO]:"fire-fcm",[sO]:"fire-fcm-compat",[aO]:"fire-perf",[oO]:"fire-perf-compat",[lO]:"fire-rc",[uO]:"fire-rc-compat",[cO]:"fire-gcs",[hO]:"fire-gcs-compat",[fO]:"fire-fst",[mO]:"fire-fst-compat",[dO]:"fire-vertex","fire-js":"fire-js",[pO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new Map,vO=new Map,Wm=new Map;function xE(i,e){try{i.container.addComponent(e)}catch(t){rr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function to(i){const e=i.name;if(Wm.has(e))return rr.debug(`There were multiple attempts to register component ${e}.`),!1;Wm.set(e,i);for(const t of dh.values())xE(t,i);for(const t of vO.values())xE(t,i);return!0}function Up(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function $n(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fr=new lu("app","Firebase",_O);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=gO;function pA(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Jm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Fr.create("bad-app-name",{appName:String(o)});if(t||(t=cA()),!t)throw Fr.create("no-options");const l=dh.get(o);if(l){if(Ks(t,l.options)&&Ks(s,l.config))return l;throw Fr.create("duplicate-app",{appName:o})}const h=new R2(o);for(const g of Wm.values())h.addComponent(g);const m=new EO(t,s,h);return dh.set(o,m),m}function gA(i=Jm){const e=dh.get(i);if(!e&&i===Jm&&cA())return pA();if(!e)throw Fr.create("no-app",{appName:i});return e}function Gr(i,e,t){var s;let o=(s=yO[i])!==null&&s!==void 0?s:i;t&&(o+=`-${t}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const m=[`Unable to register library "${o}" with version "${e}":`];l&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rr.warn(m.join(" "));return}to(new Ys(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO="firebase-heartbeat-database",AO=1,Yl="firebase-heartbeat-store";let Cm=null;function yA(){return Cm||(Cm=j2(TO,AO,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Yl)}catch(t){console.warn(t)}}}}).catch(i=>{throw Fr.create("idb-open",{originalErrorMessage:i.message})})),Cm}async function SO(i){try{const t=(await yA()).transaction(Yl),s=await t.objectStore(Yl).get(vA(i));return await t.done,s}catch(e){if(e instanceof lr)rr.warn(e.message);else{const t=Fr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rr.warn(t.message)}}}async function DE(i,e){try{const s=(await yA()).transaction(Yl,"readwrite");await s.objectStore(Yl).put(e,vA(i)),await s.done}catch(t){if(t instanceof lr)rr.warn(t.message);else{const s=Fr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});rr.warn(s.message)}}}function vA(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=1024,wO=30;class RO{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new IO(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=NE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>wO){const h=OO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){rr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=NE(),{heartbeatsToSend:s,unsentEntries:o}=CO(this._heartbeatsCache.heartbeats),l=fh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return rr.warn(t),""}}}function NE(){return new Date().toISOString().substring(0,10)}function CO(i,e=bO){const t=[];let s=i.slice();for(const o of i){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),VE(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),VE(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class IO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return m2()?p2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await SO(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return DE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return DE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function VE(i){return fh(JSON.stringify({version:2,heartbeats:i})).length}function OO(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(i){to(new Ys("platform-logger",e=>new H2(e),"PRIVATE")),to(new Ys("heartbeat",e=>new RO(e),"PRIVATE")),Gr(Qm,OE,i),Gr(Qm,OE,"esm2017"),Gr("fire-js","")}xO("");var DO="firebase",NO="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gr(DO,NO,"app");function jp(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t}function _A(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VO=_A,EA=new lu("auth","Firebase",_A());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh=new kp("@firebase/auth");function MO(i,...e){mh.logLevel<=ke.WARN&&mh.warn(`Auth (${po}): ${i}`,...e)}function eh(i,...e){mh.logLevel<=ke.ERROR&&mh.error(`Auth (${po}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(i,...e){throw Bp(i,...e)}function Qn(i,...e){return Bp(i,...e)}function zp(i,e,t){const s=Object.assign(Object.assign({},VO()),{[e]:t});return new lu("auth","Firebase",s).create(e,{appName:i.name})}function Fs(i){return zp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function PO(i,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&Si(i,"argument-error"),zp(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Bp(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return EA.create(i,...e)}function Se(i,e,...t){if(!i)throw Bp(e,...t)}function er(i){const e="INTERNAL ASSERTION FAILED: "+i;throw eh(e),new Error(e)}function sr(i,e){i||er(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function kO(){return ME()==="http:"||ME()==="https:"}function ME(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kO()||c2()||"connection"in navigator)?navigator.onLine:!0}function UO(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,t){this.shortDelay=e,this.longDelay=t,sr(t>e,"Short delay should be less than long delay!"),this.isMobile=o2()||h2()}get(){return LO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(i,e){sr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],BO=new cu(3e4,6e4);function qp(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function go(i,e,t,s,o={}){return AA(i,o,async()=>{let l={},h={};s&&(e==="GET"?h=s:l={body:JSON.stringify(s)});const m=uu(Object.assign({key:i.config.apiKey},h)).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const p=Object.assign({method:e,headers:g},l);return u2()||(p.referrerPolicy="no-referrer"),i.emulatorConfig&&ou(i.emulatorConfig.host)&&(p.credentials="include"),TA.fetch()(await SA(i,i.config.apiHost,t,m),p)})}async function AA(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},jO),e);try{const o=new qO(i),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw qc(i,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const m=l.ok?h.errorMessage:h.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw qc(i,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw qc(i,"email-already-in-use",h);if(g==="USER_DISABLED")throw qc(i,"user-disabled",h);const v=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw zp(i,v,p);Si(i,v)}}catch(o){if(o instanceof lr)throw o;Si(i,"network-request-failed",{message:String(o)})}}async function HO(i,e,t,s,o={}){const l=await go(i,e,t,s,o);return"mfaPendingCredential"in l&&Si(i,"multi-factor-auth-required",{_serverResponse:l}),l}async function SA(i,e,t,s){const o=`${e}${t}?${s}`,l=i,h=l.config.emulator?Hp(i.config,o):`${i.config.apiScheme}://${o}`;return zO.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(h).toString():h}class qO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Qn(this.auth,"network-request-failed")),BO.get())})}}function qc(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Qn(i,e,s);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FO(i,e){return go(i,"POST","/v1/accounts:delete",e)}async function ph(i,e){return go(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function GO(i,e=!1){const t=un(i),s=await t.getIdToken(e),o=Fp(s);Se(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:o,token:s,authTime:zl(Im(o.auth_time)),issuedAtTime:zl(Im(o.iat)),expirationTime:zl(Im(o.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Im(i){return Number(i)*1e3}function Fp(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return eh("JWT malformed, contained fewer than 3 sections"),null;try{const o=lA(t);return o?JSON.parse(o):(eh("Failed to decode base64 JWT payload"),null)}catch(o){return eh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function PE(i){const e=Fp(i);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $l(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof lr&&KO(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function KO({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=zl(this.lastLoginAt),this.creationTime=zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gh(i){var e;const t=i.auth,s=await i.getIdToken(),o=await $l(i,ph(t,{idToken:s}));Se(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];i._notifyReloadListener(l);const h=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?bA(l.providerUserInfo):[],m=XO(i.providerData,h),g=i.isAnonymous,p=!(i.email&&l.passwordHash)&&!(m!=null&&m.length),v=g?p:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:m,metadata:new ep(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(i,T)}async function $O(i){const e=un(i);await gh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function XO(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function bA(i){return i.map(e=>{var{providerId:t}=e,s=jp(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QO(i,e){const t=await AA(i,{},async()=>{const s=uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=i.config,h=await SA(i,o,"/v1/token",`key=${l}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",TA.fetch()(h,{method:"POST",headers:m,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function JO(i,e){return go(i,"POST","/v2/accounts:revokeToken",qp(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):PE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=PE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await QO(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,h=new Ja;return s&&(Se(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Se(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(Se(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ja,this.toJSON())}_performRefresh(){return er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(i,e){Se(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Xn{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,l=jp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new YO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new ep(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await $l(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return GO(this,e)}reload(){return $O(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Xn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await gh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(Fs(this.auth));const e=await this.getIdToken();return await $l(this,FO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,l,h,m,g,p,v;const T=(s=t.displayName)!==null&&s!==void 0?s:void 0,A=(o=t.email)!==null&&o!==void 0?o:void 0,O=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,R=(h=t.photoURL)!==null&&h!==void 0?h:void 0,k=(m=t.tenantId)!==null&&m!==void 0?m:void 0,I=(g=t._redirectEventId)!==null&&g!==void 0?g:void 0,B=(p=t.createdAt)!==null&&p!==void 0?p:void 0,J=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:q,emailVerified:re,isAnonymous:ee,providerData:ae,stsTokenManager:x}=t;Se(q&&x,e,"internal-error");const w=Ja.fromJSON(this.name,x);Se(typeof q=="string",e,"internal-error"),Ur(T,e.name),Ur(A,e.name),Se(typeof re=="boolean",e,"internal-error"),Se(typeof ee=="boolean",e,"internal-error"),Ur(O,e.name),Ur(R,e.name),Ur(k,e.name),Ur(I,e.name),Ur(B,e.name),Ur(J,e.name);const C=new Xn({uid:q,auth:e,email:A,emailVerified:re,displayName:T,isAnonymous:ee,photoURL:R,phoneNumber:O,tenantId:k,stsTokenManager:w,createdAt:B,lastLoginAt:J});return ae&&Array.isArray(ae)&&(C.providerData=ae.map(M=>Object.assign({},M))),I&&(C._redirectEventId=I),C}static async _fromIdTokenResponse(e,t,s=!1){const o=new Ja;o.updateFromServerResponse(t);const l=new Xn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await gh(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Se(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?bA(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),m=new Ja;m.updateFromIdToken(s);const g=new Xn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new ep(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(g,p),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=new Map;function tr(i){sr(i instanceof Function,"Expected a class definition");let e=kE.get(i);return e?(sr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,kE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}wA.type="NONE";const LE=wA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(i,e,t){return`firebase:${i}:${e}:${t}`}class Wa{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=th(this.userKey,o.apiKey,l),this.fullPersistenceKey=th("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await ph(this.auth,{idToken:e}).catch(()=>{});return t?Xn._fromGetAccountInfoResponse(this.auth,t,e):null}return Xn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Wa(tr(LE),e,s);const o=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=o[0]||tr(LE);const h=th(s,e.config.apiKey,e.name);let m=null;for(const p of t)try{const v=await p._get(h);if(v){let T;if(typeof v=="string"){const A=await ph(e,{idToken:v}).catch(()=>{});if(!A)break;T=await Xn._fromGetAccountInfoResponse(e,A,v)}else T=Xn._fromJSON(e,v);p!==l&&(m=T),l=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!g.length?new Wa(l,e,s):(l=g[0],m&&await l._set(h,m.toJSON()),await Promise.all(t.map(async p=>{if(p!==l)try{await p._remove(h)}catch{}})),new Wa(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(OA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(RA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(DA(e))return"Blackberry";if(NA(e))return"Webos";if(CA(e))return"Safari";if((e.includes("chrome/")||IA(e))&&!e.includes("edge/"))return"Chrome";if(xA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function RA(i=rn()){return/firefox\//i.test(i)}function CA(i=rn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IA(i=rn()){return/crios\//i.test(i)}function OA(i=rn()){return/iemobile/i.test(i)}function xA(i=rn()){return/android/i.test(i)}function DA(i=rn()){return/blackberry/i.test(i)}function NA(i=rn()){return/webos/i.test(i)}function Gp(i=rn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function WO(i=rn()){var e;return Gp(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ZO(){return f2()&&document.documentMode===10}function VA(i=rn()){return Gp(i)||xA(i)||NA(i)||DA(i)||/windows phone/i.test(i)||OA(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(i,e=[]){let t;switch(i){case"Browser":t=UE(rn());break;case"Worker":t=`${UE(rn())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${po}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((h,m)=>{try{const g=e(l);h(g)}catch(g){m(g)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tx(i,e={}){return go(i,"GET","/v2/passwordPolicy",qp(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=6;class ix{constructor(e){var t,s,o,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:nx,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,l,h,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(t=g.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(l=g.containsUppercaseLetter)!==null&&l!==void 0?l:!0),g.isValid&&(g.isValid=(h=g.containsNumericCharacter)!==null&&h!==void 0?h:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jE(this),this.idTokenSubscription=new jE(this),this.beforeStateQueue=new ex(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=EA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=tr(t)),this._initializationPromise=this.queue(async()=>{var s,o,l;if(!this._deleted&&(this.persistenceManager=await Wa.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ph(this,{idToken:e}),s=await Xn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if($n(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!h||h===m)&&(g!=null&&g.user)&&(o=g.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await gh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=UO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($n(this.app))return Promise.reject(Fs(this));const t=e?un(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(Fs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $n(this.app)?Promise.reject(Fs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(tr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tx(this),t=new ix(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new lu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await JO(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&tr(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await Wa.create(this,[tr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(m,this,"internal-error"),m.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(t);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&MO(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Fh(i){return un(i)}class jE{constructor(e){this.auth=e,this.observer=null,this.addObserver=E2(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sx(i){Kp=i}function ax(i){return Kp.loadJS(i)}function ox(){return Kp.gapiScript}function lx(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(i,e){const t=Up(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Ks(l,e??{}))return o;Si(o,"already-initialized")}return t.initialize({options:e})}function cx(i,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(tr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function hx(i,e,t){const s=Fh(i);Se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=PA(e),{host:h,port:m}=fx(e),g=m===null?"":`:${m}`,p={url:`${l}//${h}${g}/`},v=Object.freeze({host:h,port:m,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Se(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Se(Ks(p,s.config.emulator)&&Ks(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,ou(h)?(qh("Auth",!0),fA(`${l}//${h}${g}`)):dx()}function PA(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function fx(i){const e=PA(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:zE(s.substr(l.length+1))}}else{const[l,h]=s.split(":");return{host:l,port:zE(h)}}}function zE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function dx(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return er("not implemented")}_getIdTokenResponse(e){return er("not implemented")}_linkToIdToken(e,t){return er("not implemented")}_getReauthenticationResolver(e){return er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Za(i,e){return HO(i,"POST","/v1/accounts:signInWithIdp",qp(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx="http://localhost";class $s extends kA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new $s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Si("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,l=jp(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new $s(s,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Za(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Za(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Za(e,t)}buildRequest(){const e={requestUri:mx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=uu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu extends Yp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends hu{constructor(){super("facebook.com")}static credential(e){return $s._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jr.credential(e.oauthAccessToken)}catch{return null}}}jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";jr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends hu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return $s._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Zi.credential(t,s)}catch{return null}}}Zi.GOOGLE_SIGN_IN_METHOD="google.com";Zi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends hu{constructor(){super("github.com")}static credential(e){return $s._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zr.credential(e.oauthAccessToken)}catch{return null}}}zr.GITHUB_SIGN_IN_METHOD="github.com";zr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends hu{constructor(){super("twitter.com")}static credential(e,t){return $s._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Br.credential(t,s)}catch{return null}}}Br.TWITTER_SIGN_IN_METHOD="twitter.com";Br.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await Xn._fromIdTokenResponse(e,s,o),h=BE(s);return new no({user:l,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=BE(s);return new no({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function BE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh extends lr{constructor(e,t,s,o){var l;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,yh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new yh(e,t,s,o)}}function LA(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?yh._fromErrorAndOperation(i,l,e,s):l})}async function px(i,e,t=!1){const s=await $l(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return no._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gx(i,e,t=!1){const{auth:s}=i;if($n(s.app))return Promise.reject(Fs(s));const o="reauthenticate";try{const l=await $l(i,LA(s,o,e,i),t);Se(l.idToken,s,"internal-error");const h=Fp(l.idToken);Se(h,s,"internal-error");const{sub:m}=h;return Se(i.uid===m,s,"user-mismatch"),no._forOperation(i,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Si(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yx(i,e,t=!1){if($n(i.app))return Promise.reject(Fs(i));const s="signIn",o=await LA(i,s,e),l=await no._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(l.user),l}function vx(i,e,t,s){return un(i).onIdTokenChanged(e,t,s)}function _x(i,e,t){return un(i).beforeAuthStateChanged(e,t)}function Gh(i,e,t,s){return un(i).onAuthStateChanged(e,t,s)}function Ex(i){return un(i).signOut()}const vh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(vh,"1"),this.storage.removeItem(vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx=1e3,Ax=10;class jA extends UA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},l=this.storage.getItem(s);ZO()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Ax):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},Tx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}jA.type="LOCAL";const Sx=jA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA extends UA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}zA.type="SESSION";const BA=zA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Kh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async p=>p(t.origin,l)),g=await bx(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((m,g)=>{const p=$p("",20);o.port1.start();const v=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const A=T;if(A.data.eventId===p)switch(A.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(A.data.response);break;default:clearTimeout(v),clearTimeout(l),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(){return window}function Rx(i){vi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(){return typeof vi().WorkerGlobalScope<"u"&&typeof vi().importScripts=="function"}async function Cx(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ix(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function Ox(){return HA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA="firebaseLocalStorageDb",xx=1,_h="firebaseLocalStorage",FA="fbase_key";class fu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Yh(i,e){return i.transaction([_h],e?"readwrite":"readonly").objectStore(_h)}function Dx(){const i=indexedDB.deleteDatabase(qA);return new fu(i).toPromise()}function tp(){const i=indexedDB.open(qA,xx);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(_h,{keyPath:FA})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(_h)?e(s):(s.close(),await Dx(),e(await tp()))})})}async function HE(i,e,t){const s=Yh(i,!0).put({[FA]:e,value:t});return new fu(s).toPromise()}async function Nx(i,e){const t=Yh(i,!1).get(e),s=await new fu(t).toPromise();return s===void 0?null:s.value}function qE(i,e){const t=Yh(i,!0).delete(e);return new fu(t).toPromise()}const Vx=800,Mx=3;class GA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>Mx)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return HA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kh._getInstance(Ox()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Cx(),!this.activeServiceWorker)return;this.sender=new wx(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Ix()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tp();return await HE(e,vh,"1"),await qE(e,vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>HE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>Nx(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>qE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Yh(o,!1).getAll();return new fu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Vx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GA.type="LOCAL";const Px=GA;new cu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(i,e){return e?tr(e):(Se(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp extends kA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Za(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Za(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Za(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function kx(i){return yx(i.auth,new Xp(i),i.bypassAuthState)}function Lx(i){const{auth:e,user:t}=i;return Se(t,e,"internal-error"),gx(t,new Xp(i),i.bypassAuthState)}async function Ux(i){const{auth:e,user:t}=i;return Se(t,e,"internal-error"),px(t,new Xp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kx;case"linkViaPopup":case"linkViaRedirect":return Ux;case"reauthViaPopup":case"reauthViaRedirect":return Lx;default:Si(this.auth,"internal-error")}}resolve(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=new cu(2e3,1e4);async function zx(i,e,t){if($n(i.app))return Promise.reject(Qn(i,"operation-not-supported-in-this-environment"));const s=Fh(i);PO(i,e,Yp);const o=KA(s,t);return new Bs(s,"signInViaPopup",e,o).executeNotNull()}class Bs extends YA{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,Bs.currentPopupAction&&Bs.currentPopupAction.cancel(),Bs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){sr(this.filter.length===1,"Popup operations only handle one event");const e=$p();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jx.get())};e()}}Bs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx="pendingRedirect",nh=new Map;class Hx extends YA{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=nh.get(this.auth._key());if(!e){try{const s=await qx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}nh.set(this.auth._key(),e)}return this.bypassAuthState||nh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qx(i,e){const t=Kx(e),s=Gx(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function Fx(i,e){nh.set(i._key(),e)}function Gx(i){return tr(i._redirectPersistence)}function Kx(i){return th(Bx,i.config.apiKey,i.name)}async function Yx(i,e,t=!1){if($n(i.app))return Promise.reject(Fs(i));const s=Fh(i),o=KA(s,e),h=await new Hx(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x=10*60*1e3;class Xx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Qx(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!$A(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Qn(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$x&&this.cachedEventUids.clear(),this.cachedEventUids.has(FE(e))}saveEventToCache(e){this.cachedEventUids.add(FE(e)),this.lastProcessedEventTime=Date.now()}}function FE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function $A({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Qx(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $A(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jx(i,e={}){return go(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zx=/^https?/;async function eD(i){if(i.config.emulator)return;const{authorizedDomains:e}=await Jx(i);for(const t of e)try{if(tD(t))return}catch{}Si(i,"unauthorized-domain")}function tD(i){const e=Zm(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!Zx.test(t))return!1;if(Wx.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=new cu(3e4,6e4);function GE(){const i=vi().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function iD(i){return new Promise((e,t)=>{var s,o,l;function h(){GE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{GE(),t(Qn(i,"network-request-failed"))},timeout:nD.get()})}if(!((o=(s=vi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=vi().gapi)===null||l===void 0)&&l.load)h();else{const m=lx("iframefcb");return vi()[m]=()=>{gapi.load?h():t(Qn(i,"network-request-failed"))},ax(`${ox()}?onload=${m}`).catch(g=>t(g))}}).catch(e=>{throw ih=null,e})}let ih=null;function rD(i){return ih=ih||iD(i),ih}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=new cu(5e3,15e3),aD="__/auth/iframe",oD="emulator/auth/iframe",lD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cD(i){const e=i.config;Se(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Hp(e,oD):`https://${i.config.authDomain}/${aD}`,s={apiKey:e.apiKey,appName:i.name,v:po},o=uD.get(i.config.apiHost);o&&(s.eid=o);const l=i._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${uu(s).slice(1)}`}async function hD(i){const e=await rD(i),t=vi().gapi;return Se(t,i,"internal-error"),e.open({where:document.body,url:cD(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lD,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const h=Qn(i,"network-request-failed"),m=vi().setTimeout(()=>{l(h)},sD.get());function g(){vi().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dD=500,mD=600,pD="_blank",gD="http://localhost";class KE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yD(i,e,t,s=dD,o=mD){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g=Object.assign(Object.assign({},fD),{width:s.toString(),height:o.toString(),top:l,left:h}),p=rn().toLowerCase();t&&(m=IA(p)?pD:t),RA(p)&&(e=e||gD,g.scrollbars="yes");const v=Object.entries(g).reduce((A,[O,R])=>`${A}${O}=${R},`,"");if(WO(p)&&m!=="_self")return vD(e||"",m),new KE(null);const T=window.open(e||"",m,v);Se(T,i,"popup-blocked");try{T.focus()}catch{}return new KE(T)}function vD(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D="__/auth/handler",ED="emulator/auth/handler",TD=encodeURIComponent("fac");async function YE(i,e,t,s,o,l){Se(i.config.authDomain,i,"auth-domain-config-required"),Se(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:po,eventId:o};if(e instanceof Yp){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",_2(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))h[v]=T}if(e instanceof hu){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(h.scopes=v.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const g=await i._getAppCheckToken(),p=g?`#${TD}=${encodeURIComponent(g)}`:"";return`${AD(i)}?${uu(m).slice(1)}${p}`}function AD({config:i}){return i.emulator?Hp(i,ED):`https://${i.authDomain}/${_D}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="webStorageSupport";class SD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BA,this._completeRedirectFn=Yx,this._overrideRedirectResult=Fx}async _openPopup(e,t,s,o){var l;sr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await YE(e,t,s,Zm(),o);return yD(e,h,$p())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await YE(e,t,s,Zm(),o);return Rx(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(sr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await hD(e),s=new Xx(e);return t.register("authEvent",o=>(Se(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Om,{type:Om},o=>{var l;const h=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Om];h!==void 0&&t(!!h),Si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=eD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return VA()||CA()||Gp()}}const bD=SD;var $E="@firebase/auth",XE="1.10.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CD(i){to(new Ys("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Se(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MA(i)},p=new rx(s,o,l,g);return cx(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),to(new Ys("auth-internal",e=>{const t=Fh(e.getProvider("auth").getImmediate());return(s=>new wD(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gr($E,XE,RD(i)),Gr($E,XE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=5*60,OD=hA("authIdTokenMaxAge")||ID;let QE=null;const xD=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>OD)return;const o=t==null?void 0:t.token;QE!==o&&(QE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function XA(i=gA()){const e=Up(i,"auth");if(e.isInitialized())return e.getImmediate();const t=ux(i,{popupRedirectResolver:bD,persistence:[Px,Sx,BA]}),s=hA("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const h=xD(l.toString());_x(t,h,()=>h(t.currentUser)),vx(t,m=>h(m))}}const o=uA("auth");return o?hx(t,`http://${o}`):qh("Auth",!1),t}function DD(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}sx({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const l=Qn("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",DD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CD("Browser");var JE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Kr,QA;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,w){function C(){}C.prototype=w.prototype,x.D=w.prototype,x.prototype=new C,x.prototype.constructor=x,x.C=function(M,U,z){for(var V=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)V[ot-2]=arguments[ot];return w.prototype[U].apply(M,V)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,w,C){C||(C=0);var M=Array(16);if(typeof w=="string")for(var U=0;16>U;++U)M[U]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(U=0;16>U;++U)M[U]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=x.g[0],C=x.g[1],U=x.g[2];var z=x.g[3],V=w+(z^C&(U^z))+M[0]+3614090360&4294967295;w=C+(V<<7&4294967295|V>>>25),V=z+(U^w&(C^U))+M[1]+3905402710&4294967295,z=w+(V<<12&4294967295|V>>>20),V=U+(C^z&(w^C))+M[2]+606105819&4294967295,U=z+(V<<17&4294967295|V>>>15),V=C+(w^U&(z^w))+M[3]+3250441966&4294967295,C=U+(V<<22&4294967295|V>>>10),V=w+(z^C&(U^z))+M[4]+4118548399&4294967295,w=C+(V<<7&4294967295|V>>>25),V=z+(U^w&(C^U))+M[5]+1200080426&4294967295,z=w+(V<<12&4294967295|V>>>20),V=U+(C^z&(w^C))+M[6]+2821735955&4294967295,U=z+(V<<17&4294967295|V>>>15),V=C+(w^U&(z^w))+M[7]+4249261313&4294967295,C=U+(V<<22&4294967295|V>>>10),V=w+(z^C&(U^z))+M[8]+1770035416&4294967295,w=C+(V<<7&4294967295|V>>>25),V=z+(U^w&(C^U))+M[9]+2336552879&4294967295,z=w+(V<<12&4294967295|V>>>20),V=U+(C^z&(w^C))+M[10]+4294925233&4294967295,U=z+(V<<17&4294967295|V>>>15),V=C+(w^U&(z^w))+M[11]+2304563134&4294967295,C=U+(V<<22&4294967295|V>>>10),V=w+(z^C&(U^z))+M[12]+1804603682&4294967295,w=C+(V<<7&4294967295|V>>>25),V=z+(U^w&(C^U))+M[13]+4254626195&4294967295,z=w+(V<<12&4294967295|V>>>20),V=U+(C^z&(w^C))+M[14]+2792965006&4294967295,U=z+(V<<17&4294967295|V>>>15),V=C+(w^U&(z^w))+M[15]+1236535329&4294967295,C=U+(V<<22&4294967295|V>>>10),V=w+(U^z&(C^U))+M[1]+4129170786&4294967295,w=C+(V<<5&4294967295|V>>>27),V=z+(C^U&(w^C))+M[6]+3225465664&4294967295,z=w+(V<<9&4294967295|V>>>23),V=U+(w^C&(z^w))+M[11]+643717713&4294967295,U=z+(V<<14&4294967295|V>>>18),V=C+(z^w&(U^z))+M[0]+3921069994&4294967295,C=U+(V<<20&4294967295|V>>>12),V=w+(U^z&(C^U))+M[5]+3593408605&4294967295,w=C+(V<<5&4294967295|V>>>27),V=z+(C^U&(w^C))+M[10]+38016083&4294967295,z=w+(V<<9&4294967295|V>>>23),V=U+(w^C&(z^w))+M[15]+3634488961&4294967295,U=z+(V<<14&4294967295|V>>>18),V=C+(z^w&(U^z))+M[4]+3889429448&4294967295,C=U+(V<<20&4294967295|V>>>12),V=w+(U^z&(C^U))+M[9]+568446438&4294967295,w=C+(V<<5&4294967295|V>>>27),V=z+(C^U&(w^C))+M[14]+3275163606&4294967295,z=w+(V<<9&4294967295|V>>>23),V=U+(w^C&(z^w))+M[3]+4107603335&4294967295,U=z+(V<<14&4294967295|V>>>18),V=C+(z^w&(U^z))+M[8]+1163531501&4294967295,C=U+(V<<20&4294967295|V>>>12),V=w+(U^z&(C^U))+M[13]+2850285829&4294967295,w=C+(V<<5&4294967295|V>>>27),V=z+(C^U&(w^C))+M[2]+4243563512&4294967295,z=w+(V<<9&4294967295|V>>>23),V=U+(w^C&(z^w))+M[7]+1735328473&4294967295,U=z+(V<<14&4294967295|V>>>18),V=C+(z^w&(U^z))+M[12]+2368359562&4294967295,C=U+(V<<20&4294967295|V>>>12),V=w+(C^U^z)+M[5]+4294588738&4294967295,w=C+(V<<4&4294967295|V>>>28),V=z+(w^C^U)+M[8]+2272392833&4294967295,z=w+(V<<11&4294967295|V>>>21),V=U+(z^w^C)+M[11]+1839030562&4294967295,U=z+(V<<16&4294967295|V>>>16),V=C+(U^z^w)+M[14]+4259657740&4294967295,C=U+(V<<23&4294967295|V>>>9),V=w+(C^U^z)+M[1]+2763975236&4294967295,w=C+(V<<4&4294967295|V>>>28),V=z+(w^C^U)+M[4]+1272893353&4294967295,z=w+(V<<11&4294967295|V>>>21),V=U+(z^w^C)+M[7]+4139469664&4294967295,U=z+(V<<16&4294967295|V>>>16),V=C+(U^z^w)+M[10]+3200236656&4294967295,C=U+(V<<23&4294967295|V>>>9),V=w+(C^U^z)+M[13]+681279174&4294967295,w=C+(V<<4&4294967295|V>>>28),V=z+(w^C^U)+M[0]+3936430074&4294967295,z=w+(V<<11&4294967295|V>>>21),V=U+(z^w^C)+M[3]+3572445317&4294967295,U=z+(V<<16&4294967295|V>>>16),V=C+(U^z^w)+M[6]+76029189&4294967295,C=U+(V<<23&4294967295|V>>>9),V=w+(C^U^z)+M[9]+3654602809&4294967295,w=C+(V<<4&4294967295|V>>>28),V=z+(w^C^U)+M[12]+3873151461&4294967295,z=w+(V<<11&4294967295|V>>>21),V=U+(z^w^C)+M[15]+530742520&4294967295,U=z+(V<<16&4294967295|V>>>16),V=C+(U^z^w)+M[2]+3299628645&4294967295,C=U+(V<<23&4294967295|V>>>9),V=w+(U^(C|~z))+M[0]+4096336452&4294967295,w=C+(V<<6&4294967295|V>>>26),V=z+(C^(w|~U))+M[7]+1126891415&4294967295,z=w+(V<<10&4294967295|V>>>22),V=U+(w^(z|~C))+M[14]+2878612391&4294967295,U=z+(V<<15&4294967295|V>>>17),V=C+(z^(U|~w))+M[5]+4237533241&4294967295,C=U+(V<<21&4294967295|V>>>11),V=w+(U^(C|~z))+M[12]+1700485571&4294967295,w=C+(V<<6&4294967295|V>>>26),V=z+(C^(w|~U))+M[3]+2399980690&4294967295,z=w+(V<<10&4294967295|V>>>22),V=U+(w^(z|~C))+M[10]+4293915773&4294967295,U=z+(V<<15&4294967295|V>>>17),V=C+(z^(U|~w))+M[1]+2240044497&4294967295,C=U+(V<<21&4294967295|V>>>11),V=w+(U^(C|~z))+M[8]+1873313359&4294967295,w=C+(V<<6&4294967295|V>>>26),V=z+(C^(w|~U))+M[15]+4264355552&4294967295,z=w+(V<<10&4294967295|V>>>22),V=U+(w^(z|~C))+M[6]+2734768916&4294967295,U=z+(V<<15&4294967295|V>>>17),V=C+(z^(U|~w))+M[13]+1309151649&4294967295,C=U+(V<<21&4294967295|V>>>11),V=w+(U^(C|~z))+M[4]+4149444226&4294967295,w=C+(V<<6&4294967295|V>>>26),V=z+(C^(w|~U))+M[11]+3174756917&4294967295,z=w+(V<<10&4294967295|V>>>22),V=U+(w^(z|~C))+M[2]+718787259&4294967295,U=z+(V<<15&4294967295|V>>>17),V=C+(z^(U|~w))+M[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(U+(V<<21&4294967295|V>>>11))&4294967295,x.g[2]=x.g[2]+U&4294967295,x.g[3]=x.g[3]+z&4294967295}s.prototype.u=function(x,w){w===void 0&&(w=x.length);for(var C=w-this.blockSize,M=this.B,U=this.h,z=0;z<w;){if(U==0)for(;z<=C;)o(this,x,z),z+=this.blockSize;if(typeof x=="string"){for(;z<w;)if(M[U++]=x.charCodeAt(z++),U==this.blockSize){o(this,M),U=0;break}}else for(;z<w;)if(M[U++]=x[z++],U==this.blockSize){o(this,M),U=0;break}}this.h=U,this.o+=w},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;var C=8*this.o;for(w=x.length-8;w<x.length;++w)x[w]=C&255,C/=256;for(this.u(x),x=Array(16),w=C=0;4>w;++w)for(var M=0;32>M;M+=8)x[C++]=this.g[w]>>>M&255;return x};function l(x,w){var C=m;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=w(x)}function h(x,w){this.h=w;for(var C=[],M=!0,U=x.length-1;0<=U;U--){var z=x[U]|0;M&&z==w||(C[U]=z,M=!1)}this.g=C}var m={};function g(x){return-128<=x&&128>x?l(x,function(w){return new h([w|0],0>w?-1:0)}):new h([x|0],0>x?-1:0)}function p(x){if(isNaN(x)||!isFinite(x))return T;if(0>x)return I(p(-x));for(var w=[],C=1,M=0;x>=C;M++)w[M]=x/C|0,C*=4294967296;return new h(w,0)}function v(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return I(v(x.substring(1),w));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=p(Math.pow(w,8)),M=T,U=0;U<x.length;U+=8){var z=Math.min(8,x.length-U),V=parseInt(x.substring(U,U+z),w);8>z?(z=p(Math.pow(w,z)),M=M.j(z).add(p(V))):(M=M.j(C),M=M.add(p(V)))}return M}var T=g(0),A=g(1),O=g(16777216);i=h.prototype,i.m=function(){if(k(this))return-I(this).m();for(var x=0,w=1,C=0;C<this.g.length;C++){var M=this.i(C);x+=(0<=M?M:4294967296+M)*w,w*=4294967296}return x},i.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(R(this))return"0";if(k(this))return"-"+I(this).toString(x);for(var w=p(Math.pow(x,6)),C=this,M="";;){var U=re(C,w).g;C=B(C,U.j(w));var z=((0<C.g.length?C.g[0]:C.h)>>>0).toString(x);if(C=U,R(C))return z+M;for(;6>z.length;)z="0"+z;M=z+M}},i.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function R(x){if(x.h!=0)return!1;for(var w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function k(x){return x.h==-1}i.l=function(x){return x=B(this,x),k(x)?-1:R(x)?0:1};function I(x){for(var w=x.g.length,C=[],M=0;M<w;M++)C[M]=~x.g[M];return new h(C,~x.h).add(A)}i.abs=function(){return k(this)?I(this):this},i.add=function(x){for(var w=Math.max(this.g.length,x.g.length),C=[],M=0,U=0;U<=w;U++){var z=M+(this.i(U)&65535)+(x.i(U)&65535),V=(z>>>16)+(this.i(U)>>>16)+(x.i(U)>>>16);M=V>>>16,z&=65535,V&=65535,C[U]=V<<16|z}return new h(C,C[C.length-1]&-2147483648?-1:0)};function B(x,w){return x.add(I(w))}i.j=function(x){if(R(this)||R(x))return T;if(k(this))return k(x)?I(this).j(I(x)):I(I(this).j(x));if(k(x))return I(this.j(I(x)));if(0>this.l(O)&&0>x.l(O))return p(this.m()*x.m());for(var w=this.g.length+x.g.length,C=[],M=0;M<2*w;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(var U=0;U<x.g.length;U++){var z=this.i(M)>>>16,V=this.i(M)&65535,ot=x.i(U)>>>16,tt=x.i(U)&65535;C[2*M+2*U]+=V*tt,J(C,2*M+2*U),C[2*M+2*U+1]+=z*tt,J(C,2*M+2*U+1),C[2*M+2*U+1]+=V*ot,J(C,2*M+2*U+1),C[2*M+2*U+2]+=z*ot,J(C,2*M+2*U+2)}for(M=0;M<w;M++)C[M]=C[2*M+1]<<16|C[2*M];for(M=w;M<2*w;M++)C[M]=0;return new h(C,0)};function J(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function q(x,w){this.g=x,this.h=w}function re(x,w){if(R(w))throw Error("division by zero");if(R(x))return new q(T,T);if(k(x))return w=re(I(x),w),new q(I(w.g),I(w.h));if(k(w))return w=re(x,I(w)),new q(I(w.g),w.h);if(30<x.g.length){if(k(x)||k(w))throw Error("slowDivide_ only works with positive integers.");for(var C=A,M=w;0>=M.l(x);)C=ee(C),M=ee(M);var U=ae(C,1),z=ae(M,1);for(M=ae(M,2),C=ae(C,2);!R(M);){var V=z.add(M);0>=V.l(x)&&(U=U.add(C),z=V),M=ae(M,1),C=ae(C,1)}return w=B(x,U.j(w)),new q(U,w)}for(U=T;0<=x.l(w);){for(C=Math.max(1,Math.floor(x.m()/w.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),z=p(C),V=z.j(w);k(V)||0<V.l(x);)C-=M,z=p(C),V=z.j(w);R(z)&&(z=A),U=U.add(z),x=B(x,V)}return new q(U,x)}i.A=function(x){return re(this,x).h},i.and=function(x){for(var w=Math.max(this.g.length,x.g.length),C=[],M=0;M<w;M++)C[M]=this.i(M)&x.i(M);return new h(C,this.h&x.h)},i.or=function(x){for(var w=Math.max(this.g.length,x.g.length),C=[],M=0;M<w;M++)C[M]=this.i(M)|x.i(M);return new h(C,this.h|x.h)},i.xor=function(x){for(var w=Math.max(this.g.length,x.g.length),C=[],M=0;M<w;M++)C[M]=this.i(M)^x.i(M);return new h(C,this.h^x.h)};function ee(x){for(var w=x.g.length+1,C=[],M=0;M<w;M++)C[M]=x.i(M)<<1|x.i(M-1)>>>31;return new h(C,x.h)}function ae(x,w){var C=w>>5;w%=32;for(var M=x.g.length-C,U=[],z=0;z<M;z++)U[z]=0<w?x.i(z+C)>>>w|x.i(z+C+1)<<32-w:x.i(z+C);return new h(U,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,QA=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=p,h.fromString=v,Kr=h}).apply(typeof JE<"u"?JE:typeof self<"u"?self:typeof window<"u"?window:{});var Fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var JA,kl,WA,rh,np,ZA,eS,tS;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fc=="object"&&Fc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var F=c[b];if(!(F in _))break e;_=_[F]}c=c[c.length-1],b=_[c],y=y(b),y!=b&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function l(c,y){c instanceof String&&(c+="");var _=0,b=!1,F={next:function(){if(!b&&_<c.length){var X=_++;return{value:y(X,c[X]),done:!1}}return b=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(c){return c||function(){return l(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function g(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function T(c,y,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,b),c.apply(y,F)}}return function(){return c.apply(y,arguments)}}function A(c,y,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,A.apply(null,arguments)}function O(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function R(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,F,X){for(var ue=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)ue[Ue-2]=arguments[Ue];return y.prototype[F].apply(b,ue)}}function k(c){const y=c.length;if(0<y){const _=Array(y);for(let b=0;b<y;b++)_[b]=c[b];return _}return[]}function I(c,y){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(g(b)){const F=c.length||0,X=b.length||0;c.length=F+X;for(let ue=0;ue<X;ue++)c[F+ue]=b[ue]}else c.push(b)}}class B{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function J(c){return/^[\s\xa0]*$/.test(c)}function q(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function re(c){return re[" "](c),c}re[" "]=function(){};var ee=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function ae(c,y,_){for(const b in c)y.call(_,c[b],b,c)}function x(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function w(c){const y={};for(const _ in c)y[_]=c[_];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,y){let _,b;for(let F=1;F<arguments.length;F++){b=arguments[F];for(_ in b)c[_]=b[_];for(let X=0;X<C.length;X++)_=C[X],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function U(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function z(c){m.setTimeout(()=>{throw c},0)}function V(){var c=qe;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ot{constructor(){this.h=this.g=null}add(y,_){const b=tt.get();b.set(y,_),this.h?this.h.next=b:this.g=b,this.h=b}}var tt=new B(()=>new W,c=>c.reset());class W{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,pe=!1,qe=new ot,P=()=>{const c=m.Promise.resolve(void 0);ce=()=>{c.then(se)}};var se=()=>{for(var c;c=V();){try{c.h.call(c.g)}catch(_){z(_)}var y=tt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}pe=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function De(c,y){if(le.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ee){e:{try{re(y.nodeName);var F=!0;break e}catch{}F=!1}F||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:be[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&De.aa.h.call(this)}}R(De,le);var be={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Vt="closure_listenable_"+(1e6*Math.random()|0),it=0;function Zn(c,y,_,b,F){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!b,this.ha=F,this.key=++it,this.da=this.fa=!1}function ur(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ci(c){this.src=c,this.g={},this.h=0}Ci.prototype.add=function(c,y,_,b,F){var X=c.toString();c=this.g[X],c||(c=this.g[X]=[],this.h++);var ue=is(c,y,b,F);return-1<ue?(y=c[ue],_||(y.fa=!1)):(y=new Zn(y,this.src,X,!!b,F),y.fa=_,c.push(y)),y};function ns(c,y){var _=y.type;if(_ in c.g){var b=c.g[_],F=Array.prototype.indexOf.call(b,y,void 0),X;(X=0<=F)&&Array.prototype.splice.call(b,F,1),X&&(ur(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function is(c,y,_,b){for(var F=0;F<c.length;++F){var X=c[F];if(!X.da&&X.listener==y&&X.capture==!!_&&X.ha==b)return F}return-1}var rs="closure_lm_"+(1e6*Math.random()|0),So={};function vu(c,y,_,b,F){if(Array.isArray(y)){for(var X=0;X<y.length;X++)vu(c,y[X],_,b,F);return null}return _=_u(_),c&&c[Vt]?c.K(y,_,p(b)?!!b.capture:!1,F):In(c,y,_,!1,b,F)}function In(c,y,_,b,F,X){if(!y)throw Error("Invalid event type");var ue=p(F)?!!F.capture:!!F,Ue=na(c);if(Ue||(c[rs]=Ue=new Ci(c)),_=Ue.add(y,_,b,ue,X),_.proxy)return _;if(b=hf(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)ge||(F=ue),F===void 0&&(F=!1),c.addEventListener(y.toString(),b,F);else if(c.attachEvent)c.attachEvent(ss(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function hf(){function c(_){return y.call(c.src,c.listener,_)}const y=ff;return c}function bo(c,y,_,b,F){if(Array.isArray(y))for(var X=0;X<y.length;X++)bo(c,y[X],_,b,F);else b=p(b)?!!b.capture:!!b,_=_u(_),c&&c[Vt]?(c=c.i,y=String(y).toString(),y in c.g&&(X=c.g[y],_=is(X,_,b,F),-1<_&&(ur(X[_]),Array.prototype.splice.call(X,_,1),X.length==0&&(delete c.g[y],c.h--)))):c&&(c=na(c))&&(y=c.g[y.toString()],c=-1,y&&(c=is(y,_,b,F)),(_=-1<c?y[c]:null)&&ta(_))}function ta(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Vt])ns(y.i,c);else{var _=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(_,b,c.capture):y.detachEvent?y.detachEvent(ss(_),b):y.addListener&&y.removeListener&&y.removeListener(b),(_=na(y))?(ns(_,c),_.h==0&&(_.src=null,y[rs]=null)):ur(c)}}}function ss(c){return c in So?So[c]:So[c]="on"+c}function ff(c,y){if(c.da)c=!0;else{y=new De(y,this);var _=c.listener,b=c.ha||c.src;c.fa&&ta(c),c=_.call(b,y)}return c}function na(c){return c=c[rs],c instanceof Ci?c:null}var wo="__closure_events_fn_"+(1e9*Math.random()>>>0);function _u(c){return typeof c=="function"?c:(c[wo]||(c[wo]=function(y){return c.handleEvent(y)}),c[wo])}function ht(){he.call(this),this.i=new Ci(this),this.M=this,this.F=null}R(ht,he),ht.prototype[Vt]=!0,ht.prototype.removeEventListener=function(c,y,_,b){bo(this,c,y,_,b)};function Ye(c,y){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new le(y,c);else if(y instanceof le)y.target=y.target||c;else{var F=y;y=new le(b,c),M(y,F)}if(F=!0,_)for(var X=_.length-1;0<=X;X--){var ue=y.g=_[X];F=yn(ue,b,!0,y)&&F}if(ue=y.g=c,F=yn(ue,b,!0,y)&&F,F=yn(ue,b,!1,y)&&F,_)for(X=0;X<_.length;X++)ue=y.g=_[X],F=yn(ue,b,!1,y)&&F}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],b=0;b<_.length;b++)ur(_[b]);delete c.g[y],c.h--}}this.F=null},ht.prototype.K=function(c,y,_,b){return this.i.add(String(c),y,!1,_,b)},ht.prototype.L=function(c,y,_,b){return this.i.add(String(c),y,!0,_,b)};function yn(c,y,_,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var F=!0,X=0;X<y.length;++X){var ue=y[X];if(ue&&!ue.da&&ue.capture==_){var Ue=ue.listener,wt=ue.ha||ue.src;ue.fa&&ns(c.i,ue),F=Ue.call(wt,b)!==!1&&F}}return F&&!b.defaultPrevented}function Xt(c,y,_){if(typeof c=="function")_&&(c=A(c,_));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Eu(c){c.g=Xt(()=>{c.g=null,c.i&&(c.i=!1,Eu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class df extends he{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Eu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function as(c){he.call(this),this.h=c,this.g={}}R(as,he);var os=[];function ls(c){ae(c.g,function(y,_){this.g.hasOwnProperty(_)&&ta(y)},c),c.g={}}as.prototype.N=function(){as.aa.N.call(this),ls(this)},as.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hn=m.JSON.stringify,ia=m.JSON.parse,us=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Ro(){}Ro.prototype.h=null;function Co(c){return c.h||(c.h=c.i())}function Io(){}var Ii={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Oi(){le.call(this,"d")}R(Oi,le);function Oo(){le.call(this,"c")}R(Oo,le);var ei={},xo=null;function cr(){return xo=xo||new ht}ei.La="serverreachability";function ra(c){le.call(this,ei.La,c)}R(ra,le);function hr(c){const y=cr();Ye(y,new ra(y))}ei.STAT_EVENT="statevent";function Tu(c,y){le.call(this,ei.STAT_EVENT,c),this.stat=y}R(Tu,le);function st(c){const y=cr();Ye(y,new Tu(y,c))}ei.Ma="timingevent";function bt(c,y){le.call(this,ei.Ma,c),this.size=y}R(bt,le);function _t(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function On(){this.g=!0}On.prototype.xa=function(){this.g=!1};function Do(c,y,_,b,F,X){c.info(function(){if(c.g)if(X)for(var ue="",Ue=X.split("&"),wt=0;wt<Ue.length;wt++){var je=Ue[wt].split("=");if(1<je.length){var Pt=je[0];je=je[1];var Rt=Pt.split("_");ue=2<=Rt.length&&Rt[1]=="type"?ue+(Pt+"="+je+"&"):ue+(Pt+"=redacted&")}}else ue=null;else ue=X;return"XMLHTTP REQ ("+b+") [attempt "+F+"]: "+y+`
`+_+`
`+ue})}function mf(c,y,_,b,F,X,ue){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+F+"]: "+y+`
`+_+`
`+X+" "+ue})}function fr(c,y,_,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+cs(c,_)+(b?" "+b:"")})}function Au(c,y){c.info(function(){return"TIMEOUT: "+y})}On.prototype.info=function(){};function cs(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var F=b[1];if(Array.isArray(F)&&!(1>F.length)){var X=F[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ue=1;ue<F.length;ue++)F[ue]=""}}}}return Hn(_)}catch{return y}}var dr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ti;function ni(){}R(ni,Ro),ni.prototype.g=function(){return new XMLHttpRequest},ni.prototype.i=function(){return{}},ti=new ni;function sn(c,y,_,b){this.j=c,this.i=y,this.l=_,this.R=b||1,this.U=new as(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pt}function pt(){this.i=null,this.g="",this.h=!1}var No={},sa={};function qn(c,y,_){c.L=1,c.v=ps(vn(y)),c.m=_,c.P=!0,Di(c,null)}function Di(c,y){c.F=Date.now(),hs(c),c.A=vn(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),Uo(_.i,"t",b),c.C=0,_=c.j.J,c.h=new pt,c.g=Uu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new df(A(c.Y,c,c.g),c.O)),y=c.U,_=c.g,b=c.ca;var F="readystatechange";Array.isArray(F)||(F&&(os[0]=F.toString()),F=os);for(var X=0;X<F.length;X++){var ue=vu(_,F[X],b||y.handleEvent,!1,y.h||y);if(!ue)break;y.g[ue.key]=ue}y=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),hr(),Do(c.i,c.u,c.A,c.l,c.R,c.m)}sn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Vn(c)==3?y.j():this.Y(c)},sn.prototype.Y=function(c){try{if(c==this.g)e:{const Rt=Vn(this.g);var y=this.g.Ba();const ji=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||xu(this.g)))){this.J||Rt!=4||y==7||(y==8||0>=ji?hr(3):hr(2)),mr(this);var _=this.g.Z();this.X=_;t:if(Su(this)){var b=xu(this.g);c="";var F=b.length,X=Vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zt(this),ii(this);var ue="";break t}this.h.i=new m.TextDecoder}for(y=0;y<F;y++)this.h.h=!0,c+=this.h.i.decode(b[y],{stream:!(X&&y==F-1)});b.length=0,this.h.g+=c,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=_==200,mf(this.i,this.u,this.A,this.l,this.R,Rt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,wt=this.g;if((Ue=wt.g?wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(Ue)){var je=Ue;break t}}je=null}if(_=je)fr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fs(this,_);else{this.o=!1,this.s=3,st(12),zt(this),ii(this);break e}}if(this.P){_=!0;let Bt;for(;!this.J&&this.C<ue.length;)if(Bt=bu(this,ue),Bt==sa){Rt==4&&(this.s=4,st(14),_=!1),fr(this.i,this.l,null,"[Incomplete Response]");break}else if(Bt==No){this.s=4,st(15),fr(this.i,this.l,ue,"[Invalid Chunk]"),_=!1;break}else fr(this.i,this.l,Bt,null),fs(this,Bt);if(Su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||ue.length!=0||this.h.h||(this.s=1,st(16),_=!1),this.o=this.o&&_,!_)fr(this.i,this.l,ue,"[Invalid Chunked Response]"),zt(this),ii(this);else if(0<ue.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),Ss(Pt),Pt.M=!0,st(11))}}else fr(this.i,this.l,ue,null),fs(this,ue);Rt==4&&zt(this),this.o&&!this.J&&(Rt==4?Pu(this.j,this):(this.o=!1,hs(this)))}else _f(this.g),_==400&&0<ue.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),zt(this),ii(this)}}}catch{}finally{}};function Su(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function bu(c,y){var _=c.C,b=y.indexOf(`
`,_);return b==-1?sa:(_=Number(y.substring(_,b)),isNaN(_)?No:(b+=1,b+_>y.length?sa:(y=y.slice(b,b+_),c.C=b+_,y)))}sn.prototype.cancel=function(){this.J=!0,zt(this)};function hs(c){c.S=Date.now()+c.I,wu(c,c.I)}function wu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=_t(A(c.ba,c),y)}function mr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}sn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Au(this.i,this.A),this.L!=2&&(hr(),st(17)),zt(this),this.s=2,ii(this)):wu(this,this.S-c)};function ii(c){c.j.G==0||c.J||Pu(c.j,c)}function zt(c){mr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,ls(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function fs(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Vo(_.h,c))){if(!c.K&&Vo(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var F=b;if(F[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ya(_),pa(_);else break e;qo(_),st(18)}}else _.za=F[1],0<_.za-_.T&&37500>F[2]&&_.F&&_.v==0&&!_.C&&(_.C=_t(A(_.Za,_),6e3));if(1>=oa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ui(_,11)}else if((c.K||_.g==c)&&ya(_),!J(y))for(F=_.Da.g.parse(y),y=0;y<F.length;y++){let je=F[y];if(_.T=je[0],je=je[1],_.G==2)if(je[0]=="c"){_.K=je[1],_.ia=je[2];const Pt=je[3];Pt!=null&&(_.la=Pt,_.j.info("VER="+_.la));const Rt=je[4];Rt!=null&&(_.Aa=Rt,_.j.info("SVER="+_.Aa));const ji=je[5];ji!=null&&typeof ji=="number"&&0<ji&&(b=1.5*ji,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Bt=c.g;if(Bt){const ci=Bt.g?Bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ci){var X=b.h;X.g||ci.indexOf("spdy")==-1&&ci.indexOf("quic")==-1&&ci.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(la(X,X.h),X.h=null))}if(b.D){const Go=Bt.g?Bt.g.getResponseHeader("X-HTTP-Session-Id"):null;Go&&(b.ya=Go,Je(b.I,b.D,Go))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var ue=c;if(b.qa=Lu(b,b.J?b.ia:null,b.W),ue.K){an(b.h,ue);var Ue=ue,wt=b.L;wt&&(Ue.I=wt),Ue.B&&(mr(Ue),hs(Ue)),b.g=ue}else Vu(b);0<_.i.length&&ga(_)}else je[0]!="stop"&&je[0]!="close"||Ui(_,7);else _.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?Ui(_,7):Bo(_):je[0]!="noop"&&_.l&&_.l.ta(je),_.v=0)}}hr(4)}catch{}}var Ru=class{constructor(c,y){this.g=c,this.map=y}};function Ni(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function aa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function oa(c){return c.h?1:c.g?c.g.size:0}function Vo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function la(c,y){c.g?c.g.add(y):c.h=y}function an(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ni.prototype.cancel=function(){if(this.i=Mo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Mo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return k(c.i)}function pf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var y=[],_=c.length,b=0;b<_;b++)y.push(c[b]);return y}y=[],_=0;for(b in c)y[_++]=c[b];return y}function ua(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const b in c)y[_++]=b;return y}}}function Po(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=ua(c),b=pf(c),F=b.length,X=0;X<F;X++)y.call(void 0,b[X],_&&_[X],c)}var ds=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),F=null;if(0<=b){var X=c[_].substring(0,b);F=c[_].substring(b+1)}else X=c[_];y(X,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Et(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Et){this.h=c.h,ms(this,c.j),this.o=c.o,this.g=c.g,pr(this,c.s),this.l=c.l;var y=c.i,_=new Mi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Vi(this,_),this.m=c.m}else c&&(y=String(c).match(ds))?(this.h=!1,ms(this,y[1]||"",!0),this.o=xn(y[2]||""),this.g=xn(y[3]||"",!0),pr(this,y[4]),this.l=xn(y[5]||"",!0),Vi(this,y[6]||"",!0),this.m=xn(y[7]||"")):(this.h=!1,this.i=new Mi(null,this.h))}Et.prototype.toString=function(){var c=[],y=this.j;y&&c.push(gs(y,ko,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(gs(y,ko,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(gs(_,_.charAt(0)=="/"?yf:Lo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",gs(_,ca)),c.join("")};function vn(c){return new Et(c)}function ms(c,y,_){c.j=_?xn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function pr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Vi(c,y,_){y instanceof Mi?(c.i=y,Iu(c.i,c.h)):(_||(y=gs(y,vf)),c.i=new Mi(y,c.h))}function Je(c,y,_){c.i.set(y,_)}function ps(c){return Je(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function xn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function gs(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Cu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Cu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ko=/[#\/\?@]/g,Lo=/[#\?:]/g,yf=/[#\?]/g,vf=/[#\?@]/g,ca=/#/g;function Mi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Dn(c){c.g||(c.g=new Map,c.h=0,c.i&&gf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=Mi.prototype,i.add=function(c,y){Dn(this),this.i=null,c=ri(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Pi(c,y){Dn(c),y=ri(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function ki(c,y){return Dn(c),y=ri(c,y),c.g.has(y)}i.forEach=function(c,y){Dn(this),this.g.forEach(function(_,b){_.forEach(function(F){c.call(y,F,b,this)},this)},this)},i.na=function(){Dn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let b=0;b<y.length;b++){const F=c[b];for(let X=0;X<F.length;X++)_.push(y[b])}return _},i.V=function(c){Dn(this);let y=[];if(typeof c=="string")ki(this,c)&&(y=y.concat(this.g.get(ri(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return Dn(this),this.i=null,c=ri(this,c),ki(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Uo(c,y,_){Pi(c,y),0<_.length&&(c.i=null,c.g.set(ri(c,y),k(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var b=y[_];const X=encodeURIComponent(String(b)),ue=this.V(b);for(b=0;b<ue.length;b++){var F=X;ue[b]!==""&&(F+="="+encodeURIComponent(String(ue[b]))),c.push(F)}}return this.i=c.join("&")};function ri(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Iu(c,y){y&&!c.j&&(Dn(c),c.i=null,c.g.forEach(function(_,b){var F=b.toLowerCase();b!=F&&(Pi(this,b),Uo(this,F,_))},c)),c.j=y}function ys(c,y){const _=new On;if(m.Image){const b=new Image;b.onload=O(Nn,_,"TestLoadImage: loaded",!0,y,b),b.onerror=O(Nn,_,"TestLoadImage: error",!1,y,b),b.onabort=O(Nn,_,"TestLoadImage: abort",!1,y,b),b.ontimeout=O(Nn,_,"TestLoadImage: timeout",!1,y,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function Fn(c,y){const _=new On,b=new AbortController,F=setTimeout(()=>{b.abort(),Nn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(X=>{clearTimeout(F),X.ok?Nn(_,"TestPingServer: ok",!0,y):Nn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),Nn(_,"TestPingServer: error",!1,y)})}function Nn(c,y,_,b,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),b(_)}catch{}}function vs(){this.g=new us}function si(c,y,_){const b=_||"";try{Po(c,function(F,X){let ue=F;p(F)&&(ue=Hn(F)),y.push(b+X+"="+encodeURIComponent(ue))})}catch(F){throw y.push(b+"type="+encodeURIComponent("_badmap")),F}}function gr(c){this.l=c.Ub||null,this.j=c.eb||!1}R(gr,Ro),gr.prototype.g=function(){return new Li(this.l,this.j)},gr.prototype.i=function(c){return function(){return c}}({});function Li(c,y){ht.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(Li,ht),i=Li.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,oi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ai(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function jo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ai(this):oi(this),this.readyState==3&&jo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,ai(this))},i.Qa=function(c){this.g&&(this.response=c,ai(this))},i.ga=function(){this.g&&ai(this)};function ai(c){c.readyState=4,c.l=null,c.j=null,c.v=null,oi(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function oi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Li.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function zo(c){let y="";return ae(c,function(_,b){y+=b,y+=":",y+=_,y+=`\r
`}),y}function Mt(c,y,_){e:{for(b in _){var b=!1;break e}b=!0}b||(_=zo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Je(c,y,_))}function Ge(c){ht.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(Ge,ht);var ha=/^https?$/i,_s=["POST","PUT"];i=Ge.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ti.g(),this.v=this.o?Co(this.o):Co(ti),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(X){Ou(this,X);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var F in b)_.set(F,b[F]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const X of b.keys())_.set(X,b.get(X));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(X=>X.toLowerCase()=="content-type"),F=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(_s,y,void 0))||b||F||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ue]of _)this.g.setRequestHeader(X,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Es(this),this.u=!0,this.g.send(c),this.u=!1}catch(X){Ou(this,X)}};function Ou(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,fa(c),li(c)}function fa(c){c.A||(c.A=!0,Ye(c,"complete"),Ye(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ye(this,"complete"),Ye(this,"abort"),li(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),li(this,!0)),Ge.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?da(this):this.bb())},i.bb=function(){da(this)};function da(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Vn(c)!=4||c.Z()!=2)){if(c.u&&Vn(c)==4)Xt(c.Ea,0,c);else if(Ye(c,"readystatechange"),Vn(c)==4){c.h=!1;try{const ue=c.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var b;if(b=ue===0){var F=String(c.D).match(ds)[1]||null;!F&&m.self&&m.self.location&&(F=m.self.location.protocol.slice(0,-1)),b=!ha.test(F?F.toLowerCase():"")}_=b}if(_)Ye(c,"complete"),Ye(c,"success");else{c.m=6;try{var X=2<Vn(c)?c.g.statusText:""}catch{X=""}c.l=X+" ["+c.Z()+"]",fa(c)}}finally{li(c)}}}}function li(c,y){if(c.g){Es(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ye(c,"ready");try{_.onreadystatechange=b}catch{}}}function Es(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Vn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Vn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ia(y)}};function xu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function _f(c){const y={};c=(c.g&&2<=Vn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(J(c[b]))continue;var _=U(c[b]);const F=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const X=y[F]||[];y[F]=X,X.push(_)}x(y,function(b){return b.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ts(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function ma(c){this.Aa=0,this.i=[],this.j=new On,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ts("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ts("baseRetryDelayMs",5e3,c),this.cb=Ts("retryDelaySeedMs",1e4,c),this.Wa=Ts("forwardChannelMaxRetries",2,c),this.wa=Ts("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ni(c&&c.concurrentRequestLimit),this.Da=new vs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=ma.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,b){st(0),this.W=c,this.H=y||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=Lu(this,null,this.W),ga(this)};function Bo(c){if(Du(c),c.G==3){var y=c.U++,_=vn(c.I);if(Je(_,"SID",c.K),Je(_,"RID",y),Je(_,"TYPE","terminate"),As(c,_),y=new sn(c,c.j,y),y.L=2,y.v=ps(vn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Uu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),hs(y)}ku(c)}function pa(c){c.g&&(Ss(c),c.g.cancel(),c.g=null)}function Du(c){pa(c),c.u&&(m.clearTimeout(c.u),c.u=null),ya(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ga(c){if(!aa(c.h)&&!c.s){c.s=!0;var y=c.Ga;ce||P(),pe||(ce(),pe=!0),qe.add(y,c),c.B=0}}function Ef(c,y){return oa(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=_t(A(c.Ga,c,y),Fo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const F=new sn(this,this.j,c);let X=this.o;if(this.S&&(X?(X=w(X),M(X,this.S)):X=this.S),this.m!==null||this.O||(F.H=X,X=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Nu(this,F,y),_=vn(this.I),Je(_,"RID",c),Je(_,"CVER",22),this.D&&Je(_,"X-HTTP-Session-Id",this.D),As(this,_),X&&(this.O?y="headers="+encodeURIComponent(String(zo(X)))+"&"+y:this.m&&Mt(_,this.m,X)),la(this.h,F),this.Ua&&Je(_,"TYPE","init"),this.P?(Je(_,"$req",y),Je(_,"SID","null"),F.T=!0,qn(F,_,null)):qn(F,_,y),this.G=2}}else this.G==3&&(c?Ho(this,c):this.i.length==0||aa(this.h)||Ho(this))};function Ho(c,y){var _;y?_=y.l:_=c.U++;const b=vn(c.I);Je(b,"SID",c.K),Je(b,"RID",_),Je(b,"AID",c.T),As(c,b),c.m&&c.o&&Mt(b,c.m,c.o),_=new sn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Nu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),la(c.h,_),qn(_,b,y)}function As(c,y){c.H&&ae(c.H,function(_,b){Je(y,b,_)}),c.l&&Po({},function(_,b){Je(y,b,_)})}function Nu(c,y,_){_=Math.min(c.i.length,_);var b=c.l?A(c.l.Na,c.l,c):null;e:{var F=c.i;let X=-1;for(;;){const ue=["count="+_];X==-1?0<_?(X=F[0].g,ue.push("ofs="+X)):X=0:ue.push("ofs="+X);let Ue=!0;for(let wt=0;wt<_;wt++){let je=F[wt].g;const Pt=F[wt].map;if(je-=X,0>je)X=Math.max(0,F[wt].g-100),Ue=!1;else try{si(Pt,ue,"req"+je+"_")}catch{b&&b(Pt)}}if(Ue){b=ue.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,b}function Vu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ce||P(),pe||(ce(),pe=!0),qe.add(y,c),c.v=0}}function qo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=_t(A(c.Fa,c),Fo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Mu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=_t(A(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),pa(this),Mu(this))};function Ss(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Mu(c){c.g=new sn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=vn(c.qa);Je(y,"RID","rpc"),Je(y,"SID",c.K),Je(y,"AID",c.T),Je(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Je(y,"TO",c.ja),Je(y,"TYPE","xmlhttp"),As(c,y),c.m&&c.o&&Mt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ps(vn(y)),_.m=null,_.P=!0,Di(_,c)}i.Za=function(){this.C!=null&&(this.C=null,pa(this),qo(this),st(19))};function ya(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Pu(c,y){var _=null;if(c.g==y){ya(c),Ss(c),c.g=null;var b=2}else if(Vo(c.h,y))_=y.D,an(c.h,y),b=1;else return;if(c.G!=0){if(y.o)if(b==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var F=c.B;b=cr(),Ye(b,new bt(b,_)),ga(c)}else Vu(c);else if(F=y.s,F==3||F==0&&0<y.X||!(b==1&&Ef(c,y)||b==2&&qo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),F){case 1:Ui(c,5);break;case 4:Ui(c,10);break;case 3:Ui(c,6);break;default:Ui(c,2)}}}function Fo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Ui(c,y){if(c.j.info("Error code "+y),y==2){var _=A(c.fb,c),b=c.Xa;const F=!b;b=new Et(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ms(b,"https"),ps(b),F?ys(b.toString(),_):Fn(b.toString(),_)}else st(2);c.G=0,c.l&&c.l.sa(y),ku(c),Du(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function ku(c){if(c.G=0,c.ka=[],c.l){const y=Mo(c.h);(y.length!=0||c.i.length!=0)&&(I(c.ka,y),I(c.ka,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.ra()}}function Lu(c,y,_){var b=_ instanceof Et?vn(_):new Et(_);if(b.g!="")y&&(b.g=y+"."+b.g),pr(b,b.s);else{var F=m.location;b=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;var X=new Et(null);b&&ms(X,b),y&&(X.g=y),F&&pr(X,F),_&&(X.l=_),b=X}return _=c.D,y=c.ya,_&&y&&Je(b,_,y),Je(b,"VER",c.la),As(c,b),b}function Uu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ge(new gr({eb:_})):new Ge(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function ju(){}i=ju.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function va(){}va.prototype.g=function(c,y){return new on(c,y)};function on(c,y){ht.call(this),this.g=new ma(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!J(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!J(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ui(this)}R(on,ht),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Bo(this.g)},on.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Hn(c),c=_);y.i.push(new Ru(y.Ya++,c)),y.G==3&&ga(y)},on.prototype.N=function(){this.g.l=null,delete this.j,Bo(this.g),delete this.g,on.aa.N.call(this)};function zu(c){Oi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}R(zu,Oi);function Bu(){Oo.call(this),this.status=1}R(Bu,Oo);function ui(c){this.g=c}R(ui,ju),ui.prototype.ua=function(){Ye(this.g,"a")},ui.prototype.ta=function(c){Ye(this.g,new zu(c))},ui.prototype.sa=function(c){Ye(this.g,new Bu)},ui.prototype.ra=function(){Ye(this.g,"b")},va.prototype.createWebChannel=va.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,tS=function(){return new va},eS=function(){return cr()},ZA=ei,np={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},dr.NO_ERROR=0,dr.TIMEOUT=8,dr.HTTP_ERROR=6,rh=dr,xi.COMPLETE="complete",WA=xi,Io.EventType=Ii,Ii.OPEN="a",Ii.CLOSE="b",Ii.ERROR="c",Ii.MESSAGE="d",ht.prototype.listen=ht.prototype.K,kl=Io,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,JA=Ge}).apply(typeof Fc<"u"?Fc:typeof self<"u"?self:typeof window<"u"?window:{});const WE="@firebase/firestore",ZE="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yo="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=new kp("@firebase/firestore");function Ya(){return Xs.logLevel}function fe(i,...e){if(Xs.logLevel<=ke.DEBUG){const t=e.map(Qp);Xs.debug(`Firestore (${yo}): ${i}`,...t)}}function ar(i,...e){if(Xs.logLevel<=ke.ERROR){const t=e.map(Qp);Xs.error(`Firestore (${yo}): ${i}`,...t)}}function io(i,...e){if(Xs.logLevel<=ke.WARN){const t=e.map(Qp);Xs.warn(`Firestore (${yo}): ${i}`,...t)}}function Qp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,nS(i,s,t)}function nS(i,e,t){let s=`FIRESTORE (${yo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw ar(s),new Error(s)}function Ke(i,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,i||nS(e,o,s)}function Re(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends lr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ND{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(en.UNAUTHENTICATED))}shutdown(){}}class VD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class MD{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ke(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let l=new Yr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Yr,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const g=l;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Yr)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string",31837,{l:s}),new iS(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new en(e)}}class PD{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class kD{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new PD(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class e0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LD{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ke(this.o===void 0,3512);const s=l=>{l.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.m;return this.m=l.token,fe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const o=l=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new e0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ke(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new e0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=UD(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%62))}return s}}function xe(i,e){return i<e?-1:i>e?1:0}function ip(i,e){let t=0;for(;t<i.length&&t<e.length;){const s=i.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return xe(s,o);{const l=rS(),h=jD(l.encode(t0(i,t)),l.encode(t0(e,t)));return h!==0?h:xe(s,o)}}t+=s>65535?2:1}return xe(i.length,e.length)}function t0(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function jD(i,e){for(let t=0;t<i.length&&t<e.length;++t)if(i[t]!==e[t])return xe(i[t],e[t]);return xe(i.length,e.length)}function ro(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0=-62135596800,i0=1e6;class xt{static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*i0);return new xt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<n0)throw new ye(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/i0}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-n0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new xt(0,0))}static max(){return new we(new xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="__name__";class yi{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ae(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ae(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return yi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof yi?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=yi.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return xe(e.length,t.length)}static compareSegments(e,t){const s=yi.isNumericId(e),o=yi.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?yi.extractNumericId(e).compare(yi.extractNumericId(t)):ip(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Kr.fromString(e.substring(4,e.length-2))}}class mt extends yi{construct(e,t,s){return new mt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ye(oe.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new mt(t)}static emptyPath(){return new mt([])}}const zD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends yi{construct(e,t,s){return new Kt(e,t,s)}static isValidIdentifier(e){return zD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===r0}static keyField(){return new Kt([r0])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new ye(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ye(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ye(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(l(),o++)}if(l(),h)throw new ye(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(t)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(mt.fromString(e))}static fromName(e){return new _e(mt.fromString(e).popFirst(5))}static empty(){return new _e(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return mt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new mt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=-1;function BD(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new xt(t+1,0):new xt(t,s));return new $r(o,_e.empty(),e)}function HD(i){return new $r(i.readTime,i.key,Xl)}class $r{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new $r(we.min(),_e.empty(),Xl)}static max(){return new $r(we.max(),_e.empty(),Xl)}}function qD(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(i.documentKey,e.documentKey),t!==0?t:xe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vo(i){if(i.code!==oe.FAILED_PRECONDITION||i.message!==FD)throw i;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.reject(t)}static resolve(e){return new ie((t,s)=>{t(e)})}static reject(e){return new ie((t,s)=>{s(e)})}static waitFor(e){return new ie((t,s)=>{let o=0,l=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++l,h&&l===o&&t()},g=>s(g))}),h=!0,l===o&&t()})}static or(e){let t=ie.resolve(!1);for(const s of e)t=t.next(o=>o?ie.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,l)=>{s.push(t.call(this,o,l))}),this.waitFor(s)}static mapArray(e,t){return new ie((s,o)=>{const l=e.length,h=new Array(l);let m=0;for(let g=0;g<l;g++){const p=g;t(e[p]).next(v=>{h[p]=v,++m,m===l&&s(h)},v=>o(v))}})}static doWhile(e,t){return new ie((s,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):s()};l()})}}function KD(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function _o(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>t.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}$h.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp=-1;function Xh(i){return i==null}function Eh(i){return i===0&&1/i==-1/0}function YD(i){return typeof i=="number"&&Number.isInteger(i)&&!Eh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="";function $D(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=s0(e)),e=XD(i.get(t),e);return s0(e)}function XD(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const l=i.charAt(o);switch(l){case"\0":t+="";break;case aS:t+="";break;default:t+=l}}return t}function s0(i){return i+aS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function es(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function oS(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,t){this.comparator=e,this.root=t||Gt.EMPTY}insert(e,t){return new ct(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gc(this.root,e,this.comparator,!0)}}class Gc{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??Gt.RED,this.left=o??Gt.EMPTY,this.right=l??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new Gt(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,t,s,o,l){return this}insert(e,t,s){return new Gt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new o0(this.data.getIterator())}getIteratorFrom(e){return new o0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Dt(this.comparator);return t.data=e,t}}class o0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Rn([])}unionWith(e){let t=new Dt(Kt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Rn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ro(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new lS("Invalid base64 string: "+l):l}}(e);return new Yt(t)}static fromUint8Array(e){const t=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(e);return new Yt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const QD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xr(i){if(Ke(!!i,39018),typeof i=="string"){let e=0;const t=QD.exec(i);if(Ke(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:vt(i.seconds),nanos:vt(i.nanos)}}function vt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Qr(i){return typeof i=="string"?Yt.fromBase64String(i):Yt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="server_timestamp",cS="__type__",hS="__previous_value__",fS="__local_write_time__";function Wp(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[cS])===null||t===void 0?void 0:t.stringValue)===uS}function Qh(i){const e=i.mapValue.fields[hS];return Wp(e)?Qh(e):e}function Ql(i){const e=Xr(i.mapValue.fields[fS].timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,t,s,o,l,h,m,g,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=v}}const Th="(default)";class Jl{constructor(e,t){this.projectId=e,this.database=t||Th}static empty(){return new Jl("","")}get isDefaultDatabase(){return this.database===Th}isEqual(e){return e instanceof Jl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="__type__",WD="__max__",Kc={mapValue:{}},mS="__vector__",Ah="value";function Jr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Wp(i)?4:eN(i)?9007199254740991:ZD(i)?10:11:Ae(28295,{value:i})}function bi(i,e){if(i===e)return!0;const t=Jr(i);if(t!==Jr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Ql(i).isEqual(Ql(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=Xr(o.timestampValue),m=Xr(l.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,l){return Qr(o.bytesValue).isEqual(Qr(l.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,l){return vt(o.geoPointValue.latitude)===vt(l.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(l.geoPointValue.longitude)}(i,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return vt(o.integerValue)===vt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=vt(o.doubleValue),m=vt(l.doubleValue);return h===m?Eh(h)===Eh(m):isNaN(h)&&isNaN(m)}return!1}(i,e);case 9:return ro(i.arrayValue.values||[],e.arrayValue.values||[],bi);case 10:case 11:return function(o,l){const h=o.mapValue.fields||{},m=l.mapValue.fields||{};if(a0(h)!==a0(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!bi(h[g],m[g])))return!1;return!0}(i,e);default:return Ae(52216,{left:i})}}function Wl(i,e){return(i.values||[]).find(t=>bi(t,e))!==void 0}function so(i,e){if(i===e)return 0;const t=Jr(i),s=Jr(e);if(t!==s)return xe(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return xe(i.booleanValue,e.booleanValue);case 2:return function(l,h){const m=vt(l.integerValue||l.doubleValue),g=vt(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(i,e);case 3:return l0(i.timestampValue,e.timestampValue);case 4:return l0(Ql(i),Ql(e));case 5:return ip(i.stringValue,e.stringValue);case 6:return function(l,h){const m=Qr(l),g=Qr(h);return m.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(l,h){const m=l.split("/"),g=h.split("/");for(let p=0;p<m.length&&p<g.length;p++){const v=xe(m[p],g[p]);if(v!==0)return v}return xe(m.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,h){const m=xe(vt(l.latitude),vt(h.latitude));return m!==0?m:xe(vt(l.longitude),vt(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return u0(i.arrayValue,e.arrayValue);case 10:return function(l,h){var m,g,p,v;const T=l.fields||{},A=h.fields||{},O=(m=T[Ah])===null||m===void 0?void 0:m.arrayValue,R=(g=A[Ah])===null||g===void 0?void 0:g.arrayValue,k=xe(((p=O==null?void 0:O.values)===null||p===void 0?void 0:p.length)||0,((v=R==null?void 0:R.values)===null||v===void 0?void 0:v.length)||0);return k!==0?k:u0(O,R)}(i.mapValue,e.mapValue);case 11:return function(l,h){if(l===Kc.mapValue&&h===Kc.mapValue)return 0;if(l===Kc.mapValue)return 1;if(h===Kc.mapValue)return-1;const m=l.fields||{},g=Object.keys(m),p=h.fields||{},v=Object.keys(p);g.sort(),v.sort();for(let T=0;T<g.length&&T<v.length;++T){const A=ip(g[T],v[T]);if(A!==0)return A;const O=so(m[g[T]],p[v[T]]);if(O!==0)return O}return xe(g.length,v.length)}(i.mapValue,e.mapValue);default:throw Ae(23264,{Pe:t})}}function l0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return xe(i,e);const t=Xr(i),s=Xr(e),o=xe(t.seconds,s.seconds);return o!==0?o:xe(t.nanos,s.nanos)}function u0(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=so(t[o],s[o]);if(l)return l}return xe(t.length,s.length)}function ao(i){return rp(i)}function rp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=Xr(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return Qr(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return _e.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=rp(l);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of s)l?l=!1:o+=",",o+=`${h}:${rp(t.fields[h])}`;return o+"}"}(i.mapValue):Ae(61005,{value:i})}function sh(i){switch(Jr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qh(i);return e?16+sh(e):16;case 5:return 2*i.stringValue.length;case 6:return Qr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,l)=>o+sh(l),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return es(s.fields,(l,h)=>{o+=l.length+sh(h)}),o}(i.mapValue);default:throw Ae(13486,{value:i})}}function sp(i){return!!i&&"integerValue"in i}function Zp(i){return!!i&&"arrayValue"in i}function c0(i){return!!i&&"nullValue"in i}function h0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ah(i){return!!i&&"mapValue"in i}function ZD(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[dS])===null||t===void 0?void 0:t.stringValue)===mS}function Bl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return es(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Bl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Bl(i.arrayValue.values[t]);return e}return Object.assign({},i)}function eN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===WD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!ah(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(t)}setAll(e){let t=Kt.emptyPath(),s={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const g=this.getFieldsMap(t);this.applyChanges(g,s,o),s={},o=[],t=m.popLast()}h?s[m.lastSegment()]=Bl(h):o.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());ah(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return bi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];ah(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){es(t,(o,l)=>e[o]=l);for(const o of s)delete e[o]}clone(){return new mn(Bl(this.value))}}function pS(i){const e=[];return es(i.fields,(t,s)=>{const o=new Kt([t]);if(ah(s)){const l=pS(s.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,t,s,o,l,h,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=h,this.documentState=m}static newInvalidDocument(e){return new tn(e,0,we.min(),we.min(),we.min(),mn.empty(),0)}static newFoundDocument(e,t,s,o){return new tn(e,1,t,we.min(),s,o,0)}static newNoDocument(e,t){return new tn(e,2,t,we.min(),we.min(),mn.empty(),0)}static newUnknownDocument(e,t){return new tn(e,3,t,we.min(),we.min(),mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,t){this.position=e,this.inclusive=t}}function f0(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const l=e[o],h=i.position[o];if(l.field.isKeyField()?s=_e.comparator(_e.fromName(h.referenceValue),t.key):s=so(h,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function d0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!bi(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,t="asc"){this.field=e,this.dir=t}}function tN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{}class Ot extends gS{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new iN(e,t,s):t==="array-contains"?new aN(e,s):t==="in"?new oN(e,s):t==="not-in"?new lN(e,s):t==="array-contains-any"?new uN(e,s):new Ot(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new rN(e,s):new sN(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(so(t,this.value)):t!==null&&Jr(this.value)===Jr(t)&&this.matchesComparison(so(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wi extends gS{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new wi(e,t)}matches(e){return yS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function yS(i){return i.op==="and"}function vS(i){return nN(i)&&yS(i)}function nN(i){for(const e of i.filters)if(e instanceof wi)return!1;return!0}function ap(i){if(i instanceof Ot)return i.field.canonicalString()+i.op.toString()+ao(i.value);if(vS(i))return i.filters.map(e=>ap(e)).join(",");{const e=i.filters.map(t=>ap(t)).join(",");return`${i.op}(${e})`}}function _S(i,e){return i instanceof Ot?function(s,o){return o instanceof Ot&&s.op===o.op&&s.field.isEqual(o.field)&&bi(s.value,o.value)}(i,e):i instanceof wi?function(s,o){return o instanceof wi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,h,m)=>l&&_S(h,o.filters[m]),!0):!1}(i,e):void Ae(19439)}function ES(i){return i instanceof Ot?function(t){return`${t.field.canonicalString()} ${t.op} ${ao(t.value)}`}(i):i instanceof wi?function(t){return t.op.toString()+" {"+t.getFilters().map(ES).join(" ,")+"}"}(i):"Filter"}class iN extends Ot{constructor(e,t,s){super(e,t,s),this.key=_e.fromName(s.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class rN extends Ot{constructor(e,t){super(e,"in",t),this.keys=TS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class sN extends Ot{constructor(e,t){super(e,"not-in",t),this.keys=TS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function TS(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>_e.fromName(s.referenceValue))}class aN extends Ot{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Zp(t)&&Wl(t.arrayValue,this.value)}}class oN extends Ot{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Wl(this.value.arrayValue,t)}}class lN extends Ot{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Wl(this.value.arrayValue,t)}}class uN extends Ot{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Zp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Wl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,t=null,s=[],o=[],l=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=h,this.endAt=m,this.Ie=null}}function m0(i,e=null,t=[],s=[],o=null,l=null,h=null){return new cN(i,e,t,s,o,l,h)}function eg(i){const e=Re(i);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>ap(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),Xh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>ao(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>ao(s)).join(",")),e.Ie=t}return e.Ie}function tg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!tN(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!_S(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!d0(i.startAt,e.startAt)&&d0(i.endAt,e.endAt)}function op(i){return _e.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,t=null,s=[],o=[],l=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=h,this.startAt=m,this.endAt=g,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function hN(i,e,t,s,o,l,h,m){return new Jh(i,e,t,s,o,l,h,m)}function ng(i){return new Jh(i)}function p0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function fN(i){return i.collectionGroup!==null}function Hl(i){const e=Re(i);if(e.Ee===null){e.Ee=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Dt(Kt.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(p=>{p.isInequality()&&(m=m.add(p.field))})}),m})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new bh(l,s))}),t.has(Kt.keyField().canonicalString())||e.Ee.push(new bh(Kt.keyField(),s))}return e.Ee}function _i(i){const e=Re(i);return e.de||(e.de=dN(e,Hl(i))),e.de}function dN(i,e){if(i.limitType==="F")return m0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new bh(o.field,l)});const t=i.endAt?new Sh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Sh(i.startAt.position,i.startAt.inclusive):null;return m0(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function lp(i,e,t){return new Jh(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Wh(i,e){return tg(_i(i),_i(e))&&i.limitType===e.limitType}function AS(i){return`${eg(_i(i))}|lt:${i.limitType}`}function $a(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>ES(o)).join(", ")}]`),Xh(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>ao(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>ao(o)).join(",")),`Target(${s})`}(_i(i))}; limitType=${i.limitType})`}function Zh(i,e){return e.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):_e.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(i,e)&&function(s,o){for(const l of Hl(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,m,g){const p=f0(h,m,g);return h.inclusive?p<=0:p<0}(s.startAt,Hl(s),o)||s.endAt&&!function(h,m,g){const p=f0(h,m,g);return h.inclusive?p>=0:p>0}(s.endAt,Hl(s),o))}(i,e)}function mN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function SS(i){return(e,t)=>{let s=!1;for(const o of Hl(i)){const l=pN(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function pN(i,e,t){const s=i.field.isKeyField()?_e.comparator(e.key,t.key):function(l,h,m){const g=h.data.field(l),p=m.data.field(l);return g!==null&&p!==null?so(g,p):Ae(42886)}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ae(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){es(this.inner,(t,s)=>{for(const[o,l]of s)e(o,l)})}isEmpty(){return oS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=new ct(_e.comparator);function or(){return gN}const bS=new ct(_e.comparator);function Ll(...i){let e=bS;for(const t of i)e=e.insert(t.key,t);return e}function wS(i){let e=bS;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Hs(){return ql()}function RS(){return ql()}function ql(){return new Zs(i=>i.toString(),(i,e)=>i.isEqual(e))}const yN=new ct(_e.comparator),vN=new Dt(_e.comparator);function Le(...i){let e=vN;for(const t of i)e=e.add(t);return e}const _N=new Dt(xe);function EN(){return _N}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eh(e)?"-0":e}}function CS(i){return{integerValue:""+i}}function TN(i,e){return YD(e)?CS(e):ig(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(){this._=void 0}}function AN(i,e,t){return i instanceof wh?function(o,l){const h={fields:{[cS]:{stringValue:uS},[fS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Wp(l)&&(l=Qh(l)),l&&(h.fields[hS]=l),{mapValue:h}}(t,e):i instanceof Zl?OS(i,e):i instanceof eu?xS(i,e):function(o,l){const h=IS(o,l),m=g0(h)+g0(o.Re);return sp(h)&&sp(o.Re)?CS(m):ig(o.serializer,m)}(i,e)}function SN(i,e,t){return i instanceof Zl?OS(i,e):i instanceof eu?xS(i,e):t}function IS(i,e){return i instanceof Rh?function(s){return sp(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class wh extends ef{}class Zl extends ef{constructor(e){super(),this.elements=e}}function OS(i,e){const t=DS(e);for(const s of i.elements)t.some(o=>bi(o,s))||t.push(s);return{arrayValue:{values:t}}}class eu extends ef{constructor(e){super(),this.elements=e}}function xS(i,e){let t=DS(e);for(const s of i.elements)t=t.filter(o=>!bi(o,s));return{arrayValue:{values:t}}}class Rh extends ef{constructor(e,t){super(),this.serializer=e,this.Re=t}}function g0(i){return vt(i.integerValue||i.doubleValue)}function DS(i){return Zp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function bN(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof Zl&&o instanceof Zl||s instanceof eu&&o instanceof eu?ro(s.elements,o.elements,bi):s instanceof Rh&&o instanceof Rh?bi(s.Re,o.Re):s instanceof wh&&o instanceof wh}(i.transform,e.transform)}class wN{constructor(e,t){this.version=e,this.transformResults=t}}class Ei{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ei}static exists(e){return new Ei(void 0,e)}static updateTime(e){return new Ei(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class tf{}function NS(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new MS(i.key,Ei.none()):new du(i.key,i.data,Ei.none());{const t=i.data,s=mn.empty();let o=new Dt(Kt.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?s.delete(l):s.set(l,h),o=o.add(l)}return new ts(i.key,s,new Rn(o.toArray()),Ei.none())}}function RN(i,e,t){i instanceof du?function(o,l,h){const m=o.value.clone(),g=v0(o.fieldTransforms,l,h.transformResults);m.setAll(g),l.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,t):i instanceof ts?function(o,l,h){if(!oh(o.precondition,l))return void l.convertToUnknownDocument(h.version);const m=v0(o.fieldTransforms,l,h.transformResults),g=l.data;g.setAll(VS(o)),g.setAll(m),l.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(i,e,t):function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function Fl(i,e,t,s){return i instanceof du?function(l,h,m,g){if(!oh(l.precondition,h))return m;const p=l.value.clone(),v=_0(l.fieldTransforms,g,h);return p.setAll(v),h.convertToFoundDocument(h.version,p).setHasLocalMutations(),null}(i,e,t,s):i instanceof ts?function(l,h,m,g){if(!oh(l.precondition,h))return m;const p=_0(l.fieldTransforms,g,h),v=h.data;return v.setAll(VS(l)),v.setAll(p),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(i,e,t,s):function(l,h,m){return oh(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,e,t)}function CN(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),l=IS(s.transform,o||null);l!=null&&(t===null&&(t=mn.empty()),t.set(s.field,l))}return t||null}function y0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ro(s,o,(l,h)=>bN(l,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class du extends tf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ts extends tf{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function VS(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function v0(i,e,t){const s=new Map;Ke(i.length===t.length,32656,{Ve:t.length,me:i.length});for(let o=0;o<t.length;o++){const l=i[o],h=l.transform,m=e.data.field(l.field);s.set(l.field,SN(h,m,t[o]))}return s}function _0(i,e,t){const s=new Map;for(const o of i){const l=o.transform,h=t.data.field(o.field);s.set(o.field,AN(l,h,e))}return s}class MS extends tf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IN extends tf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&RN(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Fl(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Fl(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=RS();return this.mutations.forEach(o=>{const l=e.get(o.key),h=l.overlayedDocument;let m=this.applyToLocalView(h,l.mutatedFields);m=t.has(o.key)?null:m;const g=NS(h,m);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(we.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Le())}isEqual(e){return this.batchId===e.batchId&&ro(this.mutations,e.mutations,(t,s)=>y0(t,s))&&ro(this.baseMutations,e.baseMutations,(t,s)=>y0(t,s))}}class rg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Ke(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return yN}();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,s[h].version);return new rg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,Be;function NN(i){switch(i){case oe.OK:return Ae(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Ae(15467,{code:i})}}function PS(i){if(i===void 0)return ar("GRPC error has no .code"),oe.UNKNOWN;switch(i){case St.OK:return oe.OK;case St.CANCELLED:return oe.CANCELLED;case St.UNKNOWN:return oe.UNKNOWN;case St.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case St.INTERNAL:return oe.INTERNAL;case St.UNAVAILABLE:return oe.UNAVAILABLE;case St.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case St.NOT_FOUND:return oe.NOT_FOUND;case St.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case St.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case St.ABORTED:return oe.ABORTED;case St.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case St.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case St.DATA_LOSS:return oe.DATA_LOSS;default:return Ae(39323,{code:i})}}(Be=St||(St={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=new Kr([4294967295,4294967295],0);function E0(i){const e=rS().encode(i),t=new QA;return t.update(e),new Uint8Array(t.digest())}function T0(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Kr([t,s],0),new Kr([o,l],0)]}class sg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Ul(`Invalid padding: ${t}`);if(s<0)throw new Ul(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ul(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Ul(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Kr.fromNumber(this.pe)}we(e,t,s){let o=e.add(t.multiply(Kr.fromNumber(s)));return o.compare(VN)===1&&(o=new Kr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=E0(e),[s,o]=T0(t);for(let l=0;l<this.hashCount;l++){const h=this.we(s,o,l);if(!this.be(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new sg(l,o,t);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.pe===0)return;const t=E0(e),[s,o]=T0(t);for(let l=0;l<this.hashCount;l++){const h=this.we(s,o,l);this.Se(h)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,mu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new nf(we.min(),o,new ct(xe),or(),Le())}}class mu{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new mu(s,t,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,t,s,o){this.De=e,this.removedTargetIds=t,this.key=s,this.ve=o}}class kS{constructor(e,t){this.targetId=e,this.Ce=t}}class LS{constructor(e,t,s=Yt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class A0{constructor(){this.Fe=0,this.Me=S0(),this.xe=Yt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Le(),t=Le(),s=Le();return this.Me.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ae(38017,{changeType:l})}}),new mu(this.xe,this.Oe,e,t,s)}Qe(){this.Ne=!1,this.Me=S0()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ke(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class MN{constructor(e){this.ze=e,this.je=new Map,this.He=or(),this.Je=Yc(),this.Ye=Yc(),this.Ze=new ct(xe)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const s=this.rt(t);switch(e.state){case 0:this.it(t)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(t);break;case 3:this.it(t)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),s.ke(e.resumeToken));break;default:Ae(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((s,o)=>{this.it(o)&&t(o)})}ot(e){const t=e.targetId,s=e.Ce.count,o=this._t(t);if(o){const l=o.target;if(op(l))if(s===0){const h=new _e(l.path);this.tt(t,h,tn.newNoDocument(h,we.min()))}else Ke(s===1,20013,{expectedCount:s});else{const h=this.ut(t);if(h!==s){const m=this.ct(e),g=m?this.lt(m,e,h):1;if(g!==0){this.st(t);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let h,m;try{h=Qr(s).toUint8Array()}catch(g){if(g instanceof lS)return io("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new sg(h,o,l)}catch(g){return io(g instanceof Ul?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.pe===0?null:m}lt(e,t,s){return t.Ce.count===s-this.Tt(e,t.targetId)?0:2}Tt(e,t){const s=this.ze.getRemoteKeysForTarget(t);let o=0;return s.forEach(l=>{const h=this.ze.Pt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(m)||(this.tt(t,l,null),o++)}),o}It(e){const t=new Map;this.je.forEach((l,h)=>{const m=this._t(h);if(m){if(l.current&&op(m.target)){const g=new _e(m.target.path);this.Et(g).has(h)||this.dt(h,g)||this.tt(h,g,tn.newNoDocument(g,e))}l.Le&&(t.set(h,l.qe()),l.Qe())}});let s=Le();this.Ye.forEach((l,h)=>{let m=!0;h.forEachWhile(g=>{const p=this._t(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(l))}),this.He.forEach((l,h)=>h.setReadTime(e));const o=new nf(e,t,this.Ze,this.He,s);return this.He=or(),this.Je=Yc(),this.Ye=Yc(),this.Ze=new ct(xe),o}et(e,t){if(!this.it(e))return;const s=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,s),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,t)?o.$e(t,1):o.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),s&&(this.He=this.He.insert(t,s))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new A0,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Dt(xe),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Dt(xe),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new A0),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Yc(){return new ct(_e.comparator)}function S0(){return new ct(_e.comparator)}const PN={asc:"ASCENDING",desc:"DESCENDING"},kN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LN={and:"AND",or:"OR"};class UN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function up(i,e){return i.useProto3Json||Xh(e)?e:{value:e}}function Ch(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function US(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function jN(i,e){return Ch(i,e.toTimestamp())}function Ti(i){return Ke(!!i,49232),we.fromTimestamp(function(t){const s=Xr(t);return new xt(s.seconds,s.nanos)}(i))}function ag(i,e){return cp(i,e).canonicalString()}function cp(i,e){const t=function(o){return new mt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function jS(i){const e=mt.fromString(i);return Ke(FS(e),10190,{key:e.toString()}),e}function hp(i,e){return ag(i.databaseId,e.path)}function xm(i,e){const t=jS(e);if(t.get(1)!==i.databaseId.projectId)throw new ye(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new ye(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new _e(BS(t))}function zS(i,e){return ag(i.databaseId,e)}function zN(i){const e=jS(i);return e.length===4?mt.emptyPath():BS(e)}function fp(i){return new mt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function BS(i){return Ke(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function b0(i,e,t){return{name:hp(i,e),fields:t.value.mapValue.fields}}function BN(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ae(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(p,v){return p.useProto3Json?(Ke(v===void 0||typeof v=="string",58123),Yt.fromBase64String(v||"")):(Ke(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Yt.fromUint8Array(v||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(p){const v=p.code===void 0?oe.UNKNOWN:PS(p.code);return new ye(v,p.message||"")}(h);t=new LS(s,o,l,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=xm(i,s.document.name),l=Ti(s.document.updateTime),h=s.document.createTime?Ti(s.document.createTime):we.min(),m=new mn({mapValue:{fields:s.document.fields}}),g=tn.newFoundDocument(o,l,h,m),p=s.targetIds||[],v=s.removedTargetIds||[];t=new lh(p,v,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=xm(i,s.document),l=s.readTime?Ti(s.readTime):we.min(),h=tn.newNoDocument(o,l),m=s.removedTargetIds||[];t=new lh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=xm(i,s.document),l=s.removedTargetIds||[];t=new lh([],l,o,null)}else{if(!("filter"in e))return Ae(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,h=new DN(o,l),m=s.targetId;t=new kS(m,h)}}return t}function HN(i,e){let t;if(e instanceof du)t={update:b0(i,e.key,e.value)};else if(e instanceof MS)t={delete:hp(i,e.key)};else if(e instanceof ts)t={update:b0(i,e.key,e.data),updateMask:JN(e.fieldMask)};else{if(!(e instanceof IN))return Ae(16599,{ft:e.type});t={verify:hp(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,h){const m=h.transform;if(m instanceof wh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Zl)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof eu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Rh)return{fieldPath:h.field.canonicalString(),increment:m.Re};throw Ae(20930,{transform:h.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:jN(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ae(27497)}(i,e.precondition)),t}function qN(i,e){return i&&i.length>0?(Ke(e!==void 0,14353),i.map(t=>function(o,l){let h=o.updateTime?Ti(o.updateTime):Ti(l);return h.isEqual(we.min())&&(h=Ti(l)),new wN(h,o.transformResults||[])}(t,e))):[]}function FN(i,e){return{documents:[zS(i,e.path)]}}function GN(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=zS(i,o);const l=function(p){if(p.length!==0)return qS(wi.create(p,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(p){if(p.length!==0)return p.map(v=>function(A){return{field:Xa(A.field),direction:$N(A.dir)}}(v))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=up(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:t,parent:o}}function KN(i){let e=zN(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Ke(s===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(T){const A=HS(T);return A instanceof wi&&vS(A)?A.getFilters():[A]}(t.where));let h=[];t.orderBy&&(h=function(T){return T.map(A=>function(R){return new bh(Qa(R.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(A))}(t.orderBy));let m=null;t.limit&&(m=function(T){let A;return A=typeof T=="object"?T.value:T,Xh(A)?null:A}(t.limit));let g=null;t.startAt&&(g=function(T){const A=!!T.before,O=T.values||[];return new Sh(O,A)}(t.startAt));let p=null;return t.endAt&&(p=function(T){const A=!T.before,O=T.values||[];return new Sh(O,A)}(t.endAt)),hN(e,o,h,l,m,"F",g,p)}function YN(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function HS(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Qa(t.unaryFilter.field);return Ot.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Qa(t.unaryFilter.field);return Ot.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Qa(t.unaryFilter.field);return Ot.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Qa(t.unaryFilter.field);return Ot.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}}(i):i.fieldFilter!==void 0?function(t){return Ot.create(Qa(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return wi.create(t.compositeFilter.filters.map(s=>HS(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}}(t.compositeFilter.op))}(i):Ae(30097,{filter:i})}function $N(i){return PN[i]}function XN(i){return kN[i]}function QN(i){return LN[i]}function Xa(i){return{fieldPath:i.canonicalString()}}function Qa(i){return Kt.fromServerFormat(i.fieldPath)}function qS(i){return i instanceof Ot?function(t){if(t.op==="=="){if(h0(t.value))return{unaryFilter:{field:Xa(t.field),op:"IS_NAN"}};if(c0(t.value))return{unaryFilter:{field:Xa(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(h0(t.value))return{unaryFilter:{field:Xa(t.field),op:"IS_NOT_NAN"}};if(c0(t.value))return{unaryFilter:{field:Xa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(t.field),op:XN(t.op),value:t.value}}}(i):i instanceof wi?function(t){const s=t.getFilters().map(o=>qS(o));return s.length===1?s[0]:{compositeFilter:{op:QN(t.op),filters:s}}}(i):Ae(54877,{filter:i})}function JN(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function FS(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,t,s,o,l=we.min(),h=we.min(),m=Yt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Hr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e){this.wt=e}}function ZN(i){const e=KN({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?lp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(){this.yn=new t4}addToCollectionParentIndex(e,t){return this.yn.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve($r.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve($r.min())}updateCollectionGroup(e,t,s){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class t4{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Dt(mt.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Dt(mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GS=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(GS,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new oo(0)}static ir(){return new oo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="LruGarbageCollector",n4=1048576;function C0([i,e],[t,s]){const o=xe(i,t);return o===0?xe(e,s):o}class i4{constructor(e){this.cr=e,this.buffer=new Dt(C0),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();C0(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class r4{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){fe(R0,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){_o(t)?fe(R0,"Ignoring IndexedDB error during garbage collection: ",t):await vo(t)}await this.Ir(3e5)})}}class s4{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return ie.resolve($h.le);const s=new i4(t);return this.Er.forEachTarget(e,o=>s.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(e,o=>s.Pr(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Er.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(w0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),w0):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let s,o,l,h,m,g,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(s=T,m=Date.now(),this.removeTargets(e,s,t))).next(T=>(l=T,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(p=Date.now(),Ya()<=ke.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${l} targets in `+(g-m)+`ms
	Removed ${T} documents in `+(p-g)+`ms
Total Duration: ${p-v}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T})))}}function a4(i,e){return new s4(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(){this.changes=new Zs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ie.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&Fl(s.mutation,o,Rn.empty(),xt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Le()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Le()){const o=Hs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(l=>{let h=Ll();return l.forEach((m,g)=>{h=h.insert(m,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=Hs();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Le()))}populateOverlays(e,t,s){const o=[];return s.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,s,o){let l=or();const h=ql(),m=function(){return ql()}();return t.forEach((g,p)=>{const v=s.get(p.key);o.has(p.key)&&(v===void 0||v.mutation instanceof ts)?l=l.insert(p.key,p):v!==void 0?(h.set(p.key,v.mutation.getFieldMask()),Fl(v.mutation,p,v.mutation.getFieldMask(),xt.now())):h.set(p.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,l).next(g=>(g.forEach((p,v)=>h.set(p,v)),t.forEach((p,v)=>{var T;return m.set(p,new l4(v,(T=h.get(p))!==null&&T!==void 0?T:null))}),m))}recalculateAndSaveOverlays(e,t){const s=ql();let o=new ct((h,m)=>h-m),l=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(g=>{const p=t.get(g);if(p===null)return;let v=s.get(g)||Rn.empty();v=m.applyToLocalView(p,v),s.set(g,v);const T=(o.get(m.batchId)||Le()).add(g);o=o.insert(m.batchId,T)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,v=g.value,T=RS();v.forEach(A=>{if(!l.has(A)){const O=NS(t.get(A),s.get(A));O!==null&&T.set(A,O),l=l.add(A)}}),h.push(this.documentOverlayCache.saveOverlays(e,p,T))}return ie.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return _e.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):fN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):ie.resolve(Hs());let m=Xl,g=l;return h.next(p=>ie.forEach(p,(v,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),l.get(v)?ie.resolve():this.remoteDocumentCache.getEntry(e,v).next(A=>{g=g.insert(v,A)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,g,p,Le())).next(v=>({batchId:m,changes:wS(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(s=>{let o=Ll();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let h=Ll();return this.indexManager.getCollectionParents(e,l).next(m=>ie.forEach(m,g=>{const p=function(T,A){return new Jh(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,g.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next(v=>{v.forEach((T,A)=>{h=h.insert(T,A)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o))).next(h=>{l.forEach((g,p)=>{const v=p.getKey();h.get(v)===null&&(h=h.insert(v,tn.newInvalidDocument(v)))});let m=Ll();return h.forEach((g,p)=>{const v=l.get(g);v!==void 0&&Fl(v.mutation,p,Rn.empty(),xt.now()),Zh(t,p)&&(m=m.insert(g,p))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return ie.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Ti(o.createTime)}}(t)),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(o){return{name:o.name,query:ZN(o.bundledQuery),readTime:Ti(o.readTime)}}(t)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(){this.overlays=new ct(_e.comparator),this.Or=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Hs();return ie.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,l)=>{this.St(e,t,l)}),ie.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Or.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Or.delete(s)),ie.resolve()}getOverlaysForCollection(e,t,s){const o=Hs(),l=t.length+1,h=new _e(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new ct((p,v)=>p-v);const h=this.overlays.getIterator();for(;h.hasNext();){const p=h.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>s){let v=l.get(p.largestBatchId);v===null&&(v=Hs(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const m=Hs(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((p,v)=>m.set(p,v)),!(m.size()>=o)););return ie.resolve(m)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Or.get(o.largestBatchId).delete(s.key);this.Or.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new xN(t,s));let l=this.Or.get(t);l===void 0&&(l=Le(),this.Or.set(t,l)),this.Or.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(){this.Nr=new Dt(jt.Br),this.Lr=new Dt(jt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const s=new jt(e,t);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Qr(new jt(e,t))}$r(e,t){e.forEach(s=>this.removeReference(s,t))}Ur(e){const t=new _e(new mt([])),s=new jt(t,e),o=new jt(t,e+1),l=[];return this.Lr.forEachInRange([s,o],h=>{this.Qr(h),l.push(h.key)}),l}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new _e(new mt([])),s=new jt(t,e),o=new jt(t,e+1);let l=Le();return this.Lr.forEachInRange([s,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new jt(e,0),s=this.Nr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return _e.comparator(e.key,t.key)||xe(e.Gr,t.Gr)}static kr(e,t){return xe(e.Gr,t.Gr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new Dt(jt.Br)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new ON(l,t,s,o);this.mutationQueue.push(h);for(const m of o)this.zr=this.zr.add(new jt(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(h)}lookupMutationBatch(e,t){return ie.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Hr(s),l=o<0?0:o;return ie.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Jp:this.Jn-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new jt(t,0),o=new jt(t,Number.POSITIVE_INFINITY),l=[];return this.zr.forEachInRange([s,o],h=>{const m=this.jr(h.Gr);l.push(m)}),ie.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Dt(xe);return t.forEach(o=>{const l=new jt(o,0),h=new jt(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([l,h],m=>{s=s.add(m.Gr)})}),ie.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;_e.isDocumentKey(l)||(l=l.child(""));const h=new jt(new _e(l),0);let m=new Dt(xe);return this.zr.forEachWhile(g=>{const p=g.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Gr)),!0)},h),ie.resolve(this.Jr(m))}Jr(e){const t=[];return e.forEach(s=>{const o=this.jr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ke(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return ie.forEach(t.mutations,o=>{const l=new jt(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.zr=s})}Xn(e){}containsKey(e,t){const s=new jt(t,0),o=this.zr.firstAfterOrEqual(s);return ie.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e){this.Zr=e,this.docs=function(){return new ct(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,h=this.Zr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ie.resolve(s?s.document.mutableCopy():tn.newInvalidDocument(t))}getEntries(e,t){let s=or();return t.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():tn.newInvalidDocument(o))}),ie.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=or();const h=t.path,m=new _e(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:v}}=g.getNext();if(!h.isPrefixOf(p.path))break;p.path.length>h.length+1||qD(HD(v),s)<=0||(o.has(v.key)||Zh(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ie.resolve(l)}getAllFromCollectionGroup(e,t,s,o){Ae(9500)}Xr(e,t){return ie.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new p4(this)}getSize(e){return ie.resolve(this.size)}}class p4 extends o4{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.vr.addEntry(e,o)):this.vr.removeEntry(s)}),ie.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e){this.persistence=e,this.ei=new Zs(t=>eg(t),tg),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.ti=0,this.ni=new og,this.targetCount=0,this.ri=oo.rr()}forEachTarget(e,t){return this.ei.forEach((s,o)=>t(o)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.ti&&(this.ti=t),ie.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new oo(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.ar(t),ie.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.ei.forEach((h,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.ei.delete(h),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ie.waitFor(l).next(()=>o)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const s=this.ei.get(t)||null;return ie.resolve(s)}addMatchingKeys(e,t,s){return this.ni.qr(t,s),ie.resolve()}removeMatchingKeys(e,t,s){this.ni.$r(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),ie.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ni.Wr(t);return ie.resolve(s)}containsKey(e,t){return ie.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,t){this.ii={},this.overlays={},this.si=new $h(0),this.oi=!1,this.oi=!0,this._i=new f4,this.referenceDelegate=e(this),this.ai=new g4(this),this.indexManager=new e4,this.remoteDocumentCache=function(o){return new m4(o)}(s=>this.referenceDelegate.ui(s)),this.serializer=new WN(t),this.ci=new c4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new h4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ii[e.toKey()];return s||(s=new d4(t,this.referenceDelegate),this.ii[e.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,s){fe("MemoryPersistence","Starting transaction:",e);const o=new y4(this.si.next());return this.referenceDelegate.li(),s(o).next(l=>this.referenceDelegate.hi(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Pi(e,t){return ie.or(Object.values(this.ii).map(s=>()=>s.containsKey(e,t)))}}class y4 extends GD{constructor(e){super(),this.currentSequenceNumber=e}}class lg{constructor(e){this.persistence=e,this.Ti=new og,this.Ii=null}static Ei(e){return new lg(e)}get di(){if(this.Ii)return this.Ii;throw Ae(60996)}addReference(e,t,s){return this.Ti.addReference(s,t),this.di.delete(s.toString()),ie.resolve()}removeReference(e,t,s){return this.Ti.removeReference(s,t),this.di.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),ie.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(o=>this.di.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.di.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.di,s=>{const o=_e.fromPath(s);return this.Ai(e,o).next(l=>{l||t.removeEntry(o,we.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(s=>{s?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return ie.or([()=>ie.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class Ih{constructor(e,t){this.persistence=e,this.Ri=new Zs(s=>$D(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=a4(this,t)}static Ei(e,t){return new Ih(e,t)}li(){}hi(e){return ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}Vr(e){let t=0;return this.Ar(e,s=>{t++}).next(()=>t)}Ar(e,t){return ie.forEach(this.Ri,(s,o)=>this.gr(e,s,o).next(l=>l?ie.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.Xr(e,h=>this.gr(e,h,t).next(m=>{m||(s++,l.removeEntry(h,we.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),ie.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.Ri.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,t,s){return this.Ri.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),ie.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=sh(e.data.value)),t}gr(e,t,s){return ie.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.Ri.get(t);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.ls=s,this.hs=o}static Ps(e,t){let s=Le(),o=Le();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new ug(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return d2()?8:KD(rn())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.Rs(e,t).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.Vs(e,t,o,s).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new v4;return this.fs(e,t,h).next(m=>{if(l.result=m,this.Is)return this.gs(e,t,h,m.size)})}).next(()=>l.result)}gs(e,t,s,o){return s.documentReadCount<this.Es?(Ya()<=ke.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",$a(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),ie.resolve()):(Ya()<=ke.DEBUG&&fe("QueryEngine","Query:",$a(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Ya()<=ke.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",$a(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_i(t))):ie.resolve())}Rs(e,t){if(p0(t))return ie.resolve(null);let s=_i(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=lp(t,null,"F"),s=_i(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const h=Le(...l);return this.As.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(g=>{const p=this.ps(t,m);return this.ys(t,p,h,g.readTime)?this.Rs(e,lp(t,null,"F")):this.ws(e,p,t,g)}))})))}Vs(e,t,s,o){return p0(t)||o.isEqual(we.min())?ie.resolve(null):this.As.getDocuments(e,s).next(l=>{const h=this.ps(t,l);return this.ys(t,h,s,o)?ie.resolve(null):(Ya()<=ke.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),$a(t)),this.ws(e,h,t,BD(o,Xl)).next(m=>m))})}ps(e,t){let s=new Dt(SS(e));return t.forEach((o,l)=>{Zh(e,l)&&(s=s.add(l))}),s}ys(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}fs(e,t,s){return Ya()<=ke.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",$a(t)),this.As.getDocumentsMatchingQuery(e,t,$r.min(),s)}ws(e,t,s,o){return this.As.getDocumentsMatchingQuery(e,s,o).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg="LocalStore",E4=3e8;class T4{constructor(e,t,s,o){this.persistence=e,this.bs=t,this.serializer=o,this.Ss=new ct(xe),this.Ds=new Zs(l=>eg(l),tg),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(s)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new u4(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function A4(i,e,t,s){return new T4(i,e,t,s)}async function YS(i,e){const t=Re(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,t.Fs(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const h=[],m=[];let g=Le();for(const p of o){h.push(p.batchId);for(const v of p.mutations)g=g.add(v.key)}for(const p of l){m.push(p.batchId);for(const v of p.mutations)g=g.add(v.key)}return t.localDocuments.getDocuments(s,g).next(p=>({Ms:p,removedBatchIds:h,addedBatchIds:m}))})})}function S4(i,e){const t=Re(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),l=t.Cs.newChangeBuffer({trackRemovals:!0});return function(m,g,p,v){const T=p.batch,A=T.keys();let O=ie.resolve();return A.forEach(R=>{O=O.next(()=>v.getEntry(g,R)).next(k=>{const I=p.docVersions.get(R);Ke(I!==null,48541),k.version.compareTo(I)<0&&(T.applyToRemoteDocument(k,p),k.isValidDocument()&&(k.setReadTime(p.commitVersion),v.addEntry(k)))})}),O.next(()=>m.mutationQueue.removeMutationBatch(g,T))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=Le();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function $S(i){const e=Re(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function b4(i,e){const t=Re(i),s=e.snapshotVersion;let o=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.Cs.newChangeBuffer({trackRemovals:!0});o=t.Ss;const m=[];e.targetChanges.forEach((v,T)=>{const A=o.get(T);if(!A)return;m.push(t.ai.removeMatchingKeys(l,v.removedDocuments,T).next(()=>t.ai.addMatchingKeys(l,v.addedDocuments,T)));let O=A.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?O=O.withResumeToken(Yt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):v.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(v.resumeToken,s)),o=o.insert(T,O),function(k,I,B){return k.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=E4?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(A,O,v)&&m.push(t.ai.updateTargetData(l,O))});let g=or(),p=Le();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),m.push(w4(l,h,e.documentUpdates).next(v=>{g=v.xs,p=v.Os})),!s.isEqual(we.min())){const v=t.ai.getLastRemoteSnapshotVersion(l).next(T=>t.ai.setTargetsMetadata(l,l.currentSequenceNumber,s));m.push(v)}return ie.waitFor(m).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,g,p)).next(()=>g)}).then(l=>(t.Ss=o,l))}function w4(i,e,t){let s=Le(),o=Le();return t.forEach(l=>s=s.add(l)),e.getEntries(i,s).next(l=>{let h=or();return t.forEach((m,g)=>{const p=l.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(we.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):fe(cg,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)}),{xs:h,Os:o}})}function R4(i,e){const t=Re(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Jp),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function C4(i,e){const t=Re(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.ai.getTargetData(s,e).next(l=>l?(o=l,ie.resolve(o)):t.ai.allocateTargetId(s).next(h=>(o=new Hr(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.ai.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ss.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(s.targetId,s),t.Ds.set(e,s.targetId)),s})}async function dp(i,e,t){const s=Re(i),o=s.Ss.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!_o(h))throw h;fe(cg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ss=s.Ss.remove(e),s.Ds.delete(o.target)}function I0(i,e,t){const s=Re(i);let o=we.min(),l=Le();return s.persistence.runTransaction("Execute query","readwrite",h=>function(g,p,v){const T=Re(g),A=T.Ds.get(v);return A!==void 0?ie.resolve(T.Ss.get(A)):T.ai.getTargetData(p,v)}(s,h,_i(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(h,m.targetId).next(g=>{l=g})}).next(()=>s.bs.getDocumentsMatchingQuery(h,e,t?o:we.min(),t?l:Le())).next(m=>(I4(s,mN(e),m),{documents:m,Ns:l})))}function I4(i,e,t){let s=i.vs.get(e)||we.min();t.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),i.vs.set(e,s)}class O0{constructor(){this.activeTargetIds=EN()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class O4{constructor(){this.So=new O0,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,s){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new O0,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="ConnectivityMonitor";class D0{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){fe(x0,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){fe(x0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $c=null;function mp(){return $c===null?$c=function(){return 268435456+Math.round(2147483648*Math.random())}():$c++,"0x"+$c.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="RestConnection",D4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class N4{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${s}/databases/${o}`,this.qo=this.databaseId.database===Th?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Qo(e,t,s,o,l){const h=mp(),m=this.$o(e,t.toUriEncodedString());fe(Dm,`Sending RPC '${e}' ${h}:`,m,s);const g={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(g,o,l);const{host:p}=new URL(m),v=ou(p);return this.Ko(e,m,g,s,v).then(T=>(fe(Dm,`Received RPC '${e}' ${h}: `,T),T),T=>{throw io(Dm,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",s),T})}Wo(e,t,s,o,l,h){return this.Qo(e,t,s,o,l)}Uo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),s&&s.headers.forEach((o,l)=>e[l]=o)}$o(e,t){const s=D4[e];return`${this.Lo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class M4 extends N4{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,s,o,l){const h=mp();return new Promise((m,g)=>{const p=new JA;p.setWithCredentials(!0),p.listenOnce(WA.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case rh.NO_ERROR:const T=p.getResponseJson();fe(Wt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case rh.TIMEOUT:fe(Wt,`RPC '${e}' ${h} timed out`),g(new ye(oe.DEADLINE_EXCEEDED,"Request time out"));break;case rh.HTTP_ERROR:const A=p.getStatus();if(fe(Wt,`RPC '${e}' ${h} failed with status:`,A,"response text:",p.getResponseText()),A>0){let O=p.getResponseJson();Array.isArray(O)&&(O=O[0]);const R=O==null?void 0:O.error;if(R&&R.status&&R.message){const k=function(B){const J=B.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(J)>=0?J:oe.UNKNOWN}(R.status);g(new ye(k,R.message))}else g(new ye(oe.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new ye(oe.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{s_:e,streamId:h,o_:p.getLastErrorCode(),__:p.getLastError()})}}finally{fe(Wt,`RPC '${e}' ${h} completed.`)}});const v=JSON.stringify(o);fe(Wt,`RPC '${e}' ${h} sending request:`,o),p.send(t,"POST",v,s,15)})}a_(e,t,s){const o=mp(),l=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=tS(),m=eS(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Uo(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const v=l.join("");fe(Wt,`Creating RPC '${e}' stream ${o}: ${v}`,g);const T=h.createWebChannel(v,g);let A=!1,O=!1;const R=new V4({Go:I=>{O?fe(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,I):(A||(fe(Wt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),A=!0),fe(Wt,`RPC '${e}' stream ${o} sending:`,I),T.send(I))},zo:()=>T.close()}),k=(I,B,J)=>{I.listen(B,q=>{try{J(q)}catch(re){setTimeout(()=>{throw re},0)}})};return k(T,kl.EventType.OPEN,()=>{O||(fe(Wt,`RPC '${e}' stream ${o} transport opened.`),R.t_())}),k(T,kl.EventType.CLOSE,()=>{O||(O=!0,fe(Wt,`RPC '${e}' stream ${o} transport closed`),R.r_())}),k(T,kl.EventType.ERROR,I=>{O||(O=!0,io(Wt,`RPC '${e}' stream ${o} transport errored. Name:`,I.name,"Message:",I.message),R.r_(new ye(oe.UNAVAILABLE,"The operation could not be completed")))}),k(T,kl.EventType.MESSAGE,I=>{var B;if(!O){const J=I.data[0];Ke(!!J,16349);const q=J,re=(q==null?void 0:q.error)||((B=q[0])===null||B===void 0?void 0:B.error);if(re){fe(Wt,`RPC '${e}' stream ${o} received error:`,re);const ee=re.status;let ae=function(C){const M=St[C];if(M!==void 0)return PS(M)}(ee),x=re.message;ae===void 0&&(ae=oe.INTERNAL,x="Unknown error status: "+ee+" with message "+re.message),O=!0,R.r_(new ye(ae,x)),T.close()}else fe(Wt,`RPC '${e}' stream ${o} received:`,J),R.i_(J)}}),k(m,ZA.STAT_EVENT,I=>{I.stat===np.PROXY?fe(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):I.stat===np.NOPROXY&&fe(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{R.n_()},0),R}}function Nm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(i){return new UN(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,t,s=1e3,o=1.5,l=6e4){this.bi=e,this.timerId=t,this.u_=s,this.c_=o,this.l_=l,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),o=Math.max(0,t-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="PersistentStream";class QS{constructor(e,t,s,o,l,h,m,g){this.bi=e,this.R_=s,this.V_=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new XS(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(ar(t.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.m_===t&&this.B_(s,o)},s=>{e(()=>{const o=new ye(oe.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(o)})})}B_(e,t){const s=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{s(()=>this.L_(o))}),this.stream.onMessage(o=>{s(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return fe(N0,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(fe(N0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class P4 extends QS{constructor(e,t,s,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=BN(this.serializer,e),s=function(l){if(!("targetChange"in l))return we.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?we.min():h.readTime?Ti(h.readTime):we.min()}(e);return this.listener.Q_(t,s)}U_(e){const t={};t.database=fp(this.serializer),t.addTarget=function(l,h){let m;const g=h.target;if(m=op(g)?{documents:FN(l,g)}:{query:GN(l,g).gt},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=US(l,h.resumeToken);const p=up(l,h.expectedCount);p!==null&&(m.expectedCount=p)}else if(h.snapshotVersion.compareTo(we.min())>0){m.readTime=Ch(l,h.snapshotVersion.toTimestamp());const p=up(l,h.expectedCount);p!==null&&(m.expectedCount=p)}return m}(this.serializer,e);const s=YN(this.serializer,e);s&&(t.labels=s),this.F_(t)}K_(e){const t={};t.database=fp(this.serializer),t.removeTarget=e,this.F_(t)}}class k4 extends QS{constructor(e,t,s,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=qN(e.writeResults,e.commitTime),s=Ti(e.commitTime);return this.listener.j_(s,t)}H_(){const e={};e.database=fp(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>HN(this.serializer,s))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{}class U4 extends L4{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new ye(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,s,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.Qo(e,cp(t,s),o,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ye(oe.UNKNOWN,l.toString())})}Wo(e,t,s,o,l){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Wo(e,cp(t,s),o,h,m,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ye(oe.UNKNOWN,h.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class j4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(ar(t),this.ea=!1):fe("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="RemoteStore";class z4{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=l,this.ca.vo(h=>{s.enqueueAndForget(async()=>{ea(this)&&(fe(Qs,"Restarting streams for network reachability change."),await async function(g){const p=Re(g);p.aa.add(4),await pu(p),p.la.set("Unknown"),p.aa.delete(4),await sf(p)}(this))})}),this.la=new j4(s,o)}}async function sf(i){if(ea(i))for(const e of i.ua)await e(!0)}async function pu(i){for(const e of i.ua)await e(!1)}function JS(i,e){const t=Re(i);t._a.has(e.targetId)||(t._a.set(e.targetId,e),mg(t)?dg(t):Eo(t).b_()&&fg(t,e))}function hg(i,e){const t=Re(i),s=Eo(t);t._a.delete(e),s.b_()&&WS(t,e),t._a.size===0&&(s.b_()?s.v_():ea(t)&&t.la.set("Unknown"))}function fg(i,e){if(i.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Eo(i).U_(e)}function WS(i,e){i.ha.Ke(e),Eo(i).K_(e)}function dg(i){i.ha=new MN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>i._a.get(e)||null,Pt:()=>i.datastore.serializer.databaseId}),Eo(i).start(),i.la.ta()}function mg(i){return ea(i)&&!Eo(i).w_()&&i._a.size>0}function ea(i){return Re(i).aa.size===0}function ZS(i){i.ha=void 0}async function B4(i){i.la.set("Online")}async function H4(i){i._a.forEach((e,t)=>{fg(i,e)})}async function q4(i,e){ZS(i),mg(i)?(i.la.ia(e),dg(i)):i.la.set("Unknown")}async function F4(i,e,t){if(i.la.set("Online"),e instanceof LS&&e.state===2&&e.cause)try{await async function(o,l){const h=l.cause;for(const m of l.targetIds)o._a.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o._a.delete(m),o.ha.removeTarget(m))}(i,e)}catch(s){fe(Qs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Oh(i,s)}else if(e instanceof lh?i.ha.Xe(e):e instanceof kS?i.ha.ot(e):i.ha.nt(e),!t.isEqual(we.min()))try{const s=await $S(i.localStore);t.compareTo(s)>=0&&await function(l,h){const m=l.ha.It(h);return m.targetChanges.forEach((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const v=l._a.get(p);v&&l._a.set(p,v.withResumeToken(g.resumeToken,h))}}),m.targetMismatches.forEach((g,p)=>{const v=l._a.get(g);if(!v)return;l._a.set(g,v.withResumeToken(Yt.EMPTY_BYTE_STRING,v.snapshotVersion)),WS(l,g);const T=new Hr(v.target,g,p,v.sequenceNumber);fg(l,T)}),l.remoteSyncer.applyRemoteEvent(m)}(i,t)}catch(s){fe(Qs,"Failed to raise snapshot:",s),await Oh(i,s)}}async function Oh(i,e,t){if(!_o(e))throw e;i.aa.add(1),await pu(i),i.la.set("Offline"),t||(t=()=>$S(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{fe(Qs,"Retrying IndexedDB access"),await t(),i.aa.delete(1),await sf(i)})}function eb(i,e){return e().catch(t=>Oh(i,t,e))}async function af(i){const e=Re(i),t=Wr(e);let s=e.oa.length>0?e.oa[e.oa.length-1].batchId:Jp;for(;G4(e);)try{const o=await R4(e.localStore,s);if(o===null){e.oa.length===0&&t.v_();break}s=o.batchId,K4(e,o)}catch(o){await Oh(e,o)}tb(e)&&nb(e)}function G4(i){return ea(i)&&i.oa.length<10}function K4(i,e){i.oa.push(e);const t=Wr(i);t.b_()&&t.W_&&t.G_(e.mutations)}function tb(i){return ea(i)&&!Wr(i).w_()&&i.oa.length>0}function nb(i){Wr(i).start()}async function Y4(i){Wr(i).H_()}async function $4(i){const e=Wr(i);for(const t of i.oa)e.G_(t.mutations)}async function X4(i,e,t){const s=i.oa.shift(),o=rg.from(s,e,t);await eb(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await af(i)}async function Q4(i,e){e&&Wr(i).W_&&await async function(s,o){if(function(h){return NN(h)&&h!==oe.ABORTED}(o.code)){const l=s.oa.shift();Wr(s).D_(),await eb(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await af(s)}}(i,e),tb(i)&&nb(i)}async function V0(i,e){const t=Re(i);t.asyncQueue.verifyOperationInProgress(),fe(Qs,"RemoteStore received new credentials");const s=ea(t);t.aa.add(3),await pu(t),s&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await sf(t)}async function J4(i,e){const t=Re(i);e?(t.aa.delete(2),await sf(t)):e||(t.aa.add(2),await pu(t),t.la.set("Unknown"))}function Eo(i){return i.Pa||(i.Pa=function(t,s,o){const l=Re(t);return l.Y_(),new P4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(i.datastore,i.asyncQueue,{jo:B4.bind(null,i),Jo:H4.bind(null,i),Zo:q4.bind(null,i),Q_:F4.bind(null,i)}),i.ua.push(async e=>{e?(i.Pa.D_(),mg(i)?dg(i):i.la.set("Unknown")):(await i.Pa.stop(),ZS(i))})),i.Pa}function Wr(i){return i.Ta||(i.Ta=function(t,s,o){const l=Re(t);return l.Y_(),new k4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(i.datastore,i.asyncQueue,{jo:()=>Promise.resolve(),Jo:Y4.bind(null,i),Zo:Q4.bind(null,i),z_:$4.bind(null,i),j_:X4.bind(null,i)}),i.ua.push(async e=>{e?(i.Ta.D_(),await af(i)):(await i.Ta.stop(),i.oa.length>0&&(fe(Qs,`Stopping write stream with ${i.oa.length} pending writes`),i.oa=[]))})),i.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new Yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const h=Date.now()+s,m=new pg(e,t,h,o,l);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gg(i,e){if(ar("AsyncQueue",`${e}: ${i}`),_o(i))return new ye(oe.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{static emptySet(e){return new eo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||_e.comparator(t.key,s.key):(t,s)=>_e.comparator(t.key,s.key),this.keyedMap=Ll(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof eo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new eo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(){this.Ia=new ct(_e.comparator)}track(e){const t=e.doc.key,s=this.Ia.get(t);s?e.type!==0&&s.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&s.type!==1?this.Ia=this.Ia.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Ia=this.Ia.remove(t):e.type===1&&s.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Ae(63341,{Vt:e,Ea:s}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,s)=>{e.push(s)}),e}}class lo{constructor(e,t,s,o,l,h,m,g,p){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,t,s,o,l){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new lo(e,t,eo.emptySet(t),h,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class Z4{constructor(){this.queries=P0(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,s){const o=Re(t),l=o.queries;o.queries=P0(),l.forEach((h,m)=>{for(const g of m.Ra)g.onError(s)})})(this,new ye(oe.ABORTED,"Firestore shutting down"))}}function P0(){return new Zs(i=>AS(i),Wh)}async function eV(i,e){const t=Re(i);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.Va()&&e.ma()&&(s=2):(l=new W4,s=e.ma()?0:1);try{switch(s){case 0:l.Aa=await t.onListen(o,!0);break;case 1:l.Aa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const m=gg(h,`Initialization of query '${$a(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,l),l.Ra.push(e),e.ga(t.onlineState),l.Aa&&e.pa(l.Aa)&&yg(t)}async function tV(i,e){const t=Re(i),s=e.query;let o=3;const l=t.queries.get(s);if(l){const h=l.Ra.indexOf(e);h>=0&&(l.Ra.splice(h,1),l.Ra.length===0?o=e.ma()?0:1:!l.Va()&&e.ma()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function nV(i,e){const t=Re(i);let s=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const m of h.Ra)m.pa(o)&&(s=!0);h.Aa=o}}s&&yg(t)}function iV(i,e,t){const s=Re(i),o=s.queries.get(e);if(o)for(const l of o.Ra)l.onError(t);s.queries.delete(e)}function yg(i){i.fa.forEach(e=>{e.next()})}var pp,k0;(k0=pp||(pp={})).ya="default",k0.Cache="cache";class rV{constructor(e,t,s){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new lo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const s=t!=="Offline";return(!this.options.Fa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=lo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==pp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e){this.key=e}}class rb{constructor(e){this.key=e}}class sV{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Le(),this.mutatedKeys=Le(),this.Ua=SS(e),this.Ka=new eo(this.Ua)}get Wa(){return this.qa}Ga(e,t){const s=t?t.za:new M0,o=t?t.Ka:this.Ka;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,T)=>{const A=o.get(v),O=Zh(this.query,T)?T:null,R=!!A&&this.mutatedKeys.has(A.key),k=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let I=!1;A&&O?A.data.isEqual(O.data)?R!==k&&(s.track({type:3,doc:O}),I=!0):this.ja(A,O)||(s.track({type:2,doc:O}),I=!0,(g&&this.Ua(O,g)>0||p&&this.Ua(O,p)<0)&&(m=!0)):!A&&O?(s.track({type:0,doc:O}),I=!0):A&&!O&&(s.track({type:1,doc:A}),I=!0,(g||p)&&(m=!0)),I&&(O?(h=h.add(O),l=k?l.add(v):l.delete(v)):(h=h.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{Ka:h,za:s,ys:m,mutatedKeys:l}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const h=e.za.da();h.sort((v,T)=>function(O,R){const k=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Vt:I})}};return k(O)-k(R)}(v.type,T.type)||this.Ua(v.doc,T.doc)),this.Ha(s),o=o!=null&&o;const m=t&&!o?this.Ja():[],g=this.$a.size===0&&this.current&&!o?1:0,p=g!==this.Qa;return this.Qa=g,h.length!==0||p?{snapshot:new lo(this.query,e.Ka,l,h,e.mutatedKeys,g===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:m}:{Ya:m}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new M0,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Le(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const t=[];return e.forEach(s=>{this.$a.has(s)||t.push(new rb(s))}),this.$a.forEach(s=>{e.has(s)||t.push(new ib(s))}),t}Xa(e){this.qa=e.Ns,this.$a=Le();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return lo.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const vg="SyncEngine";class aV{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class oV{constructor(e){this.key=e,this.tu=!1}}class lV{constructor(e,t,s,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.nu={},this.ru=new Zs(m=>AS(m),Wh),this.iu=new Map,this.su=new Set,this.ou=new ct(_e.comparator),this._u=new Map,this.au=new og,this.uu={},this.cu=new Map,this.lu=oo.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function uV(i,e,t=!0){const s=cb(i);let o;const l=s.ru.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.eu()):o=await sb(s,e,t,!0),o}async function cV(i,e){const t=cb(i);await sb(t,e,!0,!1)}async function sb(i,e,t,s){const o=await C4(i.localStore,_i(e)),l=o.targetId,h=i.sharedClientState.addLocalQueryTarget(l,t);let m;return s&&(m=await hV(i,e,l,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&JS(i.remoteStore,o),m}async function hV(i,e,t,s,o){i.Pu=(T,A,O)=>async function(k,I,B,J){let q=I.view.Ga(B);q.ys&&(q=await I0(k.localStore,I.query,!1).then(({documents:x})=>I.view.Ga(x,q)));const re=J&&J.targetChanges.get(I.targetId),ee=J&&J.targetMismatches.get(I.targetId)!=null,ae=I.view.applyChanges(q,k.isPrimaryClient,re,ee);return U0(k,I.targetId,ae.Ya),ae.snapshot}(i,T,A,O);const l=await I0(i.localStore,e,!0),h=new sV(e,l.Ns),m=h.Ga(l.documents),g=mu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),p=h.applyChanges(m,i.isPrimaryClient,g);U0(i,t,p.Ya);const v=new aV(e,t,h);return i.ru.set(e,v),i.iu.has(t)?i.iu.get(t).push(e):i.iu.set(t,[e]),p.snapshot}async function fV(i,e,t){const s=Re(i),o=s.ru.get(e),l=s.iu.get(o.targetId);if(l.length>1)return s.iu.set(o.targetId,l.filter(h=>!Wh(h,e))),void s.ru.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await dp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&hg(s.remoteStore,o.targetId),gp(s,o.targetId)}).catch(vo)):(gp(s,o.targetId),await dp(s.localStore,o.targetId,!0))}async function dV(i,e){const t=Re(i),s=t.ru.get(e),o=t.iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),hg(t.remoteStore,s.targetId))}async function mV(i,e,t){const s=TV(i);try{const o=await function(h,m){const g=Re(h),p=xt.now(),v=m.reduce((O,R)=>O.add(R.key),Le());let T,A;return g.persistence.runTransaction("Locally write mutations","readwrite",O=>{let R=or(),k=Le();return g.Cs.getEntries(O,v).next(I=>{R=I,R.forEach((B,J)=>{J.isValidDocument()||(k=k.add(B))})}).next(()=>g.localDocuments.getOverlayedDocuments(O,R)).next(I=>{T=I;const B=[];for(const J of m){const q=CN(J,T.get(J.key).overlayedDocument);q!=null&&B.push(new ts(J.key,q,pS(q.value.mapValue),Ei.exists(!0)))}return g.mutationQueue.addMutationBatch(O,p,B,m)}).next(I=>{A=I;const B=I.applyToLocalDocumentSet(T,k);return g.documentOverlayCache.saveOverlays(O,I.batchId,B)})}).then(()=>({batchId:A.batchId,changes:wS(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,g){let p=h.uu[h.currentUser.toKey()];p||(p=new ct(xe)),p=p.insert(m,g),h.uu[h.currentUser.toKey()]=p}(s,o.batchId,t),await gu(s,o.changes),await af(s.remoteStore)}catch(o){const l=gg(o,"Failed to persist write");t.reject(l)}}async function ab(i,e){const t=Re(i);try{const s=await b4(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t._u.get(l);h&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.tu=!0:o.modifiedDocuments.size>0?Ke(h.tu,14607):o.removedDocuments.size>0&&(Ke(h.tu,42227),h.tu=!1))}),await gu(t,s,e)}catch(s){await vo(s)}}function L0(i,e,t){const s=Re(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ru.forEach((l,h)=>{const m=h.view.ga(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const g=Re(h);g.onlineState=m;let p=!1;g.queries.forEach((v,T)=>{for(const A of T.Ra)A.ga(m)&&(p=!0)}),p&&yg(g)}(s.eventManager,e),o.length&&s.nu.Q_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function pV(i,e,t){const s=Re(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s._u.get(e),l=o&&o.key;if(l){let h=new ct(_e.comparator);h=h.insert(l,tn.newNoDocument(l,we.min()));const m=Le().add(l),g=new nf(we.min(),new Map,new ct(xe),h,m);await ab(s,g),s.ou=s.ou.remove(l),s._u.delete(e),_g(s)}else await dp(s.localStore,e,!1).then(()=>gp(s,e,t)).catch(vo)}async function gV(i,e){const t=Re(i),s=e.batch.batchId;try{const o=await S4(t.localStore,e);lb(t,s,null),ob(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await gu(t,o)}catch(o){await vo(o)}}async function yV(i,e,t){const s=Re(i);try{const o=await function(h,m){const g=Re(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return g.mutationQueue.lookupMutationBatch(p,m).next(T=>(Ke(T!==null,37113),v=T.keys(),g.mutationQueue.removeMutationBatch(p,T))).next(()=>g.mutationQueue.performConsistencyCheck(p)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(p,v,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>g.localDocuments.getDocuments(p,v))})}(s.localStore,e);lb(s,e,t),ob(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await gu(s,o)}catch(o){await vo(o)}}function ob(i,e){(i.cu.get(e)||[]).forEach(t=>{t.resolve()}),i.cu.delete(e)}function lb(i,e,t){const s=Re(i);let o=s.uu[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.uu[s.currentUser.toKey()]=o}}function gp(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.iu.get(e))i.ru.delete(s),t&&i.nu.Tu(s,t);i.iu.delete(e),i.isPrimaryClient&&i.au.Ur(e).forEach(s=>{i.au.containsKey(s)||ub(i,s)})}function ub(i,e){i.su.delete(e.path.canonicalString());const t=i.ou.get(e);t!==null&&(hg(i.remoteStore,t),i.ou=i.ou.remove(e),i._u.delete(t),_g(i))}function U0(i,e,t){for(const s of t)s instanceof ib?(i.au.addReference(s.key,e),vV(i,s)):s instanceof rb?(fe(vg,"Document no longer in limbo: "+s.key),i.au.removeReference(s.key,e),i.au.containsKey(s.key)||ub(i,s.key)):Ae(19791,{Iu:s})}function vV(i,e){const t=e.key,s=t.path.canonicalString();i.ou.get(t)||i.su.has(s)||(fe(vg,"New document in limbo: "+t),i.su.add(s),_g(i))}function _g(i){for(;i.su.size>0&&i.ou.size<i.maxConcurrentLimboResolutions;){const e=i.su.values().next().value;i.su.delete(e);const t=new _e(mt.fromString(e)),s=i.lu.next();i._u.set(s,new oV(t)),i.ou=i.ou.insert(t,s),JS(i.remoteStore,new Hr(_i(ng(t.path)),s,"TargetPurposeLimboResolution",$h.le))}}async function gu(i,e,t){const s=Re(i),o=[],l=[],h=[];s.ru.isEmpty()||(s.ru.forEach((m,g)=>{h.push(s.Pu(g,e,t).then(p=>{var v;if((p||t)&&s.isPrimaryClient){const T=p?!p.fromCache:(v=t==null?void 0:t.targetChanges.get(g.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(p){o.push(p);const T=ug.Ps(g.targetId,p);l.push(T)}}))}),await Promise.all(h),s.nu.Q_(o),await async function(g,p){const v=Re(g);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ie.forEach(p,A=>ie.forEach(A.ls,O=>v.persistence.referenceDelegate.addReference(T,A.targetId,O)).next(()=>ie.forEach(A.hs,O=>v.persistence.referenceDelegate.removeReference(T,A.targetId,O)))))}catch(T){if(!_o(T))throw T;fe(cg,"Failed to update sequence numbers: "+T)}for(const T of p){const A=T.targetId;if(!T.fromCache){const O=v.Ss.get(A),R=O.snapshotVersion,k=O.withLastLimboFreeSnapshotVersion(R);v.Ss=v.Ss.insert(A,k)}}}(s.localStore,l))}async function _V(i,e){const t=Re(i);if(!t.currentUser.isEqual(e)){fe(vg,"User change. New user:",e.toKey());const s=await YS(t.localStore,e);t.currentUser=e,function(l,h){l.cu.forEach(m=>{m.forEach(g=>{g.reject(new ye(oe.CANCELLED,h))})}),l.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await gu(t,s.Ms)}}function EV(i,e){const t=Re(i),s=t._u.get(e);if(s&&s.tu)return Le().add(s.key);{let o=Le();const l=t.iu.get(e);if(!l)return o;for(const h of l){const m=t.ru.get(h);o=o.unionWith(m.view.Wa)}return o}}function cb(i){const e=Re(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=ab.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pV.bind(null,e),e.nu.Q_=nV.bind(null,e.eventManager),e.nu.Tu=iV.bind(null,e.eventManager),e}function TV(i){const e=Re(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yV.bind(null,e),e}class xh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rf(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return A4(this.persistence,new _4,e.initialUser,this.serializer)}Ru(e){return new KS(lg.Ei,this.serializer)}Au(e){return new O4}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xh.provider={build:()=>new xh};class AV extends xh{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){Ke(this.persistence.referenceDelegate instanceof Ih,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new r4(s,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new KS(s=>Ih.Ei(s,t),this.serializer)}}class yp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>L0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=_V.bind(null,this.syncEngine),await J4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Z4}()}createDatastore(e){const t=rf(e.databaseInfo.databaseId),s=function(l){return new M4(l)}(e.databaseInfo);return function(l,h,m,g){return new U4(l,h,m,g)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,l,h,m){return new z4(s,o,l,h,m)}(this.localStore,this.datastore,e.asyncQueue,t=>L0(this.syncEngine,t,0),function(){return D0.C()?new D0:new x4}())}createSyncEngine(e,t){return function(o,l,h,m,g,p,v){const T=new lV(o,l,h,m,g,p);return v&&(T.hu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Re(o);fe(Qs,"RemoteStore shutting down."),l.aa.add(5),await pu(l),l.ca.shutdown(),l.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}yp.provider={build:()=>new yp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):ar("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="FirestoreClient";class bV{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=sS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async h=>{fe(Zr,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(fe(Zr,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=gg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Vm(i,e){i.asyncQueue.verifyOperationInProgress(),fe(Zr,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await YS(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function j0(i,e){i.asyncQueue.verifyOperationInProgress();const t=await wV(i);fe(Zr,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>V0(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>V0(e.remoteStore,o)),i._onlineComponents=e}async function wV(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){fe(Zr,"Using user provided OfflineComponentProvider");try{await Vm(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===oe.FAILED_PRECONDITION||o.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;io("Error using user provided cache. Falling back to memory cache: "+t),await Vm(i,new xh)}}else fe(Zr,"Using default OfflineComponentProvider"),await Vm(i,new AV(void 0));return i._offlineComponents}async function hb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(fe(Zr,"Using user provided OnlineComponentProvider"),await j0(i,i._uninitializedComponentsProvider._online)):(fe(Zr,"Using default OnlineComponentProvider"),await j0(i,new yp))),i._onlineComponents}function RV(i){return hb(i).then(e=>e.syncEngine)}async function CV(i){const e=await hb(i),t=e.eventManager;return t.onListen=uV.bind(null,e.syncEngine),t.onUnlisten=fV.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=cV.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=dV.bind(null,e.syncEngine),t}function IV(i,e,t={}){const s=new Yr;return i.asyncQueue.enqueueAndForget(async()=>function(l,h,m,g,p){const v=new SV({next:A=>{v.yu(),h.enqueueAndForget(()=>tV(l,T));const O=A.docs.has(m);!O&&A.fromCache?p.reject(new ye(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&A.fromCache&&g&&g.source==="server"?p.reject(new ye(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(A)},error:A=>p.reject(A)}),T=new rV(ng(m.path),v,{includeMetadataChanges:!0,Fa:!0});return eV(l,T)}(await CV(i),i.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OV(i,e,t){if(!t)throw new ye(oe.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function xV(i,e,t,s){if(e===!0&&s===!0)throw new ye(oe.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function B0(i){if(!_e.isDocumentKey(i))throw new ye(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Eg(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ae(12329,{type:typeof i})}function Js(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ye(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Eg(i);throw new ye(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="firestore.googleapis.com",H0=!0;class q0{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=db,this.ssl=H0}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:H0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=GS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<n4)throw new ye(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fb((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ye(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ye(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ye(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tg{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new q0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new q0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new ND;switch(s.type){case"firstParty":return new kD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ye(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,qh("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=z0.get(t);s&&(fe("ComponentProvider","Removing Datastore"),z0.delete(t),s.terminate())}(this),Promise.resolve()}}function DV(i,e,t,s={}){var o;i=Js(i,Tg);const l=ou(e),h=i._getSettings(),m=Object.assign(Object.assign({},h),{emulatorOptions:i._getEmulatorOptions()}),g=`${e}:${t}`;h.host!==db&&h.host!==g&&io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},h),{host:g,ssl:l,emulatorOptions:s});if(!Ks(p,m)&&(i._setSettings(p),l&&(fA(`https://${g}`),qh("Firestore",!0)),s.mockUserToken)){let v,T;if(typeof s.mockUserToken=="string")v=s.mockUserToken,T=en.MOCK_USER;else{v=r2(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new ye(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new en(A)}i._authCredentials=new VD(new iS(v,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ag(this.firestore,e,this._query)}}class Cn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Cn(this.firestore,e,this._key)}}class tu extends Ag{constructor(e,t,s){super(e,t,ng(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Cn(this.firestore,null,new _e(e))}withConverter(e){return new tu(this.firestore,e,this._path)}}function Sg(i,e,...t){if(i=un(i),arguments.length===1&&(e=sS.newId()),OV("doc","path",e),i instanceof Tg){const s=mt.fromString(e,...t);return B0(s),new Cn(i,null,new _e(s))}{if(!(i instanceof Cn||i instanceof tu))throw new ye(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(mt.fromString(e,...t));return B0(s),new Cn(i.firestore,i instanceof tu?i.converter:null,new _e(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="AsyncQueue";class G0{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new XS(this,"async_queue_retry"),this.ju=()=>{const s=Nm();s&&fe(F0,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=e;const t=Nm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=Nm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new Yr;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!_o(e))throw e;fe(F0,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(s=>{throw this.Ku=s,this.Wu=!1,ar("INTERNAL UNHANDLED ERROR: ",K0(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=t,t}enqueueAfterDelay(e,t,s){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const o=pg.createAndSchedule(this,e,t,s,l=>this.Xu(l));return this.Uu.push(o),o}Ju(){this.Ku&&Ae(47125,{ec:K0(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function K0(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class of extends Tg{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new G0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new G0(e),this._firestoreClient=void 0,await e}}}function NV(i,e){const t=typeof i=="object"?i:gA(),s=typeof i=="string"?i:Th,o=Up(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=n2("firestore");l&&DV(o,...l)}return o}function mb(i){if(i._terminated)throw new ye(oe.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||VV(i),i._firestoreClient}function VV(i){var e,t,s;const o=i._freezeSettings(),l=function(m,g,p,v){return new JD(m,g,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,fb(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new bV(i._authCredentials,i._appCheckCredentials,i._queue,l,i._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new uo(Yt.fromBase64String(e))}catch(t){throw new ye(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new uo(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ye(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ye(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ye(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV=/^__.*__$/;class PV{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new ts(e,this.data,this.fieldMask,t,this.fieldTransforms):new du(e,this.data,t,this.fieldTransforms)}}class pb{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new ts(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function gb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{oc:i})}}class Cg{constructor(e,t,s,o,l,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this._c(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Cg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ac({path:s,cc:!1});return o.lc(e),o}hc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ac({path:s,cc:!1});return o._c(),o}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Dh(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(gb(this.oc)&&MV.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class kV{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||rf(e)}dc(e,t,s,o=!1){return new Cg({oc:e,methodName:t,Ec:s,path:Kt.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yb(i){const e=i._freezeSettings(),t=rf(i._databaseId);return new kV(i._databaseId,!!e.ignoreUndefinedProperties,t)}function LV(i,e,t,s,o,l={}){const h=i.dc(l.merge||l.mergeFields?2:0,e,t,o);Ig("Data must be an object, but it was:",h,s);const m=vb(s,h);let g,p;if(l.merge)g=new Rn(h.fieldMask),p=h.fieldTransforms;else if(l.mergeFields){const v=[];for(const T of l.mergeFields){const A=vp(e,T,t);if(!h.contains(A))throw new ye(oe.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);Eb(v,A)||v.push(A)}g=new Rn(v),p=h.fieldTransforms.filter(T=>g.covers(T.field))}else g=null,p=h.fieldTransforms;return new PV(new mn(m),g,p)}class uf extends bg{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof uf}}function UV(i,e,t,s){const o=i.dc(1,e,t);Ig("Data must be an object, but it was:",o,s);const l=[],h=mn.empty();es(s,(g,p)=>{const v=Og(e,g,t);p=un(p);const T=o.hc(v);if(p instanceof uf)l.push(v);else{const A=cf(p,T);A!=null&&(l.push(v),h.set(v,A))}});const m=new Rn(l);return new pb(h,m,o.fieldTransforms)}function jV(i,e,t,s,o,l){const h=i.dc(1,e,t),m=[vp(e,s,t)],g=[o];if(l.length%2!=0)throw new ye(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<l.length;A+=2)m.push(vp(e,l[A])),g.push(l[A+1]);const p=[],v=mn.empty();for(let A=m.length-1;A>=0;--A)if(!Eb(p,m[A])){const O=m[A];let R=g[A];R=un(R);const k=h.hc(O);if(R instanceof uf)p.push(O);else{const I=cf(R,k);I!=null&&(p.push(O),v.set(O,I))}}const T=new Rn(p);return new pb(v,T,h.fieldTransforms)}function cf(i,e){if(_b(i=un(i)))return Ig("Unsupported field value:",e,i),vb(i,e);if(i instanceof bg)return function(s,o){if(!gb(o.oc))throw o.Tc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(s,o){const l=[];let h=0;for(const m of s){let g=cf(m,o.Pc(h));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),h++}return{arrayValue:{values:l}}}(i,e)}return function(s,o){if((s=un(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return TN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=xt.fromDate(s);return{timestampValue:Ch(o.serializer,l)}}if(s instanceof xt){const l=new xt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ch(o.serializer,l)}}if(s instanceof wg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof uo)return{bytesValue:US(o.serializer,s._byteString)};if(s instanceof Cn){const l=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(l))throw o.Tc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ag(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Rg)return function(h,m){return{mapValue:{fields:{[dS]:{stringValue:mS},[Ah]:{arrayValue:{values:h.toArray().map(p=>{if(typeof p!="number")throw m.Tc("VectorValues must only contain numeric values.");return ig(m.serializer,p)})}}}}}}(s,o);throw o.Tc(`Unsupported field value: ${Eg(s)}`)}(i,e)}function vb(i,e){const t={};return oS(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):es(i,(s,o)=>{const l=cf(o,e.uc(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function _b(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof xt||i instanceof wg||i instanceof uo||i instanceof Cn||i instanceof bg||i instanceof Rg)}function Ig(i,e,t){if(!_b(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=Eg(t);throw s==="an object"?e.Tc(i+" a custom object"):e.Tc(i+" "+s)}}function vp(i,e,t){if((e=un(e))instanceof lf)return e._internalPath;if(typeof e=="string")return Og(i,e);throw Dh("Field path arguments must be of type string or ",i,!1,void 0,t)}const zV=new RegExp("[~\\*/\\[\\]]");function Og(i,e,t){if(e.search(zV)>=0)throw Dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new lf(...e.split("."))._internalPath}catch{throw Dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Dh(i,e,t,s,o){const l=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(l||h)&&(g+=" (found",l&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new ye(oe.INVALID_ARGUMENT,m+i+g)}function Eb(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ab("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class BV extends Tb{data(){return super.data()}}function Ab(i,e){return typeof e=="string"?Og(i,e):e instanceof lf?e._internalPath:e._delegate._internalPath}class HV{convertValue(e,t="none"){switch(Jr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Qr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return es(e,(o,l)=>{s[o]=this.convertValue(l,t)}),s}convertVectorValue(e){var t,s,o;const l=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Ah].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>vt(h.doubleValue));return new Rg(l)}convertGeoPoint(e){return new wg(vt(e.latitude),vt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Qh(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Ql(e));default:return null}}convertTimestamp(e){const t=Xr(e);return new xt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=mt.fromString(e);Ke(FS(s),9688,{name:e});const o=new Jl(s.get(1),s.get(3)),l=new _e(s.popFirst(5));return o.isEqual(t)||ar(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qV(i,e,t){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sb extends Tb{constructor(e,t,s,o,l,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new GV(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Ab("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class GV extends Sb{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(i){i=Js(i,Cn);const e=Js(i.firestore,of);return IV(mb(e),i._key).then(t=>YV(e,i,t))}class KV extends HV{constructor(e){super(),this.firestore=e}convertBytes(e){return new uo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Cn(this.firestore,null,t)}}function bb(i,e,t){i=Js(i,Cn);const s=Js(i.firestore,of),o=qV(i.converter,e);return Rb(s,[LV(yb(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,Ei.none())])}function wb(i,e,t,...s){i=Js(i,Cn);const o=Js(i.firestore,of),l=yb(o);let h;return h=typeof(e=un(e))=="string"||e instanceof lf?jV(l,"updateDoc",i._key,e,t,s):UV(l,"updateDoc",i._key,e),Rb(o,[h.toMutation(i._key,Ei.exists(!0))])}function Rb(i,e){return function(s,o){const l=new Yr;return s.asyncQueue.enqueueAndForget(async()=>mV(await RV(s),o,l)),l.promise}(mb(i),e)}function YV(i,e,t){const s=t.docs.get(e._key),o=new KV(i);return new Sb(i,o,e._key,s,new FV(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){yo=o})(po),to(new Ys("firestore",(s,{instanceIdentifier:o,options:l})=>{const h=s.getProvider("app").getImmediate(),m=new of(new MD(s.getProvider("auth-internal")),new LD(h,s.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ye(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jl(p.options.projectId,v)}(h,o),h);return l=Object.assign({useFetchStreams:t},l),m._setSettings(l),m},"PUBLIC").setMultipleInstances(!0)),Gr(WE,ZE,e),Gr(WE,ZE,"esm2017")})();const $V={apiKey:"AIzaSyCaOXVQBInbDeEjRi_Lh9wNMDAUbzr5haI",authDomain:"pokemusic-66466.firebaseapp.com",projectId:"pokemusic-66466",storageBucket:"pokemusic-66466.firebasestorage.app",messagingSenderId:"314396825718",appId:void 0},Cb=pA($V),yu=XA(Cb),Dg=NV(Cb);async function XV(i){const e=Sg(Dg,"users",i),t=await xg(e);return console.log(t),t.exists()}function To(){const[i,e]=j.useState(null),[t,s]=j.useState(!0);return j.useEffect(()=>Gh(yu,l=>{e(l),s(!1)}),[]),{user:i,loading:t}}function QV(){const{user:i,loading:e}=To(),t=Bn();Qe.useEffect(()=>{e||t(i?"/dashboard":"/login")},[i,e,t]);const s=async()=>{const o=new Zi;try{await zx(yu,o)}catch(l){console.error(l)}};return e?N.jsx("div",{children:"Loading..."}):N.jsx("div",{children:N.jsx("button",{onClick:s,children:"Login with Google"})})}const Y0="c064b73182fe4b309592c4d6a2c10f26",Mm="https://pokemusic-66466.web.app/choose-username";function JV(i){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=window.crypto.getRandomValues(new Uint32Array(i));return Array.from(t).map(s=>e[s%e.length]).join("")}async function WV(i){const e=await window.crypto.subtle.digest("SHA-256",new TextEncoder().encode(i));return btoa(String.fromCharCode(...new Uint8Array(e))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function Ao(){const[i,e]=j.useState(()=>localStorage.getItem("spotify_token")),t=j.useCallback(async()=>{const s=JV(128),o=await WV(s);localStorage.setItem("spotify_code_verifier",s);const l=new URLSearchParams({client_id:Y0,response_type:"code",redirect_uri:Mm,code_challenge_method:"S256",code_challenge:o,scope:"user-read-email playlist-read-private user-top-read user-read-recently-played playlist-read-collaborative user-follow-read user-follow-modify"});window.location.href=`https://accounts.spotify.com/authorize?${l}`},[]);return j.useEffect(()=>{const o=new URLSearchParams(window.location.search).get("code"),l=localStorage.getItem("spotify_code_verifier");o&&l&&(async()=>{var h;try{const m=new URLSearchParams({grant_type:"authorization_code",code:o,redirect_uri:Mm,client_id:Y0,code_verifier:l}),{data:g}=await Ve.post("https://accounts.spotify.com/api/token",m),p=g.access_token;localStorage.setItem("spotify_token",p),e(p);const v=await Ve.get("https://api.spotify.com/v1/me",{headers:{Authorization:`Bearer ${p}`}}),T=v.data.id;Gh(yu,async A=>{if(!A)return;const O=Sg(Dg,"users",A.uid),R=await xg(O),k={spotifyId:T,spotifyToken:p,spotifyName:v.data.display_name,linkedAt:new Date};R.exists()?await wb(O,k):await bb(O,{username:"",...k})}),window.history.replaceState({},document.title,Mm)}catch(m){console.error("Error Spotify token:",m),((h=m.response)==null?void 0:h.status)===401&&(localStorage.removeItem("spotify_token"),t())}})()},[t]),{token:i,login:t}}const ZV="/assets/gengar-CV58Ev6d.gif",eM="/assets/pokebutton-gwRWC3kt.png";function Pm(){const i=Bn(),{user:e,loading:t}=To(),{token:s,login:o}=Ao();return t?N.jsx("p",{className:"text-center mt-5",children:"Cargando…"}):!!e&&!!s?N.jsx(zm,{fluid:!0,className:"home-container",children:N.jsx(MT,{className:"home-row",children:N.jsx(wT,{md:{span:8,offset:2},children:N.jsxs("div",{className:"welcome-box d-flex align-items-center justify-content-between",children:[N.jsxs("div",{children:[N.jsx("h1",{className:"welcome-text typing-container",children:"Bienvenido al cuartel del Equipo Rocket"}),N.jsx("p",{className:"welcome-subtext ",children:"¡Prepárate para capturar toda la música!"}),N.jsx("div",{className:"loader pokeball-loader",children:N.jsx(jm,{variant:"link",onClick:()=>i("/dashboard"),className:"pokeball-btn mt-3",children:N.jsx("img",{src:eM,alt:"Ir al Dashboard"})})})]}),N.jsx(aE,{className:"gengar-card",children:N.jsx(aE.Img,{className:"gengar-img",src:ZV,alt:"Gengar animado"})})]})})})}):N.jsxs(zm,{fluid:!0,className:"home-container",children:[N.jsx("h1",{children:"Bienvenido a RocketMusic"}),N.jsx("p",{children:"Inicia sesión para explorar y empezar a escuchar música."}),N.jsx(jm,{variant:"primary",onClick:o,className:"mt-3",children:"Iniciar sesión con Spotify"})]})}const tM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAArwAAAK8CAMAAAA6ZJxxAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAC1QTFRF////AAAAFhYWyqNVWTwPahduSgBfdg+J9ueUfwC0KRgAsFog/5VOTTIFZUYT1+V+XAAAAAF0Uk5TAEDm2GYAAAymSURBVHic7d3bchu5GYVRzfgUTyZ5/8dNRZUSGNdvEM0GmtjUWpds4eivr1iS394AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYJI/Cs/eEwwRL7HESyzxEku8xBIvscRLLPESS7zEEi9hWqh/fhAvEcRLLPESS7zEEi+xxEss8RJLvMQSL7HESyzxEku8xBIvscRLLPESS7zEEi+xxEss8RJLvMSq4pUxEcRLLPESS7zEEi+xxEss8RJLvMQSL7HES5h+suJlY+IllniJJV5iiZdY4iWWeIklXmKJl1jiJcxosuJlO+IllniJJV5iiZdY4iWWeIklXmKJl1jiJZZ4iSVeYomXWOIllniJJV5iiZdY4iWWeIklXmKNxitZtiNeYomXWOIllniJJV5iiZdY4iWWeIklXsJUyX4piJftiJdY4iWWeIklXmKJl1jiJZZ4iSVeYomXWC3FKtmKeNmEeIklXmKJl1jiJZZ4iSVeYomXWOIllniJ9fXDaLxNG/vsU/ApiZdY4iWWeIklXmKJl1jiJZZ4iSVeYomXWM+K9+th889OOPESS7zEEi+xxEss8RJLvMQSL7HESyzxEmt2vKMpnlnNr4DyTrzEEi+xxEss8RJLvMQSL7HESyzxEku8xJqT05lZjqv+Q0NBf0LiJZZ4iSVeYomXWOIllniJJV5iiZdY4iXW8eyuDbXvz4KMPw3xEku8xBIvscRLLPESS7zEEi+xxEss8fJb3z48eye3dgrwjCpeGU8j3pXEu5R4VxLvUuJdSbxLiXcl8S4l3pXEu5R4VxLvUuJdSbxLiXcl8S4l3pXE+0TXpt1P9o/C1TGO6Scr3ouI9xHi3YJ4HyHeLYj3EeLdgngfId4tiPcR4t2CeB8h3i2I9xHi3YJ4HyHeLYj3ES8Y77fC98Kz93nreLw/PhwfW8XbT/Z4xrNfgbbnauaXyVi894hXvBOJV7zvxHuPeMU7kXjF+06894hXvBOJV7zvxHuPeMU7kXjF+06894h3s3jbP2F1uMqzMv7RVb16c9atku3HVvlH1+gsx5Ptn61aQ7wLiFe8vxDvPeIV72niFe8vxHuPeMV7mnjF+wvx3iNe8Z4mXvH+Qrz3iFe8p4lXvO9agKPXVvn5YXS1Obtvyf4sVEGfWa2Kt8qun+JovKOzzIm3+etD/9+8/dyZOz1FvOPEe0u8J4lXvOIdIt5b4j1JvOIV7xDx3hLvSeIVr3iHiPeWeE8Sr3jFO0S8t14m3qafcRVvG/G9cPxEPwqz4/3nh78/nEl2dGx/vuPJ/lX412FPy1i848QrXvGKdw7xjhOveMUr3jnEO0684hWveOcQ7zjxile84p1DvOPEu0W8s5Ot9KNsT/uznMm4mZNxS6Jl0uLth3VcdRvVq3I83n6o/z5MvL8h3lvifROveMXbJV7xLiFe8Yq3Q7ziXUK84hVvh3jFu4R4xSveDvGKd4kz8R4fW8V7Zt1LrqjQkmhfD1ex9T8b1Q+1etqPt0q2H2WVdjVWvAdmueSKCuIVr3jFe4Z4HyFe8YpXvGeI9xHiFa94xXuGeB8hXvGKV7xniPcR4r083iqdMwEez27OLM+Pt5mTcfVZ9fTvwmiyzfF4R4n3wNjpV3SYeMX74NjpV3SYeMX74NjpV3SYeMX74NjpV3SYeMX74NjpV3SYeMX74NjpV3SYeMX74NjpV3SYeMX74NjpV3SYeMX74NjpV3SYeC+Ktzkeb/XrinMCPD62mmXhZXW1TFo6VYD9KKvPqqeV9tLMiXf0q2DxivedeA8Q7yziFe+DxCte8T5MvOJ9kHjFK96HiVe8DxKveMX7MPGK90Hi/YTxNqN/YLT/B0Hb0+PZjY7oz3LJZXWdyfi4L4V+sk0/3tE8K9fc9AfxziJe8YpXvKPEO4t4xSte8Y4S7yziFa94xTtKvLOIV7ziFe8o8c4i3oB4R52JdzTttvuLr61rXcZVqLOT3SrPPvHOJ96LiHc+8V5EvPOJ9yLinU+8FxHvfOK9iHjnE+9FxDufeC8i3vnEexHxzifepapkq89GIzoT4Jmxe8bbnMn4S6Efaj+7KtlN8+wT7zXEu4B4ryHeBcR7DfEuIN5riHcB8V5DvAuI9xriXUC81xDvAuK9hngXEO81xLtAFcfseM+4It6vhdn33GYeTbav2mmVZ6VKdvZ5LyFe8Yp3EfGK97fEK17xLiJe8f6WeMUr3kXEK97fEq94xbuIeMX7W+IVb1i8/SS+F1aEeUy1l2qnx2+jhVB9/Xom6CrZtvs58faT/avr+Ik2IN5b4o0i3lvijSLeW+KNIt5b4o0i3lvijSLeW+KNIt5b4o0i3lvijSLeW+KNMhplTrzts/anVY/fS5VxP+i+Kru2036e/Z9ra/STnd/O04m3Jt4A4q2JN4B4a+ININ6aeAOItybeAOKtiTeAeGviDSDemngDiLcm3gA7RTlqNN7meMZtbD/jph/gGW0vo8mKd1viFe878dbaWPFuS7y1Nla82xJvrY0V77bEW2tjxbst8dbaWPFuS7y1Nla82xJvrY0V77bEW2tjxbuZ48l+O+x4lKO+F0Z337+XNuLPwteuKzIejfcFk23EW2sjxLst8dbaCPFuS7y1NkK82xJvrY0Q77bEW2sjxLst8dbaCPFuS7y1NkK82xJvrY0Q77bEW2sjxLutM/FW812RbGVOvKOr9YO+It7+69O3tqgLiffW6Gri3YJ4b42uJt4tiPfW6Gri3YJ4b42uJt4tiPfW6Gri3YJ4b42uJt4tiPfW6Gri3YJ4b42uJt4tiPfW6Gri3cJobN8Kc2a+VrX79rSK8rjRjL88yctkLF7xxhKveGOJV7yxxCveWOIVbyzxijeWeMUbS7zijSVe8cY6E+9o0Dtl3I/3jH68/YhGzZ7vqsoWEa94Y4lXvLHEK95Y4hVvLPGKN5Z4xRtLvOKNJV7xxhKveF9A9SuM7bMzMz8/3v7LNarNN/r1cF9/lv7M/XjbiLbnMyffnnjvafOJdzPivafNJ97NiPeeNp94NyPee9p84t2MeO9p84l3M+K9p80n3s2I9542n3g3I9572nzi3Yx472nziXcz4h3XX+14lGcy7r8WbVdzTr4p8Y7rrybey4l3XH818V5OvOP6q4n3cuId119NvJcT77j+auK9nHjH9VcT7+XEO66/mngvJ95x/dXEeznxjuuvJt7L/fzQDjwn3qZ6Qa4wO96+agfH85w9yxUnfxrxzlLtQLxLiXeWagfiXUq8s1Q7EO9S4p2l2oF4lxLvLNUOxLuUeGepdiDepcQ7S7UD8S4l3lmqHYh3KfHOUu1AvEv9LKxb7XthTbj/NfslPH7KfoCju6+efuJkG/GuPOVobP3dV0/F+ybetaccja2/++qpeN/Eu/aUo7H1d189Fe+beNeecjS2/u6rp+J9E+/aU47G1t999VS8b+Jde8rR2Pq7r56K9028a085Glt/99VT8b6Jd+0pR2Pr7756Kt438a495Whs/d1XT8X7f66It6kybqpXKifjM3se3WmVsXjFe5p4LyfeWcR7OfHOIt7LiXcW8V5OvLOI93LinUW8lxPvLOK9nHhnEe/lxDuLeF9SP9njI66N9/gs/YzbL4ie2V818/FZuEu84o0lXvHGEq94Y4lXvLHEK95Y4hVvLPGKN5Z4xRtLvOL9RPqRj2Y856vv4y9cP9kzeyGAeIklXmKJl1jiJZZ4iSVeYomXWOIllnh5Af10+l/EVhmPBl2t2ydZfiFeYomXWOIllniJJV5iiZdY4iWWeIklXl7eaMbN8Tz7oa5L9kfBa/FCxEss8RJLvMQSL7HESyzxEku8xBIvscTLCzge2xzHc/pWGB0r45ckXmKJl1jiJZZ4iSVeYomXWOIllniJJV5eShX0HGey87UvA8RLLPESS7zEEi+xxEss8RJLvMQSL7HEy4vq5zlnjZZn9edWmzkZewU+DfESS7zEEi+xxEss8RJLvMQSL7HESyzx8lLWBd3PeE68fGriJZZ4iSVeYomXWOIllniJJV5iiZdY4uWlXJGxeFlCvMQSL7HESyzxEku8xBIvscRLLPESS7zwPz8KkiWCeIklXmKJl1jiJZZ4iSVeYomXWOIllniJVSUrXiKIl1jiJZZ4iSVeYomXWOIllniJJV5iiZcwvgomlniJJV5iiZdY4iWWeIklXmKJl1jiJZZ4AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAuM5/AJWLDpUhaTkHAAAAAElFTkSuQmCC";function nM(){const i=Bn(),{user:e,loading:t}=To(),{token:s,login:o}=Ao(),[l,h]=Qe.useState(null),[m,g]=Qe.useState([]),[p,v]=Qe.useState(!0),[T,A]=Qe.useState(null);Qe.useEffect(()=>{!t&&!e&&i("/login")},[t,e,i]);const O=Qe.useCallback(async()=>{var R;if(!s){v(!1);return}v(!0),A(null);try{const{data:k}=await Ve.get("https://api.spotify.com/v1/me",{headers:{Authorization:`Bearer ${s}`}});h(k);const{data:I}=await Ve.get("https://api.spotify.com/v1/browse/new-releases?limit=",{headers:{Authorization:`Bearer ${s}`}}),B=I.albums.items||[];for(let J=B.length-1;J>0;J--){const q=Math.floor(Math.random()*(J+1));[B[J],B[q]]=[B[q],B[J]]}g(B.slice(0,6))}catch(k){((R=k.response)==null?void 0:R.status)===401?(localStorage.removeItem("spotify_token"),o()):(console.error("Error al cargar datos de Spotify:",k),A(k))}finally{v(!1)}},[s,o]);return Qe.useEffect(()=>{O()},[O]),t||p?N.jsx("p",{className:"text-center mt-5",children:"Cargando dashboard…"}):s?T||!l?N.jsxs("div",{className:"text-center mt-5",children:[N.jsx("p",{children:"Hubo un error al obtener tu perfil de Spotify."}),N.jsx("button",{onClick:o,className:"btn btn-primary",children:"Reintentar Vinculación"})]}):N.jsxs("div",{className:"dashboard-content",children:[N.jsxs("h1",{children:[N.jsx("img",{src:tM,alt:"Mimikyu",className:"mimikyu-icon"}),"Bienvenido/a, ",l.display_name]}),N.jsx("div",{className:"dashboard-controls",style:{marginBottom:"1rem",display:"flex",gap:"1rem"},children:N.jsxs("button",{className:"fancy-button",onClick:O,children:["🔄 Actualizar",N.jsx("span",{className:"hoverEffect",children:N.jsx("div",{})})]})}),N.jsx("h2",{children:"🎲 Playlists Destacadas"}),m.length===0?N.jsx("p",{children:"No hay playlists para mostrar."}):N.jsx("div",{className:"dash-cards-container",children:m.map(R=>{var k;return N.jsxs("div",{className:"dash-card",onClick:()=>window.open(R.external_urls.spotify,"_blank"),children:[N.jsx("img",{src:(k=R.images[0])==null?void 0:k.url,alt:R.name}),N.jsx("h3",{children:R.name}),N.jsx("a",{href:R.external_urls.spotify,target:"_blank",rel:"noreferrer",children:"Escuchar →"})]},R.id)})})]}):N.jsxs("div",{className:"text-center mt-5",children:[N.jsx("p",{children:"No tienes un token de Spotify."}),N.jsx("button",{onClick:o,className:"btn btn-primary",children:"Vincular Spotify"})]})}function iM(){var q,re;const i=Bn(),{user:e,loading:t}=To(),{token:s,login:o}=Ao(),[l,h]=Qe.useState(null),[m,g]=Qe.useState(null),[p,v]=Qe.useState([]),[T,A]=Qe.useState([]),[O,R]=Qe.useState([]),[k,I]=Qe.useState(!0),[B,J]=Qe.useState(null);return Qe.useEffect(()=>{!t&&!e&&i("/login")},[t,e,i]),Qe.useEffect(()=>{if(!s){I(!1);return}I(!0);const ee={Authorization:`Bearer ${s}`};(async()=>{var ae,x;try{const[w,C,M,U]=await Promise.all([Ve.get("https://api.spotify.com/v1/me",{headers:ee}),Ve.get("https://api.spotify.com/v1/me/playlists?limit=1",{headers:ee}),Ve.get("https://api.spotify.com/v1/me/top/artists?limit=5",{headers:ee}),Ve.get("https://api.spotify.com/v1/me/player/recently-played?limit=5",{headers:ee})]);h(w.data),g(C.data.total),v(M.data.items),A(U.data.items);const z={};M.data.items.forEach(ot=>ot.genres.forEach(tt=>z[tt]=(z[tt]||0)+1));const V=Object.entries(z).sort(([,ot],[,tt])=>tt-ot).slice(0,3).map(([ot])=>ot);R(V)}catch(w){((ae=w.response)==null?void 0:ae.status)===401||((x=w.response)==null?void 0:x.status)===403?(localStorage.removeItem("spotify_token"),o()):(console.error("Error Spotify:",w),J(w))}finally{I(!1)}})()},[s,o]),t||k?N.jsx("p",{children:"Cargando perfil…"}):s?B||!l?N.jsxs("div",{children:[N.jsx("p",{children:"Error al cargar tus datos de Spotify."}),N.jsx("button",{onClick:o,children:"Reintentar"})]}):N.jsxs("div",{children:[N.jsxs("h1",{children:["🎧 Hola, ",l.display_name]}),N.jsx("img",{src:((re=(q=l.images)==null?void 0:q[0])==null?void 0:re.url)||"https://www.pokemon.com/static-assets/content-assets/cms2/img/pokedex/full/001.png",alt:"Avatar",width:150,style:{borderRadius:"50%",margin:"1rem 0"}}),N.jsxs("p",{children:["📧 ",l.email]}),N.jsxs("p",{children:["🆔 ",l.id]}),N.jsxs("p",{children:["🎵 Playlists: ",m]}),N.jsx("h3",{children:"👩‍🎤 Tus artistas top"}),N.jsx("ul",{children:p.map(ee=>N.jsx("li",{children:ee.name},ee.id))}),N.jsx("h3",{children:"🎼 Géneros favoritos"}),N.jsx("ul",{children:O.map((ee,ae)=>N.jsx("li",{children:ee},ae))}),N.jsx("h3",{children:"🕘 Reproducciones recientes"}),N.jsx("ul",{children:T.map((ee,ae)=>{var x;return N.jsxs("li",{children:[ee.track.name," — ",(x=ee.track.artists[0])==null?void 0:x.name]},ae)})}),N.jsx("button",{onClick:()=>i("/my-playlists"),children:"📂 Ver mis playlists"}),N.jsx("br",{}),N.jsx("br",{}),N.jsx("a",{href:"https://www.spotify.com/account/profile/",target:"_blank",rel:"noreferrer",children:"✏️ Editar perfil en Spotify"})]}):N.jsxs("div",{children:[N.jsx("p",{children:"No estás vinculado a Spotify."}),N.jsx("button",{onClick:o,children:"Vincular cuenta"})]})}function rM(){const i=Bn(),e=XA(),t=j.useCallback(async()=>{if(Object.keys(localStorage).filter(l=>l.startsWith("firebase")).forEach(l=>localStorage.removeItem(l)),sessionStorage.clear(),window.indexedDB){const l=indexedDB.deleteDatabase("firebaseLocalStorageDb");l.onsuccess=()=>console.log("✅ IndexedDB limpiada"),l.onerror=()=>console.warn("⚠️ No se pudo limpiar IndexedDB")}},[]),s=j.useCallback(()=>{const l=window.open("https://accounts.google.com/Logout","_blank","width=500,height=600"),h=window.open("https://accounts.spotify.com/logout","_blank","width=500,height=600");setTimeout(()=>{l==null||l.close(),h==null||h.close()},3e3)},[]);return j.useCallback(async()=>{try{await Ex(e),await t(),s(),i("/login")}catch(l){console.error("❌ Error cerrando sesión:",l)}},[e,t,s,i])}function sM(){const[i,e]=j.useState(!0),t=rM();return i?N.jsxs("div",{children:[N.jsx("p",{children:"¿Cerrar sesión?"}),N.jsx("button",{onClick:()=>{e(!1),t()},children:"✅ Sí, cerrar sesión"}),N.jsx("button",{onClick:()=>window.location.href="/dashboard",children:"❌ No, volver"})]}):N.jsx("p",{children:"Cerrando sesión…"})}function aM(){return N.jsx("div",{children:"PublicProfileView"})}function oM({children:i,onUserLoggedIn:e,onUserNotLoggedIn:t,onUserNotRegistered:s}){const o=Bn(),[l,h]=j.useState(null),[m,g]=j.useState(0);return j.useEffect(()=>{g(1),Gh(yu,async p=>{p?await XV(p.uid)?e(p):s(p):(t(),console.log("No user is signed in"))})},[o,e,t,s]),N.jsx("div",{children:i})}function lM(){const i=Bn(),[e,t]=j.useState(0),[s,o]=j.useState(null),[l,h]=j.useState(""),[m,g]=j.useState(null);j.useEffect(()=>{const re=new URLSearchParams(window.location.search).get("code"),ee=localStorage.getItem("spotify_code_verifier");if(re&&ee)(async()=>{try{const x=new URLSearchParams({grant_type:"authorization_code",code:re,redirect_uri:v,client_id:p,code_verifier:ee}),{data:w}=await Ve.post("https://accounts.spotify.com/api/token",x.toString(),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}),C=w.access_token;localStorage.setItem("spotify_token",C),g(C),console.log("✅ Access token obtenido:",C),A(C),window.history.replaceState({},document.title,v)}catch(x){console.error("❌ Error al intercambiar el código por el token:",x.response||x)}})();else{const ae=localStorage.getItem("spotify_token");ae&&g(ae)}},[]);const p="c064b73182fe4b309592c4d6a2c10f26",v="https://pokemusic-66466.web.app/choose-username";async function T(){const q=I(128),re=await B(q);localStorage.setItem("spotify_code_verifier",q);const ee=new URLSearchParams({client_id:p,response_type:"code",redirect_uri:v,code_challenge_method:"S256",code_challenge:re,scope:"user-read-email playlist-read-private user-top-read user-read-recently-played"});window.location.href=`https://accounts.spotify.com/authorize?${ee.toString()}`}async function A(q){var re;console.log("🚀 Entrando a saveSpotifyToken con token:",q);try{const ee=await Ve.get("https://api.spotify.com/v1/me",{headers:{Authorization:`Bearer ${q}`}}),ae=ee.data.id;Gh(yu,async x=>{if(x){const w=Sg(Dg,"users",x.uid),C=await xg(w),M={spotifyId:ae,spotifyToken:q,spotifyName:ee.data.display_name,linkedAt:new Date};C.exists()?(await wb(w,M),console.log("✅ Spotify token actualizado exitosamente")):(await bb(w,{username:"",...M}),console.log("✅ Documento creado con token de Spotify"))}})}catch(ee){((re=ee.response)==null?void 0:re.status)===401?(console.warn("⛔ Token expirado. Redirigiendo a login..."),localStorage.removeItem("spotify_token"),T()):console.error("❌ Error al guardar token de Spotify:",ee)}}function O(q){i("/dashboard")}function R(q){i("/login")}function k(q){o(q),t(3)}function I(q){const re="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let ee="";const ae=window.crypto.getRandomValues(new Uint32Array(q));for(let x=0;x<q;x++)ee+=re[ae[x]%re.length];return ee}async function B(q){const ee=new TextEncoder().encode(q),ae=await window.crypto.subtle.digest("SHA-256",ee);return btoa(String.fromCharCode(...new Uint8Array(ae))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function J(){}return e===3?N.jsxs("div",{children:[N.jsxs("h1",{children:["Bienvenido ",s.displayName]}),N.jsx("div",{children:N.jsx("button",{onClick:J,children:"Continuar"})}),m?N.jsx("p",{children:"🎶 Cuenta de Spotify vinculada correctamente"}):N.jsx("button",{onClick:T,children:"Vincular cuenta de Spotify"})]}):N.jsx(oM,{onUserLoggedIn:O,onUserNotLoggedIn:R,onUserNotRegistered:k,children:N.jsx("div",{children:"Loading..."})})}function uM(){const i=Bn();return j.useEffect(()=>{var s;const t=(s=window.location.hash.substring(1).split("&").find(o=>o.startsWith("access_token")))==null?void 0:s.split("=")[1];t?(localStorage.setItem("spotify_token",t),console.log("🎧 Token guardado:",t)):console.warn("No se encontró el token en el hash"),i("/spotify-login")},[]),N.jsx("p",{children:"Procesando login con Spotify..."})}function cM(){const i=Bn(),{user:e,loading:t}=To(),{token:s,login:o}=Ao(),[l,h]=Qe.useState([]),[m,g]=Qe.useState(!0),[p,v]=Qe.useState(null);return Qe.useEffect(()=>{!t&&!e&&i("/login")},[t,e,i]),Qe.useEffect(()=>{if(!s){g(!1);return}g(!0),v(null),(async()=>{var T,A;try{const{data:O}=await Ve.get("https://api.spotify.com/v1/me/playlists",{headers:{Authorization:`Bearer ${s}`}});h(O.items)}catch(O){((T=O.response)==null?void 0:T.status)===401||((A=O.response)==null?void 0:A.status)===403?(localStorage.removeItem("spotify_token"),o()):(console.error("Error al cargar playlists:",O),v(O))}finally{g(!1)}})()},[s,o]),t||m?N.jsx("p",{children:"Cargando playlists…"}):s?p?N.jsxs("div",{children:[N.jsx("p",{children:"Error al cargar tus playlists."}),N.jsx("button",{onClick:o,children:"Reintentar vinculación"})]}):N.jsxs("div",{children:[N.jsx("h1",{children:"🎵 Mis playlists"}),l.length===0?N.jsx("p",{children:"No se encontraron playlists."}):l.map(T=>{var A,O;return N.jsxs("div",{style:{marginBottom:20},children:[N.jsx("img",{src:((O=(A=T.images)==null?void 0:A[0])==null?void 0:O.url)||"https://via.placeholder.com/150",alt:T.name,width:150}),N.jsx("h3",{children:T.name}),N.jsx("a",{href:T.external_urls.spotify,target:"_blank",rel:"noreferrer",children:"▶️ Ver en Spotify"}),N.jsx("br",{}),N.jsx(Rp,{to:`/playlist/${T.id}`,children:"🧐 Ver detalles"})]},T.id)})]}):N.jsxs("div",{children:[N.jsx("p",{children:"No estás vinculado a Spotify."}),N.jsx("button",{onClick:o,children:"Vincular cuenta"})]})}function hM(){const[i,e]=j.useState([]),[t,s]=j.useState(""),[o,l]=j.useState([]),[h,m]=j.useState({}),[g,p]=j.useState(!1),{token:v,login:T}=Ao(),A=I=>{const B=I.slice();for(let J=B.length-1;J>0;J--){const q=Math.floor(Math.random()*(J+1));[B[J],B[q]]=[B[q],B[J]]}return B};j.useEffect(()=>{if(!v)return;(async()=>{var B,J;p(!0);try{const re=((B=(await Ve.get("https://api.spotify.com/v1/search",{headers:{Authorization:`Bearer ${v}`},params:{q:"top",type:"artist",limit:50}})).data.artists)==null?void 0:B.items)||[],ee=A(re).slice(0,20).map(M=>{var U,z;return{id:M.id,name:M.name,img:((z=(U=M.images)==null?void 0:U[0])==null?void 0:z.url)||null,profileUrl:M.external_urls.spotify}}),ae=ee.map(M=>M.id).join(","),w=(await Ve.get("https://api.spotify.com/v1/me/following/contains",{headers:{Authorization:`Bearer ${v}`},params:{type:"artist",ids:ae}})).data,C={};ee.forEach((M,U)=>{C[M.id]=w[U]}),m(C),e(ee)}catch(q){console.error("Error cargando artistas:",q),((J=q.response)==null?void 0:J.status)===401&&T()}finally{p(!1)}})()},[v]);const O=async I=>{var B;if(I.preventDefault(),!v)return T();p(!0);try{const q=((B=(await Ve.get("https://api.spotify.com/v1/search",{headers:{Authorization:`Bearer ${v}`},params:{q:t,type:"artist",limit:10}})).data.artists)==null?void 0:B.items)||[];l(q.map(re=>{var ee,ae;return{id:re.id,name:re.name,img:((ae=(ee=re.images)==null?void 0:ee[0])==null?void 0:ae.url)||null,profileUrl:re.external_urls.spotify}}))}catch(J){console.error("Error en búsqueda de artistas:",J)}finally{p(!1)}},R=async I=>{try{await Ve.put("https://api.spotify.com/v1/me/following",{},{headers:{Authorization:`Bearer ${v}`},params:{type:"artist",ids:I}}),m(B=>({...B,[I]:!0}))}catch(B){console.error("Error siguiendo artista:",B)}},k=async I=>{try{await Ve.delete("https://api.spotify.com/v1/me/following",{headers:{Authorization:`Bearer ${v}`},params:{type:"artist",ids:I}}),m(B=>({...B,[I]:!1}))}catch(B){console.error("Error dejando de seguir artista:",B)}};return v?N.jsxs("div",{style:{padding:16},children:[N.jsx("h1",{children:"🎶 Descubre Artistas"}),N.jsx("button",{onClick:()=>window.location.reload(),disabled:g,style:{marginBottom:16},children:"🔄 Aleatorio"}),g?N.jsx("p",{children:"Cargando…"}):N.jsx("ul",{children:i.map(I=>N.jsxs("li",{style:{margin:"1rem 0"},children:[N.jsx("img",{src:I.img||"https://placehold.co/64",alt:I.name,width:64,height:64,style:{borderRadius:32,marginRight:12}}),N.jsx("strong",{children:I.name}),N.jsx("br",{}),N.jsx("a",{href:I.profileUrl,target:"_blank",rel:"noreferrer",children:"Ver en Spotify"}),N.jsx("br",{}),N.jsx("button",{onClick:()=>h[I.id]?k(I.id):R(I.id),children:h[I.id]?"Dejar de seguir":"Seguir"})]},I.id))}),N.jsx("hr",{style:{margin:"2rem 0"}}),N.jsxs("form",{onSubmit:O,children:[N.jsx("input",{type:"text",value:t,placeholder:"Buscar artistas",onChange:I=>s(I.target.value)}),N.jsx("button",{type:"submit",disabled:g,children:"Buscar"})]}),o.length>0&&N.jsx("ul",{style:{marginTop:16},children:o.map(I=>N.jsxs("li",{children:[N.jsx("strong",{children:I.name})," ",N.jsx("a",{href:I.profileUrl,target:"_blank",rel:"noreferrer",children:"Ver en Spotify"})]},I.id))})]}):N.jsxs("div",{style:{textAlign:"center",marginTop:80},children:[N.jsx("h2",{children:"🔒 Vincula tu cuenta de Spotify para continuar"}),N.jsx("button",{onClick:T,children:"Login Spotify"})]})}function fM(){var q,re,ee;const{playlistId:i}=B1(),e=Bn(),{user:t,loading:s}=To(),{token:o,login:l}=Ao(),[h,m]=Qe.useState(null),[g,p]=Qe.useState(!0),[v,T]=Qe.useState(null),[A,O]=Qe.useState(null),[R,k]=Qe.useState(null);Qe.useEffect(()=>{!s&&!t&&e("/login")},[s,t,e]),Qe.useEffect(()=>{if(!o){p(!1);return}p(!0),T(null),(async()=>{var ae,x;try{const{data:w}=await Ve.get(`https://api.spotify.com/v1/playlists/${i}?market=US`,{headers:{Authorization:`Bearer ${o}`}});m(w)}catch(w){((ae=w.response)==null?void 0:ae.status)===401||((x=w.response)==null?void 0:x.status)===403?(localStorage.removeItem("spotify_token"),l()):(console.error("Error fetching playlist:",w),T(w))}finally{p(!1)}})()},[i,o,l]);function I(ae){if(!ae.preview_url)return;if(A&&R===ae.id){A.pause(),k(null);return}A&&A.pause();const x=new Audio(ae.preview_url);x.play(),O(x),k(ae.id),x.onended=()=>k(null)}if(s||g)return N.jsx("p",{children:"Cargando playlist…"});if(!o)return N.jsxs("div",{children:[N.jsx("p",{children:"❓ Necesitas vincular tu cuenta de Spotify."}),N.jsx("button",{onClick:l,children:"Vincular cuenta"})]});if(v)return N.jsxs("div",{children:[N.jsx("p",{children:"Error al cargar la playlist."}),N.jsx("button",{onClick:l,children:"Reintentar"})]});if(!h)return N.jsx("p",{children:"No se encontró la playlist."});const B=h.tracks.items.map(ae=>ae.track).filter(Boolean),J=B.filter(ae=>ae.preview_url).length;return N.jsxs("div",{children:[N.jsx("button",{onClick:()=>e(-1),children:"← Volver"}),N.jsx("img",{src:((re=(q=h.images)==null?void 0:q[0])==null?void 0:re.url)||"https://placehold.co/300x300?text=Sin+imagen",alt:"Cover",width:200}),N.jsx("h1",{children:h.name}),N.jsx("p",{children:h.description||"Sin descripción disponible"}),N.jsxs("p",{children:["👥 Seguidores: ",((ee=h.followers)==null?void 0:ee.total)??0]}),N.jsxs("p",{children:["🎶 Total canciones: ",h.tracks.total]}),N.jsxs("p",{children:["🎧 Canciones con preview: ",J,"/",h.tracks.items.length]}),N.jsx("ul",{children:B.map(ae=>{var x,w,C;return N.jsxs("li",{style:{marginBottom:"1rem"},children:[N.jsx("strong",{children:ae.name})," — ",((w=(x=ae.artists)==null?void 0:x[0])==null?void 0:w.name)||"Desconocido",N.jsx("br",{}),"Álbum: ",((C=ae.album)==null?void 0:C.name)||"Desconocido",N.jsx("br",{}),"⏱"," ",`${Math.floor(ae.duration_ms/6e4)}:${String(Math.floor(ae.duration_ms%6e4/1e3)).padStart(2,"0")}`,N.jsx("br",{}),ae.preview_url?N.jsx("button",{onClick:()=>I(ae),children:R===ae.id?"⏸️ Pausar":"▶️ Reproducir preview"}):N.jsx("iframe",{title:`Spotify embed ${ae.id}`,src:`https://open.spotify.com/embed/track/${ae.id}`,width:"300",height:"80",frameBorder:"0",allow:"encrypted-media",style:{marginTop:8}})]},ae.id)})})]})}function dM(){return N.jsx(CR,{children:N.jsxs(iR,{children:[N.jsxs(Zt,{path:"/",element:N.jsx(gC,{}),children:[N.jsx(Zt,{index:!0,element:N.jsx(Pm,{})}),N.jsx(Zt,{path:"home",element:N.jsx(Pm,{})}),N.jsx(Zt,{path:"dashboard",element:N.jsx(nM,{})}),N.jsx(Zt,{path:"profile",element:N.jsx(iM,{})}),N.jsx(Zt,{path:"signout",element:N.jsx(sM,{})}),N.jsx(Zt,{path:"my-playlists",element:N.jsx(cM,{})}),N.jsx(Zt,{path:"social",element:N.jsx(hM,{})}),N.jsx(Zt,{path:"playlist/:playlistId",element:N.jsx(fM,{})}),N.jsx(Zt,{path:"u/:username",element:N.jsx(aM,{})}),N.jsx(Zt,{path:"choose-username",element:N.jsx(lM,{})})]}),N.jsx(Zt,{path:"login",element:N.jsx(QV,{})}),N.jsx(Zt,{path:"spotify-login",element:N.jsx(YI,{})}),N.jsx(Zt,{path:"callback",element:N.jsx(uM,{})}),N.jsx(Zt,{path:"*",element:N.jsx(Pm,{})})]})})}const mM=l1.createRoot(document.getElementById("root"));mM.render(N.jsx(dM,{}));
